"use strict";var e=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var n,r=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t;e=e||{},t||(t=void 0!==e?e:{});var r,a={};for(r in t)t.hasOwnProperty(r)&&(a[r]=t[r]);function i(e,t){throw t}var o="";document.currentScript&&(o=document.currentScript.src),n&&(o=n),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):"";var s=t.print||console.log.bind(console),_=t.printErr||console.warn.bind(console);for(r in a)a.hasOwnProperty(r)&&(t[r]=a[r]);a=null,t.quit&&(i=t.quit);var c,u,f=0;t.wasmBinary&&(c=t.wasmBinary),t.noExitRuntime&&(u=t.noExitRuntime),"object"!=typeof WebAssembly&&_("no native wasm support detected");var l,p,d,y,h,v,m=new WebAssembly.Table({initial:321,maximum:321,element:"anyfunc"}),w=!1,b="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function E(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&b)return b.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var i=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function g(e){p=e,t.HEAP8=d=new Int8Array(e),t.HEAP16=h=new Int16Array(e),t.HEAP32=v=new Int32Array(e),t.HEAPU8=y=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var P=t.INITIAL_MEMORY||16777216;function A(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n();else{var r=n.ub;"number"==typeof r?void 0===n.bb?t.dynCall_v(r):t.dynCall_vi(r,n.bb):r(void 0===n.bb?null:n.bb)}}}(l=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:P/65536}))&&(p=l.buffer),P=p.byteLength,g(p),v[16576]=5309344;var T=[],x=[],S=[],k=[];function B(){var e=t.preRun.shift();T.unshift(e)}var I=Math.abs,L=Math.ceil,R=Math.floor,M=Math.min,C=0,N=null;function K(e){throw t.onAbort&&t.onAbort(e),s(e),_(e),w=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function z(){var e=J;return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}t.preloadedImages={},t.preloadedAudios={};var H,U,J="libpythia.browser.wasm";if(!z()){var Y=J;J=t.locateFile?t.locateFile(Y,o):o+Y}function O(){try{if(c)return new Uint8Array(c);throw"both async and sync fetching of the wasm failed"}catch(e){K(e)}}function j(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function D(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=j(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function W(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function F(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function $(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=j(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}x.push({ub:function(){De()}});var V=[];function Q(e,t){V[e]={input:[],Na:[],Va:t},Ee(e,q)}var q={open:function(e){var t=V[e.node.$a];if(!t)throw new se(43);e.Ma=t,e.seekable=!1},close:function(e){e.Ma.Va.flush(e.Ma)},flush:function(e){e.Ma.Va.flush(e.Ma)},read:function(e,t,n,r){if(!e.Ma||!e.Ma.Va.lb)throw new se(60);for(var a=0,i=0;i<r;i++){try{var o=e.Ma.Va.lb(e.Ma)}catch(e){throw new se(29)}if(void 0===o&&0===a)throw new se(6);if(null==o)break;a++,t[n+i]=o}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.Ma||!e.Ma.Va.eb)throw new se(60);try{for(var a=0;a<r;a++)e.Ma.Va.eb(e.Ma,t[n+a])}catch(e){throw new se(29)}return r&&(e.node.timestamp=Date.now()),a}},X={lb:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;for(var n=0,r=0;r<t.length;++r){var a=t.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++r)),127>=a?++n:n=2047>=a?n+2:65535>=a?n+3:n+4}var i=(n=Array(n+1)).length;if(r=0,0<i){a=r,i=r+i-1;for(var o=0;o<t.length;++o){var s=t.charCodeAt(o);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++o)),127>=s){if(r>=i)break;n[r++]=s}else{if(2047>=s){if(r+1>=i)break;n[r++]=192|s>>6}else{if(65535>=s){if(r+2>=i)break;n[r++]=224|s>>12}else{if(r+3>=i)break;n[r++]=240|s>>18,n[r++]=128|s>>12&63}n[r++]=128|s>>6&63}n[r++]=128|63&s}}n[r]=0,t=r-a}else t=0;n.length=t,e.input=n}return e.input.shift()},eb:function(e,t){null===t||10===t?(s(E(e.Na,0)),e.Na=[]):0!=t&&e.Na.push(t)},flush:function(e){e.Na&&0<e.Na.length&&(s(E(e.Na,0)),e.Na=[])}},Z={eb:function(e,t){null===t||10===t?(_(E(e.Na,0)),e.Na=[]):0!=t&&e.Na.push(t)},flush:function(e){e.Na&&0<e.Na.length&&(_(E(e.Na,0)),e.Na=[])}},G={Oa:null,Qa:function(){return G.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576==(61440&n)||4096==(61440&n))throw new se(63);return G.Oa||(G.Oa={dir:{node:{Ta:G.Ja.Ta,Pa:G.Ja.Pa,Wa:G.Ja.Wa,Ya:G.Ja.Ya,qb:G.Ja.qb,sb:G.Ja.sb,rb:G.Ja.rb,pb:G.Ja.pb,ab:G.Ja.ab},stream:{Ua:G.Ka.Ua}},file:{node:{Ta:G.Ja.Ta,Pa:G.Ja.Pa},stream:{Ua:G.Ka.Ua,read:G.Ka.read,write:G.Ka.write,gb:G.Ka.gb,mb:G.Ka.mb,ob:G.Ka.ob}},link:{node:{Ta:G.Ja.Ta,Pa:G.Ja.Pa,Xa:G.Ja.Xa},stream:{}},hb:{node:{Ta:G.Ja.Ta,Pa:G.Ja.Pa},stream:be}}),16384==(61440&(n=pe(e,t,n,r)).mode)?(n.Ja=G.Oa.dir.node,n.Ka=G.Oa.dir.stream,n.Ia={}):32768==(61440&n.mode)?(n.Ja=G.Oa.file.node,n.Ka=G.Oa.file.stream,n.La=0,n.Ia=null):40960==(61440&n.mode)?(n.Ja=G.Oa.link.node,n.Ka=G.Oa.link.stream):8192==(61440&n.mode)&&(n.Ja=G.Oa.hb.node,n.Ka=G.Oa.hb.stream),n.timestamp=Date.now(),e&&(e.Ia[t]=n),n},Gb:function(e){if(e.Ia&&e.Ia.subarray){for(var t=[],n=0;n<e.La;++n)t.push(e.Ia[n]);return t}return e.Ia},Hb:function(e){return e.Ia?e.Ia.subarray?e.Ia.subarray(0,e.La):new Uint8Array(e.Ia):new Uint8Array(0)},ib:function(e,t){var n=e.Ia?e.Ia.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.Ia,e.Ia=new Uint8Array(t),0<e.La&&e.Ia.set(n.subarray(0,e.La),0))},yb:function(e,t){if(e.La!=t)if(0==t)e.Ia=null,e.La=0;else{if(!e.Ia||e.Ia.subarray){var n=e.Ia;e.Ia=new Uint8Array(t),n&&e.Ia.set(n.subarray(0,Math.min(t,e.La)))}else if(e.Ia||(e.Ia=[]),e.Ia.length>t)e.Ia.length=t;else for(;e.Ia.length<t;)e.Ia.push(0);e.La=t}},Ja:{Ta:function(e){var t={};return t.Fb=8192==(61440&e.mode)?e.id:1,t.Jb=e.id,t.mode=e.mode,t.Lb=1,t.uid=0,t.Ib=0,t.$a=e.$a,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.La:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.Cb=new Date(e.timestamp),t.Kb=new Date(e.timestamp),t.Eb=new Date(e.timestamp),t.tb=4096,t.Db=Math.ceil(t.size/t.tb),t},Pa:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&G.yb(e,t.size)},Wa:function(){throw _e[44]},Ya:function(e,t,n,r){return G.createNode(e,t,n,r)},qb:function(e,t,n){if(16384==(61440&e.mode)){try{var r=le(t,n)}catch(e){}if(r)for(var a in r.Ia)throw new se(55)}delete e.parent.Ia[e.name],e.name=n,t.Ia[n]=e,e.parent=t},sb:function(e,t){delete e.Ia[t]},rb:function(e,t){var n,r=le(e,t);for(n in r.Ia)throw new se(55);delete e.Ia[t]},pb:function(e){var t,n=[".",".."];for(t in e.Ia)e.Ia.hasOwnProperty(t)&&n.push(t);return n},ab:function(e,t,n){return(e=G.createNode(e,t,41471,0)).link=n,e},Xa:function(e){if(40960!=(61440&e.mode))throw new se(28);return e.link}},Ka:{read:function(e,t,n,r,a){var i=e.node.Ia;if(a>=e.node.La)return 0;if(8<(e=Math.min(e.node.La-a,r))&&i.subarray)t.set(i.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=i[a+r];return e},write:function(e,t,n,r,a,i){if(t.buffer===d.buffer&&(i=!1),!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.Ia||e.Ia.subarray)){if(i)return e.Ia=t.subarray(n,n+r),e.La=r;if(0===e.La&&0===a)return e.Ia=t.slice(n,n+r),e.La=r;if(a+r<=e.La)return e.Ia.set(t.subarray(n,n+r),a),r}if(G.ib(e,a+r),e.Ia.subarray&&t.subarray)e.Ia.set(t.subarray(n,n+r),a);else for(i=0;i<r;i++)e.Ia[a+i]=t[n+i];return e.La=Math.max(e.La,a+r),r},Ua:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.node.mode)&&(t+=e.node.La),0>t)throw new se(28);return t},gb:function(e,t,n){G.ib(e.node,t+n),e.node.La=Math.max(e.node.La,t+n)},mb:function(e,t,n,r,a,i,o){if(32768!=(61440&e.node.mode))throw new se(43);if(e=e.node.Ia,2&o||e.buffer!==t.buffer){if((0<a||a+r<e.length)&&(e=e.subarray?e.subarray(a,a+r):Array.prototype.slice.call(e,a,a+r)),a=!0,o=t.buffer==d.buffer,!(r=Fe(r)))throw new se(48);(o?d:t).set(e,r)}else a=!1,r=e.byteOffset;return{Nb:r,Bb:a}},ob:function(e,t,n,r,a){if(32768!=(61440&e.node.mode))throw new se(43);return 2&a||G.Ka.write(e,t,0,r,n,!1),0}}},ee=null,te={},ne=[],re=1,ae=null,ie=!0,oe={},se=null,_e={};function ce(e,t){if(t=t||{},!(e=$("/",e)))return{path:"",node:null};var n,r={kb:!0,fb:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.fb)throw new se(32);e=j(e.split("/").filter((function(e){return!!e})),!1);var a=ee;for(r="/",n=0;n<e.length;n++){var i=n===e.length-1;if(i&&t.parent)break;if(a=le(a,e[n]),r=D(r+"/"+e[n]),a.Za&&(!i||i&&t.kb)&&(a=a.Za.root),!i||t.jb)for(i=0;40960==(61440&a.mode);)if(a=Se(r),a=ce(r=$(W(r),a),{fb:t.fb}).node,40<i++)throw new se(32)}return{path:r,node:a}}function ue(e){for(var t;;){if(e===e.parent)return e=e.Qa.nb,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function fe(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%ae.length}function le(e,t){var n;if(n=(n=he(e,"x"))?n:e.Ja.Wa?0:2)throw new se(n,e);for(n=ae[fe(e.id,t)];n;n=n.xb){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.Ja.Wa(e,t)}function pe(e,t,n,r){return t=fe((e=new Ye(e,t,n,r)).parent.id,e.name),e.xb=ae[t],ae[t]=e}var de={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function ye(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function he(e,t){return ie||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2}function ve(e,t){try{return le(e,t),20}catch(e){}return he(e,"wx")}function me(e,t){Ce||((Ce=function(){}).prototype={});var n,r=new Ce;for(n in e)r[n]=e[n];return e=r,t=function(e){for(e=e||0;e<=4096;e++)if(!ne[e])return e;throw new se(33)}(t),e.Sa=t,ne[t]=e}var we,be={open:function(e){e.Ka=te[e.node.$a].Ka,e.Ka.open&&e.Ka.open(e)},Ua:function(){throw new se(70)}};function Ee(e,t){te[e]={Ka:t}}function ge(e,t){var n="/"===t,r=!t;if(n&&ee)throw new se(10);if(!n&&!r){var a=ce(t,{kb:!1});if(t=a.path,(a=a.node).Za)throw new se(10);if(16384!=(61440&a.mode))throw new se(54)}t={type:e,Mb:{},nb:t,wb:[]},(e=e.Qa(t)).Qa=t,t.root=e,n?ee=e:a&&(a.Za=t,a.Qa&&a.Qa.wb.push(t))}function Pe(e,t,n){var r=ce(e,{parent:!0}).node;if(!(e=F(e))||"."===e||".."===e)throw new se(28);var a=ve(r,e);if(a)throw new se(a);if(!r.Ja.Ya)throw new se(63);return r.Ja.Ya(r,e,t,n)}function Ae(e){Pe(e,16895,0)}function Te(e,t,n){void 0===n&&(n=t,t=438),Pe(e,8192|t,n)}function xe(e,t){if(!$(e))throw new se(44);var n=ce(t,{parent:!0}).node;if(!n)throw new se(44);var r=ve(n,t=F(t));if(r)throw new se(r);if(!n.Ja.ab)throw new se(63);n.Ja.ab(n,t,e)}function Se(e){if(!(e=ce(e).node))throw new se(44);if(!e.Ja.Xa)throw new se(28);return $(ue(e.parent),e.Ja.Xa(e))}function ke(e,n,r,a){if(""===e)throw new se(44);if("string"==typeof n){var i=de[n];if(void 0===i)throw Error("Unknown file open mode: "+n);n=i}if(r=64&n?4095&(void 0===r?438:r)|32768:0,"object"==typeof e)var o=e;else{e=D(e);try{o=ce(e,{jb:!(131072&n)}).node}catch(e){}}if(i=!1,64&n)if(o){if(128&n)throw new se(20)}else o=Pe(e,r,0),i=!0;if(!o)throw new se(44);if(8192==(61440&o.mode)&&(n&=-513),65536&n&&16384!=(61440&o.mode))throw new se(54);if(!i&&(r=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==ye(n)||512&n)?31:he(o,ye(n)):44))throw new se(r);if(512&n){var s;if(!(s="string"==typeof(r=o)?ce(r,{jb:!0}).node:r).Ja.Pa)throw new se(63);if(16384==(61440&s.mode))throw new se(31);if(32768!=(61440&s.mode))throw new se(28);if(r=he(s,"w"))throw new se(r);s.Ja.Pa(s,{size:0,timestamp:Date.now()})}n&=-641,(a=me({node:o,path:ue(o),flags:n,seekable:!0,position:0,Ka:o.Ka,Ab:[],error:!1},a)).Ka.open&&a.Ka.open(a),!t.logReadFiles||1&n||(Ne||(Ne={}),e in Ne||(Ne[e]=1,_("FS.trackingDelegate error on read file: "+e)));try{oe.onOpenFile&&(o=0,1!=(2097155&n)&&(o|=1),0!=(2097155&n)&&(o|=2),oe.onOpenFile(e,o))}catch(t){_("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return a}function Be(e,t,n){if(null===e.Sa)throw new se(8);if(!e.seekable||!e.Ka.Ua)throw new se(70);if(0!=n&&1!=n&&2!=n)throw new se(28);e.position=e.Ka.Ua(e,t,n),e.Ab=[]}function Ie(e,t,n,r){var a=d;if(0>n||0>r)throw new se(28);if(null===e.Sa)throw new se(8);if(1==(2097155&e.flags))throw new se(8);if(16384==(61440&e.node.mode))throw new se(31);if(!e.Ka.read)throw new se(28);var i=void 0!==r;if(i){if(!e.seekable)throw new se(70)}else r=e.position;return t=e.Ka.read(e,a,t,n,r),i||(e.position+=t),t}function Le(){se||((se=function(e,t){this.node=t,this.zb=function(e){this.Ra=e},this.zb(e),this.message="FS error"}).prototype=Error(),se.prototype.constructor=se,[44].forEach((function(e){_e[e]=new se(e),_e[e].stack="<generic error, no stack>"})))}function Re(e,t,n){e=D("/dev/"+e);var r=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}(!!t,!!n);Me||(Me=64);var a=Me++<<8|0;Ee(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,r,a){for(var i=0,o=0;o<a;o++){try{var s=t()}catch(e){throw new se(29)}if(void 0===s&&0===i)throw new se(6);if(null==s)break;i++,n[r+o]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,a){for(var i=0;i<a;i++)try{n(t[r+i])}catch(e){throw new se(29)}return a&&(e.node.timestamp=Date.now()),i}}),Te(e,r,a)}var Me,Ce,Ne,Ke={},ze=void 0;function He(){return v[(ze+=4)-4>>2]}function Ue(e){if(!(e=ne[e]))throw new se(8);return e}var Je=0;function Ye(e,t,n,r){e||(e=this),this.parent=e,this.Qa=e.Qa,this.Za=null,this.id=re++,this.name=t,this.mode=n,this.Ja={},this.Ka={},this.$a=r}Object.defineProperties(Ye.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Le(),ae=Array(4096),ge(G,"/"),Ae("/tmp"),Ae("/home"),Ae("/home/web_user"),function(){if(Ae("/dev"),Ee(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),Te("/dev/null",259),Q(1280,X),Q(1536,Z),Te("/dev/tty",1280),Te("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};t||(t=function(){K("random_device")}),Re("random",t),Re("urandom",t),Ae("/dev/shm"),Ae("/dev/shm/tmp")}(),Ae("/proc"),Ae("/proc/self"),Ae("/proc/self/fd"),ge({Qa:function(){var e=pe("/proc/self","fd",16895,73);return e.Ja={Wa:function(e,t){var n=ne[+t];if(!n)throw new se(8);return(e={parent:null,Qa:{nb:"fake"},Ja:{Xa:function(){return n.path}}}).parent=e}},e}},"/proc/self/fd");var Oe={w:function(e,n,r){ze=r;try{var a=Ue(e);switch(n){case 0:var i=He();return 0>i?-28:ke(a.path,a.flags,0,i).Sa;case 1:case 2:return 0;case 3:return a.flags;case 4:return i=He(),a.flags|=i,0;case 12:return i=He(),h[i+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return t.___errno_location&&(v[t.___errno_location()>>2]=28),-1;default:return-28}}catch(e){return void 0!==Ke&&e instanceof se||K(e),-e.Ra}},D:function(e,t,n){try{return Ie(Ue(e),t,n)}catch(e){return void 0!==Ke&&e instanceof se||K(e),-e.Ra}},z:function(e,t,n){ze=n;try{return ke(e?E(y,e,void 0):"",t,He()).Sa}catch(e){return void 0!==Ke&&e instanceof se||K(e),-e.Ra}},C:function(e,t,n){ze=n;try{var r=Ue(e);switch(t){case 21509:case 21505:return r.Ma?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.Ma?0:-59;case 21519:if(!r.Ma)return-59;var a=He();return v[a>>2]=0;case 21520:return r.Ma?-28:-59;case 21531:if(e=a=He(),!r.Ka.vb)throw new se(59);return r.Ka.vb(r,t,e);case 21523:case 21524:return r.Ma?0:-59;default:K("bad ioctl syscall "+t)}}catch(e){return void 0!==Ke&&e instanceof se||K(e),-e.Ra}},t:function(){K()},h:function(e,t){throw We(e,t||1),"longjmp"},E:function(e,t,n){y.copyWithin(e,t,t+n)},F:function(e){var t=y.length;if(2147418112<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296),0<(r=Math.max(16777216,e,r))%65536&&(r+=65536-r%65536);e:{try{l.grow(Math.min(2147418112,r)-p.byteLength+65535>>16),g(l.buffer);var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},m:function(e){!u&&(w=!0,t.onExit)&&t.onExit(e),i(e,new ft(e))},s:function(e){try{var t=Ue(e);if(null===t.Sa)throw new se(8);t.cb&&(t.cb=null);try{t.Ka.close&&t.Ka.close(t)}catch(e){throw e}finally{ne[t.Sa]=null}return t.Sa=null,0}catch(e){return void 0!==Ke&&e instanceof se||K(e),e.Ra}},B:function(e,t,n,r){try{e:{for(var a=Ue(e),i=e=0;i<n;i++){var o=v[t+(8*i+4)>>2],s=Ie(a,v[t+8*i>>2],o,void 0);if(0>s){var _=-1;break e}if(e+=s,s<o)break}_=e}return v[r>>2]=_,0}catch(e){return void 0!==Ke&&e instanceof se||K(e),e.Ra}},A:function(e,t,n,r,a){try{var i=Ue(e);return-9007199254740992>=(e=4294967296*n+(t>>>0))||9007199254740992<=e?-61:(Be(i,e,r),U=[i.position>>>0,(H=i.position,1<=+I(H)?0<H?(0|M(+R(H/4294967296),4294967295))>>>0:~~+L((H-+(~~H>>>0))/4294967296)>>>0:0)],v[a>>2]=U[0],v[a+4>>2]=U[1],i.cb&&0===e&&0===r&&(i.cb=null),0)}catch(e){return void 0!==Ke&&e instanceof se||K(e),e.Ra}},v:function(e,t,n,r){try{e:{for(var a=Ue(e),i=e=0;i<n;i++){var o=a,s=v[t+8*i>>2],c=v[t+(8*i+4)>>2],u=void 0,f=d;if(0>c||0>u)throw new se(28);if(null===o.Sa)throw new se(8);if(0==(2097155&o.flags))throw new se(8);if(16384==(61440&o.node.mode))throw new se(31);if(!o.Ka.write)throw new se(28);1024&o.flags&&Be(o,0,2);var l=void 0!==u;if(l){if(!o.seekable)throw new se(70)}else u=o.position;var p=o.Ka.write(o,f,s,c,u,void 0);l||(o.position+=p);try{o.path&&oe.onWriteToFile&&oe.onWriteToFile(o.path)}catch(e){_("FS.trackingDelegate['onWriteToFile']('"+o.path+"') threw an exception: "+e.message)}var y=p;if(0>y){var h=-1;break e}e+=y}h=e}return v[r>>2]=h,0}catch(e){return void 0!==Ke&&e instanceof se||K(e),e.Ra}},a:function(){return 0|f},x:function(e){var t=Date.now();return v[e>>2]=t/1e3|0,v[e+4>>2]=t%1e3*1e3|0,0},g:function(e){var t=_t();try{return rt(e)}catch(e){if(ut(t),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},j:function(e,t){var n=_t();try{return at(e,t)}catch(e){if(ut(n),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},i:function(e,t,n){var r=_t();try{return it(e,t,n)}catch(e){if(ut(r),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},q:function(e,t,n,r){var a=_t();try{return ot(e,t,n,r)}catch(e){if(ut(a),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},y:function(e,t,n,r,a){var i=_t();try{return st(e,t,n,r,a)}catch(e){if(ut(i),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},n:function(e){var t=_t();try{Ve(e)}catch(e){if(ut(t),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},e:function(e,t){var n=_t();try{Qe(e,t)}catch(e){if(ut(n),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},d:function(e,t,n){var r=_t();try{qe(e,t,n)}catch(e){if(ut(r),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},f:function(e,t,n,r){var a=_t();try{Xe(e,t,n,r)}catch(e){if(ut(a),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},l:function(e,t,n,r,a){var i=_t();try{Ze(e,t,n,r,a)}catch(e){if(ut(i),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},o:function(e,t,n,r,a,i){var o=_t();try{Ge(e,t,n,r,a,i)}catch(e){if(ut(o),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},p:function(e,t,n,r,a,i,o){var s=_t();try{et(e,t,n,r,a,i,o)}catch(e){if(ut(s),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},r:function(e,t,n,r,a,i,o,s){var _=_t();try{tt(e,t,n,r,a,i,o,s)}catch(e){if(ut(_),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},u:function(e,t,n,r,a,i,o,s,_){var c=_t();try{nt(e,t,n,r,a,i,o,s,_)}catch(e){if(ut(c),e!==e+0&&"longjmp"!==e)throw e;We(1,0)}},memory:l,k:function e(t,n,r,a){n|=0,r|=0,a|=0;var i=0;for(Je=Je+1|0,v[(t|=0)>>2]=Je;(0|i)<(0|a);){if(0==(0|v[r+(i<<3)>>2]))return v[r+(i<<3)>>2]=Je,v[r+(4+(i<<3))>>2]=n,v[r+(8+(i<<3))>>2]=0,f=0|a,0|r;i=i+1|0}return r=0|e(0|t,0|n,0|(r=0|$e(0|r,8*(1+(a=2*a|0)|0)|0)),0|a),f=0|a,0|r},b:function(e){f=0|e},table:m,c:function(e,t,n){e|=0,t|=0,n|=0;for(var r,a=0;(0|a)<(0|n)&&0!=(0|(r=0|v[t+(a<<3)>>2]));){if((0|r)==(0|e))return 0|v[t+(4+(a<<3))>>2];a=a+1|0}return 0}},je=function(){function e(e){t.asm=e.exports,C--,t.monitorRunDependencies&&t.monitorRunDependencies(C),0==C&&N&&(e=N,N=null,e())}function n(t){e(t.instance)}function r(e){return(c||"function"!=typeof fetch?new Promise((function(e){e(O())})):fetch(J,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+J+"'";return e.arrayBuffer()})).catch((function(){return O()}))).then((function(e){return WebAssembly.instantiate(e,a)})).then(e,(function(e){_("failed to asynchronously prepare wasm: "+e),K(e)}))}var a={a:Oe};if(C++,t.monitorRunDependencies&&t.monitorRunDependencies(C),t.instantiateWasm)try{return t.instantiateWasm(a,e)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(c||"function"!=typeof WebAssembly.instantiateStreaming||z()||"function"!=typeof fetch)return r(n);fetch(J,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(n,(function(e){_("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),r(n)}))}))}(),{}}();t.asm=je;var De=t.___wasm_call_ctors=function(){return(De=t.___wasm_call_ctors=t.asm.G).apply(null,arguments)};t._vscp_error_ctx_size=function(){return(t._vscp_error_ctx_size=t.asm.H).apply(null,arguments)},t._vscp_error_reset=function(){return(t._vscp_error_reset=t.asm.I).apply(null,arguments)},t._vscp_error_status=function(){return(t._vscp_error_status=t.asm.J).apply(null,arguments)},t._vscp_pythia_configure=function(){return(t._vscp_pythia_configure=t.asm.K).apply(null,arguments)},t._vscp_pythia_cleanup=function(){return(t._vscp_pythia_cleanup=t.asm.L).apply(null,arguments)},t._vscp_pythia_blinded_password_buf_len=function(){return(t._vscp_pythia_blinded_password_buf_len=t.asm.M).apply(null,arguments)},t._vscp_pythia_deblinded_password_buf_len=function(){return(t._vscp_pythia_deblinded_password_buf_len=t.asm.N).apply(null,arguments)},t._vscp_pythia_blinding_secret_buf_len=function(){return(t._vscp_pythia_blinding_secret_buf_len=t.asm.O).apply(null,arguments)},t._vscp_pythia_transformation_private_key_buf_len=function(){return(t._vscp_pythia_transformation_private_key_buf_len=t.asm.P).apply(null,arguments)},t._vscp_pythia_transformation_public_key_buf_len=function(){return(t._vscp_pythia_transformation_public_key_buf_len=t.asm.Q).apply(null,arguments)},t._vscp_pythia_transformed_password_buf_len=function(){return(t._vscp_pythia_transformed_password_buf_len=t.asm.R).apply(null,arguments)},t._vscp_pythia_transformed_tweak_buf_len=function(){return(t._vscp_pythia_transformed_tweak_buf_len=t.asm.S).apply(null,arguments)},t._vscp_pythia_proof_value_buf_len=function(){return(t._vscp_pythia_proof_value_buf_len=t.asm.T).apply(null,arguments)},t._vscp_pythia_password_update_token_buf_len=function(){return(t._vscp_pythia_password_update_token_buf_len=t.asm.U).apply(null,arguments)},t._vscp_pythia_blind=function(){return(t._vscp_pythia_blind=t.asm.V).apply(null,arguments)},t._vscp_pythia_deblind=function(){return(t._vscp_pythia_deblind=t.asm.W).apply(null,arguments)},t._vscp_pythia_compute_transformation_key_pair=function(){return(t._vscp_pythia_compute_transformation_key_pair=t.asm.X).apply(null,arguments)},t._vscp_pythia_transform=function(){return(t._vscp_pythia_transform=t.asm.Y).apply(null,arguments)},t._vscp_pythia_prove=function(){return(t._vscp_pythia_prove=t.asm.Z).apply(null,arguments)},t._vscp_pythia_verify=function(){return(t._vscp_pythia_verify=t.asm._).apply(null,arguments)},t._vscp_pythia_get_password_update_token=function(){return(t._vscp_pythia_get_password_update_token=t.asm.$).apply(null,arguments)},t._vscp_pythia_update_deblinded_with_token=function(){return(t._vscp_pythia_update_deblinded_with_token=t.asm.aa).apply(null,arguments)},t._vsc_buffer_new=function(){return(t._vsc_buffer_new=t.asm.ba).apply(null,arguments)},t._vsc_buffer_new_with_capacity=function(){return(t._vsc_buffer_new_with_capacity=t.asm.ca).apply(null,arguments)},t._vsc_buffer_delete=function(){return(t._vsc_buffer_delete=t.asm.da).apply(null,arguments)},t._vsc_buffer_data=function(){return(t._vsc_buffer_data=t.asm.ea).apply(null,arguments)},t._vsc_buffer_make_secure=function(){return(t._vsc_buffer_make_secure=t.asm.fa).apply(null,arguments)},t._vsc_buffer_bytes=function(){return(t._vsc_buffer_bytes=t.asm.ga).apply(null,arguments)},t._vsc_buffer_len=function(){return(t._vsc_buffer_len=t.asm.ha).apply(null,arguments)},t._vsc_data_ctx_size=function(){return(t._vsc_data_ctx_size=t.asm.ia).apply(null,arguments)},t._vsc_data=function(){return(t._vsc_data=t.asm.ja).apply(null,arguments)},t._vsc_data_len=function(){return(t._vsc_data_len=t.asm.ka).apply(null,arguments)},t._vsc_data_bytes=function(){return(t._vsc_data_bytes=t.asm.la).apply(null,arguments)},t.___errno_location=function(){return(t.___errno_location=t.asm.ma).apply(null,arguments)};var We=t._setThrew=function(){return(We=t._setThrew=t.asm.na).apply(null,arguments)},Fe=t._malloc=function(){return(Fe=t._malloc=t.asm.oa).apply(null,arguments)};t._free=function(){return(t._free=t.asm.pa).apply(null,arguments)};var $e=t._realloc=function(){return($e=t._realloc=t.asm.qa).apply(null,arguments)},Ve=t.dynCall_v=function(){return(Ve=t.dynCall_v=t.asm.ra).apply(null,arguments)},Qe=t.dynCall_vi=function(){return(Qe=t.dynCall_vi=t.asm.sa).apply(null,arguments)},qe=t.dynCall_vii=function(){return(qe=t.dynCall_vii=t.asm.ta).apply(null,arguments)},Xe=t.dynCall_viii=function(){return(Xe=t.dynCall_viii=t.asm.ua).apply(null,arguments)},Ze=t.dynCall_viiii=function(){return(Ze=t.dynCall_viiii=t.asm.va).apply(null,arguments)},Ge=t.dynCall_viiiii=function(){return(Ge=t.dynCall_viiiii=t.asm.wa).apply(null,arguments)},et=t.dynCall_viiiiii=function(){return(et=t.dynCall_viiiiii=t.asm.xa).apply(null,arguments)},tt=t.dynCall_viiiiiii=function(){return(tt=t.dynCall_viiiiiii=t.asm.ya).apply(null,arguments)},nt=t.dynCall_viiiiiiii=function(){return(nt=t.dynCall_viiiiiiii=t.asm.za).apply(null,arguments)},rt=t.dynCall_i=function(){return(rt=t.dynCall_i=t.asm.Aa).apply(null,arguments)},at=t.dynCall_ii=function(){return(at=t.dynCall_ii=t.asm.Ba).apply(null,arguments)},it=t.dynCall_iii=function(){return(it=t.dynCall_iii=t.asm.Ca).apply(null,arguments)},ot=t.dynCall_iiii=function(){return(ot=t.dynCall_iiii=t.asm.Da).apply(null,arguments)},st=t.dynCall_iiiii=function(){return(st=t.dynCall_iiiii=t.asm.Ea).apply(null,arguments)},_t=t.stackSave=function(){return(_t=t.stackSave=t.asm.Fa).apply(null,arguments)};t.stackAlloc=function(){return(t.stackAlloc=t.asm.Ga).apply(null,arguments)};var ct,ut=t.stackRestore=function(){return(ut=t.stackRestore=t.asm.Ha).apply(null,arguments)};function ft(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function lt(){function e(){if(!ct&&(ct=!0,t.calledRun=!0,!w)){if(t.noFSInit||we||(we=!0,Le(),t.stdin=t.stdin,t.stdout=t.stdout,t.stderr=t.stderr,t.stdin?Re("stdin",t.stdin):xe("/dev/tty","/dev/stdin"),t.stdout?Re("stdout",null,t.stdout):xe("/dev/tty","/dev/stdout"),t.stderr?Re("stderr",null,t.stderr):xe("/dev/tty1","/dev/stderr"),ke("/dev/stdin","r"),ke("/dev/stdout","w"),ke("/dev/stderr","w")),A(x),ie=!1,A(S),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();k.unshift(e)}A(k)}}if(!(0<C)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)B();A(T),0<C||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.asm=je,t.then=function(e){if(ct)e(t);else{var n=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){n&&n(),e(t)}}return t},N=function e(){ct||lt(),ct||(N=e)},t.run=lt,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return u=!0,lt(),e});e.exports=r}));var t=(e,t)=>{class n extends Error{constructor(e){super(e),this.name="PythiaError",this.message=e}static handleStatusCode(e){if(0!=e){if(-1==e)throw new n("This error should not be returned if assertions is enabled.");if(-200==e)throw new n("Underlying pythia library returns -1.");if(-202==e)throw new n("Underlying random number generator failed.");throw new n("Unexpected status code:"+e)}}}return n};function n(e,t){if(!("number"==typeof t||t instanceof Number))throw new TypeError(`'${e}' is not a number`);if(Number.isNaN(t))throw new TypeError(`'${e}' is NaN`);if(t===1/0)throw new TypeError(`'${e}' is Infinity`);if(t===-1/0)throw new TypeError(`'${e}' is -Infinity`)}function r(e,t){if(n(e,t),0==t)throw new TypeError(`'${e}' is NULL`)}var a={ensureNumber:n,ensureString:function(e,t){if(!("string"==typeof t||t instanceof String))throw new TypeError(`'${e}' is not a string`)},ensureBoolean:function(e,t){if("boolean"!=typeof t)throw new TypeError(`'${e}' is not a boolean`)},ensureByteArray:function(e,t){if(!(t instanceof Uint8Array))throw new TypeError(`'${e}' is not an Uint8Array`)},ensureClass:function(e,t,n){if(!(t instanceof n))throw new TypeError(`'${e}' is not an instance of the class ${n.name}`);r(e,t.ctxPtr)},ensureNotNull:r,ensureImplementInterface:function(e,t,n,a,i){if(r(e,t.ctxPtr),!i.isImplemented(t.ctxPtr,a))throw new TypeError(`'${e}' does not implement interface '${n}'`)}};var i=(e,t)=>class{static configure(){const n=e._vscp_pythia_configure();t.PythiaError.handleStatusCode(n)}static cleanup(){e._vscp_pythia_cleanup()}static blindedPasswordBufLen(){let t;return t=e._vscp_pythia_blinded_password_buf_len(),t}static deblindedPasswordBufLen(){let t;return t=e._vscp_pythia_deblinded_password_buf_len(),t}static blindingSecretBufLen(){let t;return t=e._vscp_pythia_blinding_secret_buf_len(),t}static transformationPrivateKeyBufLen(){let t;return t=e._vscp_pythia_transformation_private_key_buf_len(),t}static transformationPublicKeyBufLen(){let t;return t=e._vscp_pythia_transformation_public_key_buf_len(),t}static transformedPasswordBufLen(){let t;return t=e._vscp_pythia_transformed_password_buf_len(),t}static transformedTweakBufLen(){let t;return t=e._vscp_pythia_transformed_tweak_buf_len(),t}static proofValueBufLen(){let t;return t=e._vscp_pythia_proof_value_buf_len(),t}static passwordUpdateTokenBufLen(){let t;return t=e._vscp_pythia_password_update_token_buf_len(),t}static blind(n){a.ensureByteArray("password",n);const r=n.length*n.BYTES_PER_ELEMENT,i=e._malloc(r);e.HEAP8.set(n,i);const o=e._vsc_data_ctx_size(),s=e._malloc(o);e._vsc_data(s,i,r);const _=t.Pythia.blindedPasswordBufLen(),c=e._vsc_buffer_new_with_capacity(_),u=t.Pythia.blindingSecretBufLen(),f=e._vsc_buffer_new_with_capacity(u);try{const n=e._vscp_pythia_blind(s,c,f);t.PythiaError.handleStatusCode(n);const r=e._vsc_buffer_bytes(c),a=e._vsc_buffer_len(c),o=e.HEAPU8.slice(r,r+a),_=e._vsc_buffer_bytes(f),u=e._vsc_buffer_len(f);return{blindedPassword:o,blindingSecret:e.HEAPU8.slice(_,_+u)}}finally{e._free(i),e._free(s),e._vsc_buffer_delete(c),e._vsc_buffer_delete(f)}}static deblind(n,r){a.ensureByteArray("transformedPassword",n),a.ensureByteArray("blindingSecret",r);const i=n.length*n.BYTES_PER_ELEMENT,o=e._malloc(i);e.HEAP8.set(n,o);const s=e._vsc_data_ctx_size(),_=e._malloc(s);e._vsc_data(_,o,i);const c=r.length*r.BYTES_PER_ELEMENT,u=e._malloc(c);e.HEAP8.set(r,u);const f=e._vsc_data_ctx_size(),l=e._malloc(f);e._vsc_data(l,u,c);const p=t.Pythia.deblindedPasswordBufLen(),d=e._vsc_buffer_new_with_capacity(p);try{const n=e._vscp_pythia_deblind(_,l,d);t.PythiaError.handleStatusCode(n);const r=e._vsc_buffer_bytes(d),a=e._vsc_buffer_len(d);return e.HEAPU8.slice(r,r+a)}finally{e._free(o),e._free(_),e._free(u),e._free(l),e._vsc_buffer_delete(d)}}static computeTransformationKeyPair(n,r,i){a.ensureByteArray("transformationKeyId",n),a.ensureByteArray("pythiaSecret",r),a.ensureByteArray("pythiaScopeSecret",i);const o=n.length*n.BYTES_PER_ELEMENT,s=e._malloc(o);e.HEAP8.set(n,s);const _=e._vsc_data_ctx_size(),c=e._malloc(_);e._vsc_data(c,s,o);const u=r.length*r.BYTES_PER_ELEMENT,f=e._malloc(u);e.HEAP8.set(r,f);const l=e._vsc_data_ctx_size(),p=e._malloc(l);e._vsc_data(p,f,u);const d=i.length*i.BYTES_PER_ELEMENT,y=e._malloc(d);e.HEAP8.set(i,y);const h=e._vsc_data_ctx_size(),v=e._malloc(h);e._vsc_data(v,y,d);const m=t.Pythia.transformationPrivateKeyBufLen(),w=e._vsc_buffer_new_with_capacity(m),b=t.Pythia.transformationPublicKeyBufLen(),E=e._vsc_buffer_new_with_capacity(b);try{const n=e._vscp_pythia_compute_transformation_key_pair(c,p,v,w,E);t.PythiaError.handleStatusCode(n);const r=e._vsc_buffer_bytes(w),a=e._vsc_buffer_len(w),i=e.HEAPU8.slice(r,r+a),o=e._vsc_buffer_bytes(E),_=e._vsc_buffer_len(E);return{transformationPrivateKey:i,transformationPublicKey:e.HEAPU8.slice(o,o+_)}}finally{e._free(s),e._free(c),e._free(f),e._free(p),e._free(y),e._free(v),e._vsc_buffer_delete(w),e._vsc_buffer_delete(E)}}static transform(n,r,i){a.ensureByteArray("blindedPassword",n),a.ensureByteArray("tweak",r),a.ensureByteArray("transformationPrivateKey",i);const o=n.length*n.BYTES_PER_ELEMENT,s=e._malloc(o);e.HEAP8.set(n,s);const _=e._vsc_data_ctx_size(),c=e._malloc(_);e._vsc_data(c,s,o);const u=r.length*r.BYTES_PER_ELEMENT,f=e._malloc(u);e.HEAP8.set(r,f);const l=e._vsc_data_ctx_size(),p=e._malloc(l);e._vsc_data(p,f,u);const d=i.length*i.BYTES_PER_ELEMENT,y=e._malloc(d);e.HEAP8.set(i,y);const h=e._vsc_data_ctx_size(),v=e._malloc(h);e._vsc_data(v,y,d);const m=t.Pythia.transformedPasswordBufLen(),w=e._vsc_buffer_new_with_capacity(m),b=t.Pythia.transformedTweakBufLen(),E=e._vsc_buffer_new_with_capacity(b);try{const n=e._vscp_pythia_transform(c,p,v,w,E);t.PythiaError.handleStatusCode(n);const r=e._vsc_buffer_bytes(w),a=e._vsc_buffer_len(w),i=e.HEAPU8.slice(r,r+a),o=e._vsc_buffer_bytes(E),_=e._vsc_buffer_len(E);return{transformedPassword:i,transformedTweak:e.HEAPU8.slice(o,o+_)}}finally{e._free(s),e._free(c),e._free(f),e._free(p),e._free(y),e._free(v),e._vsc_buffer_delete(w),e._vsc_buffer_delete(E)}}static prove(n,r,i,o,s){a.ensureByteArray("transformedPassword",n),a.ensureByteArray("blindedPassword",r),a.ensureByteArray("transformedTweak",i),a.ensureByteArray("transformationPrivateKey",o),a.ensureByteArray("transformationPublicKey",s);const _=n.length*n.BYTES_PER_ELEMENT,c=e._malloc(_);e.HEAP8.set(n,c);const u=e._vsc_data_ctx_size(),f=e._malloc(u);e._vsc_data(f,c,_);const l=r.length*r.BYTES_PER_ELEMENT,p=e._malloc(l);e.HEAP8.set(r,p);const d=e._vsc_data_ctx_size(),y=e._malloc(d);e._vsc_data(y,p,l);const h=i.length*i.BYTES_PER_ELEMENT,v=e._malloc(h);e.HEAP8.set(i,v);const m=e._vsc_data_ctx_size(),w=e._malloc(m);e._vsc_data(w,v,h);const b=o.length*o.BYTES_PER_ELEMENT,E=e._malloc(b);e.HEAP8.set(o,E);const g=e._vsc_data_ctx_size(),P=e._malloc(g);e._vsc_data(P,E,b);const A=s.length*s.BYTES_PER_ELEMENT,T=e._malloc(A);e.HEAP8.set(s,T);const x=e._vsc_data_ctx_size(),S=e._malloc(x);e._vsc_data(S,T,A);const k=t.Pythia.proofValueBufLen(),B=e._vsc_buffer_new_with_capacity(k),I=t.Pythia.proofValueBufLen(),L=e._vsc_buffer_new_with_capacity(I);try{const n=e._vscp_pythia_prove(f,y,w,P,S,B,L);t.PythiaError.handleStatusCode(n);const r=e._vsc_buffer_bytes(B),a=e._vsc_buffer_len(B),i=e.HEAPU8.slice(r,r+a),o=e._vsc_buffer_bytes(L),s=e._vsc_buffer_len(L);return{proofValueC:i,proofValueU:e.HEAPU8.slice(o,o+s)}}finally{e._free(c),e._free(f),e._free(p),e._free(y),e._free(v),e._free(w),e._free(E),e._free(P),e._free(T),e._free(S),e._vsc_buffer_delete(B),e._vsc_buffer_delete(L)}}static verify(n,r,i,o,s,_){a.ensureByteArray("transformedPassword",n),a.ensureByteArray("blindedPassword",r),a.ensureByteArray("tweak",i),a.ensureByteArray("transformationPublicKey",o),a.ensureByteArray("proofValueC",s),a.ensureByteArray("proofValueU",_);const c=n.length*n.BYTES_PER_ELEMENT,u=e._malloc(c);e.HEAP8.set(n,u);const f=e._vsc_data_ctx_size(),l=e._malloc(f);e._vsc_data(l,u,c);const p=r.length*r.BYTES_PER_ELEMENT,d=e._malloc(p);e.HEAP8.set(r,d);const y=e._vsc_data_ctx_size(),h=e._malloc(y);e._vsc_data(h,d,p);const v=i.length*i.BYTES_PER_ELEMENT,m=e._malloc(v);e.HEAP8.set(i,m);const w=e._vsc_data_ctx_size(),b=e._malloc(w);e._vsc_data(b,m,v);const E=o.length*o.BYTES_PER_ELEMENT,g=e._malloc(E);e.HEAP8.set(o,g);const P=e._vsc_data_ctx_size(),A=e._malloc(P);e._vsc_data(A,g,E);const T=s.length*s.BYTES_PER_ELEMENT,x=e._malloc(T);e.HEAP8.set(s,x);const S=e._vsc_data_ctx_size(),k=e._malloc(S);e._vsc_data(k,x,T);const B=_.length*_.BYTES_PER_ELEMENT,I=e._malloc(B);e.HEAP8.set(_,I);const L=e._vsc_data_ctx_size(),R=e._malloc(L);e._vsc_data(R,I,B);const M=e._vscp_error_ctx_size(),C=e._malloc(M);let N;e._vscp_error_reset(C);try{N=e._vscp_pythia_verify(l,h,b,A,k,R,C);const n=e._vscp_error_status(C);return t.PythiaError.handleStatusCode(n),!!N}finally{e._free(u),e._free(l),e._free(d),e._free(h),e._free(m),e._free(b),e._free(g),e._free(A),e._free(x),e._free(k),e._free(I),e._free(R),e._free(C)}}static getPasswordUpdateToken(n,r){a.ensureByteArray("previousTransformationPrivateKey",n),a.ensureByteArray("newTransformationPrivateKey",r);const i=n.length*n.BYTES_PER_ELEMENT,o=e._malloc(i);e.HEAP8.set(n,o);const s=e._vsc_data_ctx_size(),_=e._malloc(s);e._vsc_data(_,o,i);const c=r.length*r.BYTES_PER_ELEMENT,u=e._malloc(c);e.HEAP8.set(r,u);const f=e._vsc_data_ctx_size(),l=e._malloc(f);e._vsc_data(l,u,c);const p=t.Pythia.passwordUpdateTokenBufLen(),d=e._vsc_buffer_new_with_capacity(p);try{const n=e._vscp_pythia_get_password_update_token(_,l,d);t.PythiaError.handleStatusCode(n);const r=e._vsc_buffer_bytes(d),a=e._vsc_buffer_len(d);return e.HEAPU8.slice(r,r+a)}finally{e._free(o),e._free(_),e._free(u),e._free(l),e._vsc_buffer_delete(d)}}static updateDeblindedWithToken(n,r){a.ensureByteArray("deblindedPassword",n),a.ensureByteArray("passwordUpdateToken",r);const i=n.length*n.BYTES_PER_ELEMENT,o=e._malloc(i);e.HEAP8.set(n,o);const s=e._vsc_data_ctx_size(),_=e._malloc(s);e._vsc_data(_,o,i);const c=r.length*r.BYTES_PER_ELEMENT,u=e._malloc(c);e.HEAP8.set(r,u);const f=e._vsc_data_ctx_size(),l=e._malloc(f);e._vsc_data(l,u,c);const p=t.Pythia.deblindedPasswordBufLen(),d=e._vsc_buffer_new_with_capacity(p);try{const n=e._vscp_pythia_update_deblinded_with_token(_,l,d);t.PythiaError.handleStatusCode(n);const r=e._vsc_buffer_bytes(d),a=e._vsc_buffer_len(d);return e.HEAPU8.slice(r,r+a)}finally{e._free(o),e._free(_),e._free(u),e._free(l),e._vsc_buffer_delete(d)}}};var o=n=>{const r=new e(n);return new Promise((e,n)=>{r.onRuntimeInitialized=()=>{const n={};n.PythiaError=t(),n.Pythia=i(r,n),e(n)},r.onAbort=e=>{n(new Error(e))}})};module.exports=o;
