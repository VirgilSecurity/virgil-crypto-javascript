"use strict";function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var libpythia=createCommonjsModule((function(e,t){t=function(e){function t(e,t){throw t}function n(e,t){e||s("Assertion failed: "+t)}function r(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&fe)return fe.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function a(e){return 0<e%65536&&(e+=65536-e%65536),e}function o(e){le=e,Q.HEAP8=_e=new Int8Array(e),Q.HEAP16=pe=new Int16Array(e),Q.HEAP32=ye=new Int32Array(e),Q.HEAPU8=de=new Uint8Array(e),Q.HEAPU16=new Uint16Array(e),Q.HEAPU32=new Uint32Array(e),Q.HEAPF32=new Float32Array(e),Q.HEAPF64=new Float64Array(e)}function i(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.Vd;"number"==typeof n?void 0===t.eb?Q.dynCall_v(n):Q.dynCall_vi(n,t.eb):n(void 0===t.eb?null:t.eb)}}}function c(){var e=Q.preRun.shift();me.unshift(e)}function s(e){throw Q.onAbort&&Q.onAbort(e),te(e),ne(e),ue=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}function u(){var e=Te;return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}function f(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function l(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=f(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function _(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function d(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function p(){return l(Array.prototype.slice.call(arguments,0).join("/"))}function y(e,t){return l(e+"/"+t)}function h(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=f(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}function m(e,t){Ue[e]={input:[],output:[],Za:t},S(e,He)}function v(e,t){if(t=t||{},!(e=h("/",e)))return{path:"",node:null};var n,r={pb:!0,ib:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.ib)throw new Ze(32);e=f(e.split("/").filter((function(e){return!!e})),!1);var a=Fe;for(r="/",n=0;n<e.length;n++){var o=n===e.length-1;if(o&&t.parent)break;if(a=E(a,e[n]),r=y(r,e[n]),a.cb&&(!o||o&&t.pb)&&(a=a.cb.root),!o||t.ob)for(o=0;40960==(61440&a.mode);)if(a=R(r),a=v(r=h(_(r),a),{ib:t.ib}).node,40<o++)throw new Ze(32)}return{path:r,node:a}}function w(e){for(var t;;){if(e===e.parent)return e=e.Qa.tb,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function b(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Qe.length}function E(e,t){var n;if(n=(n=A(e,"x"))?n:e.Ma.lookup?0:2)throw new Ze(n,e);for(n=Qe[b(e.id,t)];n;n=n.yb){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.Ma.lookup(e,t)}function g(e,t,n,r){return Ce||((Ce=function(e,t,n,r){e||(e=this),this.parent=e,this.Qa=e.Qa,this.cb=null,this.id=Ke++,this.name=t,this.mode=n,this.Ma={},this.Na={},this.rdev=r}).prototype={},Object.defineProperties(Ce.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}})),function(e){var t=b(e.parent.id,e.name);e.yb=Qe[t],Qe[t]=e}(e=new Ce(e,t,n,r)),e}function P(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function A(e,t){return qe?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2}function N(e,t){try{return E(e,t),20}catch(e){}return A(e,"wx")}function k(e,t){Oe||((Oe=function(){}).prototype={},Object.defineProperties(Oe.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var n,r=new Oe;for(n in e)r[n]=e[n];return e=r,t=function(e){for(e=e||0;4096>=e;e++)if(!$e[e])return e;throw new Ze(33)}(t),e.fd=t,$e[t]=e}function S(e,t){Ve[e]={Na:t}}function T(e,t){var n="/"===t,r=!t;if(n&&Fe)throw new Ze(10);if(!n&&!r){var a=v(t,{pb:!1});if(t=a.path,(a=a.node).cb)throw new Ze(10);if(16384!=(61440&a.mode))throw new Ze(54)}t={type:e,gb:{},tb:t,xb:[]},(e=e.Qa(t)).Qa=t,t.root=e,n?Fe=e:a&&(a.cb=t,a.Qa&&a.Qa.xb.push(t))}function L(e,t,n){var r=v(e,{parent:!0}).node;if(!(e=d(e))||"."===e||".."===e)throw new Ze(28);var a=N(r,e);if(a)throw new Ze(a);if(!r.Ma.$a)throw new Ze(63);return r.Ma.$a(r,e,t,n)}function B(e){L(e,16895,0)}function M(e,t,n){void 0===n&&(n=t,t=438),L(e,8192|t,n)}function x(e,t){if(!h(e))throw new Ze(44);var n=v(t,{parent:!0}).node;if(!n)throw new Ze(44);var r=N(n,t=d(t));if(r)throw new Ze(r);if(!n.Ma.symlink)throw new Ze(63);n.Ma.symlink(n,t,e)}function R(e){if(!(e=v(e).node))throw new Ze(44);if(!e.Ma.readlink)throw new Ze(28);return h(w(e.parent),e.Ma.readlink(e))}function C(e,t,n,r){if(""===e)throw new Ze(44);if("string"==typeof t){var a=Je[t];if(void 0===a)throw Error("Unknown file open mode: "+t);t=a}if(n=64&t?4095&(void 0===n?438:n)|32768:0,"object"==typeof e)var o=e;else{e=l(e);try{o=v(e,{ob:!(131072&t)}).node}catch(e){}}if(a=!1,64&t)if(o){if(128&t)throw new Ze(20)}else o=L(e,n,0),a=!0;if(!o)throw new Ze(44);if(8192==(61440&o.mode)&&(t&=-513),65536&t&&16384!=(61440&o.mode))throw new Ze(54);if(!a&&(n=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==P(t)||512&t)?31:A(o,P(t)):44))throw new Ze(n);if(512&t){var i;if(!(i="string"==typeof(n=o)?v(n,{ob:!0}).node:n).Ma.Sa)throw new Ze(63);if(16384==(61440&i.mode))throw new Ze(31);if(32768!=(61440&i.mode))throw new Ze(28);if(n=A(i,"w"))throw new Ze(n);i.Ma.Sa(i,{size:0,timestamp:Date.now()})}t&=-641,(r=k({node:o,path:w(o),flags:t,seekable:!0,position:0,Na:o.Na,Cb:[],error:!1},r)).Na.open&&r.Na.open(r),!Q.logReadFiles||1&t||(ze||(ze={}),e in ze||(ze[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{Xe.onOpenFile&&(o=0,1!=(2097155&t)&&(o|=1),0!=(2097155&t)&&(o|=2),Xe.onOpenFile(e,o))}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return r}function O(e,t,n){if(null===e.fd)throw new Ze(8);if(!e.seekable||!e.Na.Wa)throw new Ze(70);if(0!=n&&1!=n&&2!=n)throw new Ze(28);e.position=e.Na.Wa(e,t,n),e.Cb=[]}function z(e,t,n,r){var a=_e;if(0>n||0>r)throw new Ze(28);if(null===e.fd)throw new Ze(8);if(1==(2097155&e.flags))throw new Ze(8);if(16384==(61440&e.node.mode))throw new Ze(31);if(!e.Na.read)throw new Ze(28);var o=void 0!==r;if(o){if(!e.seekable)throw new Ze(70)}else r=e.position;return t=e.Na.read(e,a,t,n,r),o||(e.position+=t),t}function U(){Ze||((Ze=function(e,t){this.node=t,this.Ab=function(e){this.Va=e},this.Ab(e),this.message="FS error"}).prototype=Error(),Ze.prototype.constructor=Ze,[44].forEach((function(e){Ge[e]=new Ze(e),Ge[e].stack="<generic error, no stack>"})))}function H(e,t,n){e=y("/dev",e);var r=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}(!!t,!!n);Re||(Re=64);var a=Re++<<8|0;S(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,r,a){for(var o=0,i=0;i<a;i++){try{var c=t()}catch(e){throw new Ze(29)}if(void 0===c&&0===o)throw new Ze(6);if(null==c)break;o++,n[r+i]=c}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,a){for(var o=0;o<a;o++)try{n(t[r+o])}catch(e){throw new Ze(29)}return a&&(e.node.timestamp=Date.now()),o}}),M(e,r,a)}function Y(){return ye[(nt+=4)-4>>2]}function I(e){if(e||(e=Y()),!(e=$e[e]))throw new Ze(8);return e}function j(e){try{var t=I(e);if(null===t.fd)throw new Ze(8);t.fb&&(t.fb=null);try{t.Na.close&&t.Na.close(t)}catch(e){throw e}finally{$e[t.fd]=null}return t.fd=null,0}catch(e){return void 0!==tt&&e instanceof Ze||s(e),e.Va}}function D(e,t,n,r){try{e:{for(var a=I(e),o=e=0;o<n;o++){var i=a,c=ye[t+8*o>>2],u=ye[t+(8*o+4)>>2],f=void 0,l=_e;if(0>u||0>f)throw new Ze(28);if(null===i.fd)throw new Ze(8);if(0==(2097155&i.flags))throw new Ze(8);if(16384==(61440&i.node.mode))throw new Ze(31);if(!i.Na.write)throw new Ze(28);1024&i.flags&&O(i,0,2);var _=void 0!==f;if(_){if(!i.seekable)throw new Ze(70)}else f=i.position;var d=i.Na.write(i,l,c,u,f,void 0);_||(i.position+=d);try{i.path&&Xe.onWriteToFile&&Xe.onWriteToFile(i.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+i.path+"') threw an exception: "+e.message)}if(0>(i=d)){var p=-1;break e}e+=i}p=e}return ye[r>>2]=p,0}catch(e){return void 0!==tt&&e instanceof Ze||s(e),e.Va}}function W(){return _e.length}function F(e,t){throw st(e,t||1),"longjmp"}function V(){return V.Xa||(V.Xa=[]),V.Xa.push(lt()),V.Xa.length-1}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function K(){function e(){if(!ut&&(ut=!0,!ue)){if(Q.noFSInit||xe||(xe=!0,U(),Q.stdin=Q.stdin,Q.stdout=Q.stdout,Q.stderr=Q.stderr,Q.stdin?H("stdin",Q.stdin):x("/dev/tty","/dev/stdin"),Q.stdout?H("stdout",null,Q.stdout):x("/dev/tty","/dev/stdout"),Q.stderr?H("stderr",null,Q.stderr):x("/dev/tty1","/dev/stderr"),C("/dev/stdin","r"),C("/dev/stdout","w"),C("/dev/stderr","w")),i(ve),qe=!1,i(we),Q.onRuntimeInitialized&&Q.onRuntimeInitialized(),Q.postRun)for("function"==typeof Q.postRun&&(Q.postRun=[Q.postRun]);Q.postRun.length;){var e=Q.postRun.shift();be.unshift(e)}i(be)}}if(!(0<Ne)){if(Q.preRun)for("function"==typeof Q.preRun&&(Q.preRun=[Q.preRun]);Q.preRun.length;)c();i(me),0<Ne||(Q.setStatus?(Q.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Q.setStatus("")}),1),e()}),1)):e())}}var Q;e=e||{},Q||(Q=void 0!==e?e:{});var q,X,Z,G,J={};for(q in Q)Q.hasOwnProperty(q)&&(J[q]=Q[q]);X=__dirname+"/";var ee=function(e){return(e=function(e){return Z||(Z=require("fs")),G||(G=require("path")),e=G.normalize(e),Z.readFileSync(e)}(e)).buffer||(e=new Uint8Array(e)),n(e.buffer),e};1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof $))throw e})),process.on("unhandledRejection",s),t=function(e){process.exit(e)},Q.inspect=function(){return"[Emscripten Module object]"};var te=Q.print||console.log.bind(console),ne=Q.printErr||console.warn.bind(console);for(q in J)J.hasOwnProperty(q)&&(Q[q]=J[q]);J=null,Q.quit&&(t=Q.quit);var re,ae,oe={"f64-rem":function(e,t){return e%t},debugger:function(){}},ie=0;Q.wasmBinary&&(re=Q.wasmBinary),Q.noExitRuntime&&(ae=Q.noExitRuntime),"object"!=typeof WebAssembly&&ne("no native wasm support detected");var ce,se=new WebAssembly.Table({initial:462,maximum:462,element:"anyfunc"}),ue=!1,fe="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var le,_e,de,pe,ye,he=Q.TOTAL_MEMORY||16777216;(ce=Q.wasmMemory?Q.wasmMemory:new WebAssembly.Memory({initial:he/65536}))&&(le=ce.buffer),he=le.byteLength,o(le),ye[15676]=5305792;var me=[],ve=[],we=[],be=[],Ee=Math.abs,ge=Math.ceil,Pe=Math.floor,Ae=Math.min,Ne=0,ke=null,Se=null;Q.preloadedImages={},Q.preloadedAudios={};var Te="libpythia.wasm";if(!u()){var Le=Te;Te=Q.locateFile?Q.locateFile(Le,X):X+Le}Q.asm=function(){function e(e){Q.asm=e.exports,Ne--,Q.monitorRunDependencies&&Q.monitorRunDependencies(Ne),0==Ne&&(null!==ke&&(clearInterval(ke),ke=null),Se&&(e=Se,Se=null,e()))}function t(t){e(t.instance)}function n(e){return new Promise((function(e){e:{try{if(re){var t=new Uint8Array(re);break e}if(ee){t=ee(Te);break e}throw"both async and sync fetching of the wasm failed"}catch(e){s(e)}t=void 0}e(t)})).then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(e){ne("failed to asynchronously prepare wasm: "+e),s(e)}))}var r={env:ot,wasi_unstable:ot,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:oe};if(Ne++,Q.monitorRunDependencies&&Q.monitorRunDependencies(Ne),Q.instantiateWasm)try{return Q.instantiateWasm(r,e)}catch(e){return ne("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(re||"function"!=typeof WebAssembly.instantiateStreaming||u()||"function"!=typeof fetch)return n(t);fetch(Te,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){ne("wasm streaming compile failed: "+e),ne("falling back to ArrayBuffer instantiation"),n(t)}))}))}(),{}};var Be,Me,xe,Re,Ce,Oe,ze,Ue=[],He={open:function(e){var t=Ue[e.node.rdev];if(!t)throw new Ze(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.Za.flush(e.tty)},flush:function(e){e.tty.Za.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.Za.rb)throw new Ze(60);for(var a=0,o=0;o<r;o++){try{var i=e.tty.Za.rb(e.tty)}catch(e){throw new Ze(29)}if(void 0===i&&0===a)throw new Ze(6);if(null==i)break;a++,t[n+o]=i}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.tty||!e.tty.Za.hb)throw new Ze(60);try{for(var a=0;a<r;a++)e.tty.Za.hb(e.tty,t[n+a])}catch(e){throw new Ze(29)}return r&&(e.node.timestamp=Date.now()),a}},Ye={rb:function(e){if(!e.input.length){var t=null,n=Buffer.Xa?Buffer.Xa(256):new Buffer(256),r=0;try{r=rt.readSync(process.stdin.fd,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}if(!(t=0<r?n.slice(0,r).toString("utf-8"):null))return null;for(r=n=0;r<t.length;++r){var a=t.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++r)),127>=a?++n:n=2047>=a?n+2:65535>=a?n+3:n+4}var o=(n=Array(n+1)).length;if(r=0,0<o){a=r,o=r+o-1;for(var i=0;i<t.length;++i){var c=t.charCodeAt(i);if(55296<=c&&57343>=c&&(c=65536+((1023&c)<<10)|1023&t.charCodeAt(++i)),127>=c){if(r>=o)break;n[r++]=c}else{if(2047>=c){if(r+1>=o)break;n[r++]=192|c>>6}else{if(65535>=c){if(r+2>=o)break;n[r++]=224|c>>12}else{if(r+3>=o)break;n[r++]=240|c>>18,n[r++]=128|c>>12&63}n[r++]=128|c>>6&63}n[r++]=128|63&c}}n[r]=0,t=r-a}else t=0;n.length=t,e.input=n}return e.input.shift()},hb:function(e,t){null===t||10===t?(te(r(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(te(r(e.output,0)),e.output=[])}},Ie={hb:function(e,t){null===t||10===t?(ne(r(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(ne(r(e.output,0)),e.output=[])}},je={Ta:null,Qa:function(){return je.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576==(61440&n)||4096==(61440&n))throw new Ze(63);return je.Ta||(je.Ta={dir:{node:{Ua:je.Ma.Ua,Sa:je.Ma.Sa,lookup:je.Ma.lookup,$a:je.Ma.$a,rename:je.Ma.rename,unlink:je.Ma.unlink,rmdir:je.Ma.rmdir,readdir:je.Ma.readdir,symlink:je.Ma.symlink},stream:{Wa:je.Na.Wa}},file:{node:{Ua:je.Ma.Ua,Sa:je.Ma.Sa},stream:{Wa:je.Na.Wa,read:je.Na.read,write:je.Na.write,jb:je.Na.jb,sb:je.Na.sb,ub:je.Na.ub}},link:{node:{Ua:je.Ma.Ua,Sa:je.Ma.Sa,readlink:je.Ma.readlink},stream:{}},lb:{node:{Ua:je.Ma.Ua,Sa:je.Ma.Sa},stream:et}}),16384==(61440&(n=g(e,t,n,r)).mode)?(n.Ma=je.Ta.dir.node,n.Na=je.Ta.dir.stream,n.La={}):32768==(61440&n.mode)?(n.Ma=je.Ta.file.node,n.Na=je.Ta.file.stream,n.Oa=0,n.La=null):40960==(61440&n.mode)?(n.Ma=je.Ta.link.node,n.Na=je.Ta.link.stream):8192==(61440&n.mode)&&(n.Ma=je.Ta.lb.node,n.Na=je.Ta.lb.stream),n.timestamp=Date.now(),e&&(e.La[t]=n),n},Wd:function(e){if(e.La&&e.La.subarray){for(var t=[],n=0;n<e.Oa;++n)t.push(e.La[n]);return t}return e.La},Xd:function(e){return e.La?e.La.subarray?e.La.subarray(0,e.Oa):new Uint8Array(e.La):new Uint8Array},mb:function(e,t){var n=e.La?e.La.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.La,e.La=new Uint8Array(t),0<e.Oa&&e.La.set(n.subarray(0,e.Oa),0))},zb:function(e,t){if(e.Oa!=t)if(0==t)e.La=null,e.Oa=0;else{if(!e.La||e.La.subarray){var n=e.La;e.La=new Uint8Array(new ArrayBuffer(t)),n&&e.La.set(n.subarray(0,Math.min(t,e.Oa)))}else if(e.La||(e.La=[]),e.La.length>t)e.La.length=t;else for(;e.La.length<t;)e.La.push(0);e.Oa=t}},Ma:{Ua:function(e){var t={};return t.dev=8192==(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.Oa:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Ya=4096,t.blocks=Math.ceil(t.size/t.Ya),t},Sa:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&je.zb(e,t.size)},lookup:function(){throw Ge[44]},$a:function(e,t,n,r){return je.createNode(e,t,n,r)},rename:function(e,t,n){if(16384==(61440&e.mode)){try{var r=E(t,n)}catch(e){}if(r)for(var a in r.La)throw new Ze(55)}delete e.parent.La[e.name],e.name=n,t.La[n]=e,e.parent=t},unlink:function(e,t){delete e.La[t]},rmdir:function(e,t){var n,r=E(e,t);for(n in r.La)throw new Ze(55);delete e.La[t]},readdir:function(e){var t,n=[".",".."];for(t in e.La)e.La.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=je.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!=(61440&e.mode))throw new Ze(28);return e.link}},Na:{read:function(e,t,n,r,a){var o=e.node.La;if(a>=e.node.Oa)return 0;if(8<(e=Math.min(e.node.Oa-a,r))&&o.subarray)t.set(o.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=o[a+r];return e},write:function(e,t,n,r,a,o){if(o=!1,!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.La||e.La.subarray)){if(o)return e.La=t.subarray(n,n+r),e.Oa=r;if(0===e.Oa&&0===a)return e.La=new Uint8Array(t.subarray(n,n+r)),e.Oa=r;if(a+r<=e.Oa)return e.La.set(t.subarray(n,n+r),a),r}if(je.mb(e,a+r),e.La.subarray&&t.subarray)e.La.set(t.subarray(n,n+r),a);else for(o=0;o<r;o++)e.La[a+o]=t[n+o];return e.Oa=Math.max(e.Oa,a+r),r},Wa:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.node.mode)&&(t+=e.node.Oa),0>t)throw new Ze(28);return t},jb:function(e,t,n){je.mb(e.node,t+n),e.node.Oa=Math.max(e.node.Oa,t+n)},sb:function(e,t,n,r,a,o,i){if(32768!=(61440&e.node.mode))throw new Ze(43);if(n=e.node.La,2&i||n.buffer!==t&&n.buffer!==t.buffer){if((0<a||a+r<e.node.Oa)&&(n=n.subarray?n.subarray(a,a+r):Array.prototype.slice.call(n,a,a+r)),e=!0,a=t.buffer==_e.buffer,!(r=ct(r)))throw new Ze(48);(a?_e:t).set(n,r)}else e=!1,r=n.byteOffset;return{Yd:r,Ud:e}},ub:function(e,t,n,r,a){if(32768!=(61440&e.node.mode))throw new Ze(43);return 2&a?0:(je.Na.write(e,t,0,r,n,!1),0)}}},De={ud:63,Sc:44,Hd:71,oc:27,qc:29,qd:60,Db:1,Tc:45,Mb:8,Vb:12,Jb:6,Rd:6,Xc:48,Eb:2,hc:21,gd:105,Tb:10,gc:20,Sd:75,Rc:43,jd:54,sc:31,pc:28,Mc:41,Ec:33,od:59,Od:74,ic:22,bd:51,Gd:70,Dd:69,Fc:34,wd:64,dc:18,Ad:68,Yc:49,lc:24,Wb:106,uc:156,vc:107,wc:108,Cc:109,Pd:110,Pc:111,tc:112,ac:16,Uc:46,Lb:113,Pb:114,Td:115,Nc:104,Qb:103,Rb:102,bc:16,Sb:101,dd:100,Qc:116,Ld:117,cd:118,Zc:119,$c:120,Cd:121,Vc:47,Hb:122,Id:123,Xb:124,xd:65,Hc:36,ec:125,Ob:9,pd:126,Nb:127,Bd:128,xc:129,yc:130,Bc:131,Ac:132,zc:133,ed:52,kd:55,Ic:37,Dc:32,rd:138,vd:139,$b:15,Oc:42,Ib:5,zd:67,md:57,ad:50,Ed:140,Zb:14,Fb:3,Yb:13,Lc:40,Jc:38,Md:73,jc:142,kc:23,nc:26,Kb:7,cc:17,Gc:35,yd:66,Fd:137,Gb:4,Kc:39,rc:30,hd:53,Nd:141,Qd:136,fc:19,Jd:72,nd:138,Wc:148,mc:25,sd:61,Ub:11,ld:56,td:62,Kd:135},We={bb:!1,Bb:function(){We.bb=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),We.nb={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},kb:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},Pa:function(e){return n((e=e.code)in De),De[e]},Qa:function(e){return n(!0),We.createNode(null,"/",We.qb(e.gb.root),0)},createNode:function(e,t,n){if(16384!=(61440&n)&&32768!=(61440&n)&&40960!=(61440&n))throw new Ze(28);return(e=g(e,t,n)).Ma=We.Ma,e.Na=We.Na,e},qb:function(e){try{var t=rt.lstatSync(e);We.bb&&(t.mode|=(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}return t.mode},Ra:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.Qa.gb.root),t.reverse(),p.apply(null,t)},vb:function(e){e&=-2656257;var t,n=0;for(t in We.nb)e&t&&(n|=We.nb[t],e^=t);if(e)throw new Ze(28);return n},Ma:{Ua:function(e){e=We.Ra(e);try{var t=rt.lstatSync(e)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}return We.bb&&!t.Ya&&(t.Ya=4096),We.bb&&!t.blocks&&(t.blocks=(t.size+t.Ya-1)/t.Ya|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,Ya:t.Ya,blocks:t.blocks}},Sa:function(e,t){var n=We.Ra(e);try{void 0!==t.mode&&(rt.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.size&&rt.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},lookup:function(e,t){var n=y(We.Ra(e),t);return n=We.qb(n),We.createNode(e,t,n)},$a:function(e,t,n,r){e=We.createNode(e,t,n,r),t=We.Ra(e);try{16384==(61440&e.mode)?rt.mkdirSync(t,e.mode):rt.writeFileSync(t,"",{mode:e.mode})}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}return e},rename:function(e,t,n){e=We.Ra(e),t=y(We.Ra(t),n);try{rt.renameSync(e,t)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},unlink:function(e,t){e=y(We.Ra(e),t);try{rt.unlinkSync(e)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},rmdir:function(e,t){e=y(We.Ra(e),t);try{rt.rmdirSync(e)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},readdir:function(e){e=We.Ra(e);try{return rt.readdirSync(e)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},symlink:function(e,t,n){e=y(We.Ra(e),t);try{rt.symlinkSync(n,e)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},readlink:function(e){var t=We.Ra(e);try{return t=rt.readlinkSync(t),at.relative(at.resolve(e.Qa.gb.root),t)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}}},Na:{open:function(e){var t=We.Ra(e.node);try{32768==(61440&e.node.mode)&&(e.ab=rt.openSync(t,We.vb(e.flags)))}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},close:function(e){try{32768==(61440&e.node.mode)&&e.ab&&rt.closeSync(e.ab)}catch(e){if(!e.code)throw e;throw new Ze(We.Pa(e))}},read:function(e,t,n,r,a){if(0===r)return 0;try{return rt.readSync(e.ab,We.kb(t.buffer),n,r,a)}catch(e){throw new Ze(We.Pa(e))}},write:function(e,t,n,r,a){try{return rt.writeSync(e.ab,We.kb(t.buffer),n,r,a)}catch(e){throw new Ze(We.Pa(e))}},Wa:function(e,t,n){if(1===n)t+=e.position;else if(2===n&&32768==(61440&e.node.mode))try{t+=rt.fstatSync(e.ab).size}catch(e){throw new Ze(We.Pa(e))}if(0>t)throw new Ze(28);return t}}},Fe=null,Ve={},$e=[],Ke=1,Qe=null,qe=!0,Xe={},Ze=null,Ge={},Je={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},et={open:function(e){e.Na=Ve[e.node.rdev].Na,e.Na.open&&e.Na.open(e)},Wa:function(){throw new Ze(70)}},tt={},nt=0;U(),Qe=Array(4096),T(je,"/"),B("/tmp"),B("/home"),B("/home/web_user"),function(){if(B("/dev"),S(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),M("/dev/null",259),m(1280,Ye),m(1536,Ie),M("/dev/tty",1280),M("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};else try{var n=require("crypto");t=function(){return n.randomBytes(1)[0]}}catch(e){}t||(t=function(){s("random_device")}),H("random",t),H("urandom",t),B("/dev/shm"),B("/dev/shm/tmp")}(),B("/proc"),B("/proc/self"),B("/proc/self/fd"),T({Qa:function(){var e=g("/proc/self","fd",16895,73);return e.Ma={lookup:function(e,t){var n=$e[+t];if(!n)throw new Ze(8);return(e={parent:null,Qa:{tb:"fake"},Ma:{readlink:function(){return n.path}}}).parent=e}},e}},"/proc/self/fd");var rt=require("fs"),at=require("path");We.Bb();var ot={u:function(){},J:function(e,t){nt=t;try{var n=I(),r=Y(),a=Y(),o=Y(),i=Y();return-9007199254740992>=(e=4294967296*r+(a>>>0))||9007199254740992<=e?-61:(O(n,e,i),Me=[n.position>>>0,(Be=n.position,1<=+Ee(Be)?0<Be?(0|Ae(+Pe(Be/4294967296),4294967295))>>>0:~~+ge((Be-+(~~Be>>>0))/4294967296)>>>0:0)],ye[o>>2]=Me[0],ye[o+4>>2]=Me[1],n.fb&&0===e&&0===i&&(n.fb=null),0)}catch(e){return void 0!==tt&&e instanceof Ze||s(e),-e.Va}},I:function(e,t){nt=t;try{var n=I(),r=Y();e:{var a=Y();for(t=e=0;t<a;t++){var o=ye[r+(8*t+4)>>2],i=z(n,ye[r+8*t>>2],o,void 0);if(0>i){var c=-1;break e}if(e+=i,i<o)break}c=e}return c}catch(e){return void 0!==tt&&e instanceof Ze||s(e),-e.Va}},x:function(e,t){nt=t;try{var n=I();switch(Y()){case 0:var r=Y();return 0>r?-28:C(n.path,n.flags,0,r).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:return r=Y(),n.flags|=r,0;case 12:return r=Y(),pe[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Q.___errno_location&&(ye[Q.___errno_location()>>2]=28),-1;default:return-28}}catch(e){return void 0!==tt&&e instanceof Ze||s(e),-e.Va}},H:function(e,t){nt=t;try{return z(I(),Y(),Y())}catch(e){return void 0!==tt&&e instanceof Ze||s(e),-e.Va}},w:function(e,t){nt=t;try{var n=Y();return C(n?r(de,n,void 0):"",Y(),Y()).fd}catch(e){return void 0!==tt&&e instanceof Ze||s(e),-e.Va}},G:function(e,t){nt=t;try{var n=I(),r=Y();switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var a=Y();return ye[a>>2]=0;case 21520:return n.tty?-28:-59;case 21531:if(e=Y(),!n.Na.wb)throw new Ze(59);return n.Na.wb(n,r,e);case 21523:case 21524:return n.tty?0:-59;default:s("bad ioctl syscall "+r)}}catch(e){return void 0!==tt&&e instanceof Ze||s(e),-e.Va}},t:function(){},s:function(){return j.apply(null,arguments)},F:function(){return D.apply(null,arguments)},__memory_base:1024,__table_base:0,E:function(){s()},D:W,C:function(e,t){F(e,t)},B:function(e,t,n){de.set(de.subarray(t,t+n),e)},A:function(e){if(2147418112<e)return!1;for(var t=Math.max(W(),16777216);t<e;)t=536870912>=t?a(2*t):Math.min(a((3*t+2147483648)/4),2147418112);e:{try{ce.grow(t-le.byteLength+65535>>16),o(ce.buffer),e=1;break e}catch(e){}e=void 0}return!!e},j:function(e){!ae&&(ue=!0,Q.onExit)&&Q.onExit(e),t(e,new $(e))},v:function(e){var t=Date.now();return ye[e>>2]=t/1e3|0,ye[e+4>>2]=t%1e3*1e3|0,0},o:function(e){var t=V.Xa[e];V.Xa.splice(e,1),ft(t)},q:V,b:F,m:s,a:function(){return ie},g:function(e){var t=lt();try{return _t(e)}catch(e){if(ft(t),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},i:function(e,t){var n=lt();try{return dt(e,t)}catch(e){if(ft(n),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},h:function(e,t,n){var r=lt();try{return pt(e,t,n)}catch(e){if(ft(r),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},p:function(e,t,n,r){var a=lt();try{return yt(e,t,n,r)}catch(e){if(ft(a),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},z:function(e,t,n,r,a){var o=lt();try{return ht(e,t,n,r,a)}catch(e){if(ft(o),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},l:function(e){var t=lt();try{mt(e)}catch(e){if(ft(t),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},d:function(e,t){var n=lt();try{vt(e,t)}catch(e){if(ft(n),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},e:function(e,t,n){var r=lt();try{wt(e,t,n)}catch(e){if(ft(r),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},f:function(e,t,n,r){var a=lt();try{bt(e,t,n,r)}catch(e){if(ft(a),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},k:function(e,t,n,r,a){var o=lt();try{Et(e,t,n,r,a)}catch(e){if(ft(o),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},r:function(e,t,n,r,a,o){var i=lt();try{gt(e,t,n,r,a,o)}catch(e){if(ft(i),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},n:function(e,t,n,r,a,o,i){var c=lt();try{Pt(e,t,n,r,a,o,i)}catch(e){if(ft(c),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},K:function(e,t,n,r,a,o,i,c){var s=lt();try{At(e,t,n,r,a,o,i,c)}catch(e){if(ft(s),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},y:function(e,t,n,r,a,o,i,c,s){var u=lt();try{Nt(e,t,n,r,a,o,i,c,s)}catch(e){if(ft(u),e!==e+0&&"longjmp"!==e)throw e;st(1,0)}},memory:ce,c:function(e){ie=e},table:se},it=Q.asm({},ot,le);Q.asm=it,Q.___errno_location=function(){return Q.asm.L.apply(null,arguments)},Q._free=function(){return Q.asm.M.apply(null,arguments)};var ct=Q._malloc=function(){return Q.asm.N.apply(null,arguments)},st=Q._setThrew=function(){return Q.asm.O.apply(null,arguments)};Q._vsc_buffer_bytes=function(){return Q.asm.P.apply(null,arguments)},Q._vsc_buffer_data=function(){return Q.asm.Q.apply(null,arguments)},Q._vsc_buffer_delete=function(){return Q.asm.R.apply(null,arguments)},Q._vsc_buffer_len=function(){return Q.asm.S.apply(null,arguments)},Q._vsc_buffer_make_secure=function(){return Q.asm.T.apply(null,arguments)},Q._vsc_buffer_new=function(){return Q.asm.U.apply(null,arguments)},Q._vsc_buffer_new_with_capacity=function(){return Q.asm.V.apply(null,arguments)},Q._vsc_data=function(){return Q.asm.W.apply(null,arguments)},Q._vsc_data_bytes=function(){return Q.asm.X.apply(null,arguments)},Q._vsc_data_ctx_size=function(){return Q.asm.Y.apply(null,arguments)},Q._vsc_data_len=function(){return Q.asm.Z.apply(null,arguments)},Q._vscp_error_ctx_size=function(){return Q.asm._.apply(null,arguments)},Q._vscp_error_reset=function(){return Q.asm.$.apply(null,arguments)},Q._vscp_error_status=function(){return Q.asm.aa.apply(null,arguments)},Q._vscp_pythia_blind=function(){return Q.asm.ba.apply(null,arguments)},Q._vscp_pythia_blinded_password_buf_len=function(){return Q.asm.ca.apply(null,arguments)},Q._vscp_pythia_blinding_secret_buf_len=function(){return Q.asm.da.apply(null,arguments)},Q._vscp_pythia_cleanup=function(){return Q.asm.ea.apply(null,arguments)},Q._vscp_pythia_compute_transformation_key_pair=function(){return Q.asm.fa.apply(null,arguments)},Q._vscp_pythia_configure=function(){return Q.asm.ga.apply(null,arguments)},Q._vscp_pythia_deblind=function(){return Q.asm.ha.apply(null,arguments)},Q._vscp_pythia_deblinded_password_buf_len=function(){return Q.asm.ia.apply(null,arguments)},Q._vscp_pythia_get_password_update_token=function(){return Q.asm.ja.apply(null,arguments)},Q._vscp_pythia_password_update_token_buf_len=function(){return Q.asm.ka.apply(null,arguments)},Q._vscp_pythia_proof_value_buf_len=function(){return Q.asm.la.apply(null,arguments)},Q._vscp_pythia_prove=function(){return Q.asm.ma.apply(null,arguments)},Q._vscp_pythia_transform=function(){return Q.asm.na.apply(null,arguments)},Q._vscp_pythia_transformation_private_key_buf_len=function(){return Q.asm.oa.apply(null,arguments)},Q._vscp_pythia_transformation_public_key_buf_len=function(){return Q.asm.pa.apply(null,arguments)},Q._vscp_pythia_transformed_password_buf_len=function(){return Q.asm.qa.apply(null,arguments)},Q._vscp_pythia_transformed_tweak_buf_len=function(){return Q.asm.ra.apply(null,arguments)},Q._vscp_pythia_update_deblinded_with_token=function(){return Q.asm.sa.apply(null,arguments)},Q._vscp_pythia_verify=function(){return Q.asm.ta.apply(null,arguments)},Q.stackAlloc=function(){return Q.asm.Ia.apply(null,arguments)};var ut,ft=Q.stackRestore=function(){return Q.asm.Ja.apply(null,arguments)},lt=Q.stackSave=function(){return Q.asm.Ka.apply(null,arguments)},_t=Q.dynCall_i=function(){return Q.asm.ua.apply(null,arguments)},dt=Q.dynCall_ii=function(){return Q.asm.va.apply(null,arguments)},pt=Q.dynCall_iii=function(){return Q.asm.wa.apply(null,arguments)},yt=Q.dynCall_iiii=function(){return Q.asm.xa.apply(null,arguments)},ht=Q.dynCall_iiiii=function(){return Q.asm.ya.apply(null,arguments)},mt=Q.dynCall_v=function(){return Q.asm.za.apply(null,arguments)},vt=Q.dynCall_vi=function(){return Q.asm.Aa.apply(null,arguments)},wt=Q.dynCall_vii=function(){return Q.asm.Ba.apply(null,arguments)},bt=Q.dynCall_viii=function(){return Q.asm.Ca.apply(null,arguments)},Et=Q.dynCall_viiii=function(){return Q.asm.Da.apply(null,arguments)},gt=Q.dynCall_viiiii=function(){return Q.asm.Ea.apply(null,arguments)},Pt=Q.dynCall_viiiiii=function(){return Q.asm.Fa.apply(null,arguments)},At=Q.dynCall_viiiiiii=function(){return Q.asm.Ga.apply(null,arguments)},Nt=Q.dynCall_viiiiiiii=function(){return Q.asm.Ha.apply(null,arguments)};if(Q.asm=it,Q.then=function(e){if(ut)e(Q);else{var t=Q.onRuntimeInitialized;Q.onRuntimeInitialized=function(){t&&t(),e(Q)}}return Q},Se=function e(){ut||K(),ut||(Se=e)},Q.run=K,Q.preInit)for("function"==typeof Q.preInit&&(Q.preInit=[Q.preInit]);0<Q.preInit.length;)Q.preInit.pop()();return ae=!0,K(),e},e.exports=t}));let initPythiaError=(e,t)=>{class n extends Error{constructor(e){super(e),this.name="PythiaError",this.message=e}static handleStatusCode(e){if(0!=e){if(-1==e)throw new n("This error should not be returned if assertions is enabled.");if(-200==e)throw new n("Underlying pythia library returns -1.");if(-202==e)throw new n("Underlying random number generator failed.");throw new n("Unexpected status code:"+e)}}}return n};var PythiaError=initPythiaError;function ensureNumber(e,t){if(!("number"==typeof t||t instanceof Number))throw new TypeError(`'${e}' is not a number`);if(Number.isNaN(t))throw new TypeError(`'${e}' is NaN`);if(1/0===t)throw new TypeError(`'${e}' is Infinity`);if(-1/0===t)throw new TypeError(`'${e}' is -Infinity`)}function ensureNotNull(e,t){if(ensureNumber(e,t),0==t)throw new TypeError(`'${e}' is NULL`)}function ensureString(e,t){if(!("string"==typeof t||t instanceof String))throw new TypeError(`'${e}' is not a string`)}function ensureBoolean(e,t){if("boolean"!=typeof t)throw new TypeError(`'${e}' is not a boolean`)}function ensureByteArray(e,t){if(!(t instanceof Uint8Array))throw new TypeError(`'${e}' is not an Uint8Array`)}function ensureClass(e,t,n){if(!(t instanceof n))throw new TypeError(`'${e}' is not an instance of the class ${n.name}`);ensureNotNull(e,t.ctxPtr)}function ensureImplementInterface(e,t,n,r,a){if(ensureNotNull(e,t.ctxPtr),!a.isImplemented(t.ctxPtr,r))throw new TypeError(`'${e}' does not implement interface '${n}'`)}var ensureNumber_1=ensureNumber,ensureString_1=ensureString,ensureBoolean_1=ensureBoolean,ensureByteArray_1=ensureByteArray,ensureClass_1=ensureClass,ensureNotNull_1=ensureNotNull,ensureImplementInterface_1=ensureImplementInterface,precondition={ensureNumber:ensureNumber_1,ensureString:ensureString_1,ensureBoolean:ensureBoolean_1,ensureByteArray:ensureByteArray_1,ensureClass:ensureClass_1,ensureNotNull:ensureNotNull_1,ensureImplementInterface:ensureImplementInterface_1};let initPythia=(e,t)=>{class n{static configure(){const n=e._vscp_pythia_configure();t.PythiaError.handleStatusCode(n)}static cleanup(){e._vscp_pythia_cleanup()}static blindedPasswordBufLen(){return e._vscp_pythia_blinded_password_buf_len()}static deblindedPasswordBufLen(){return e._vscp_pythia_deblinded_password_buf_len()}static blindingSecretBufLen(){return e._vscp_pythia_blinding_secret_buf_len()}static transformationPrivateKeyBufLen(){return e._vscp_pythia_transformation_private_key_buf_len()}static transformationPublicKeyBufLen(){return e._vscp_pythia_transformation_public_key_buf_len()}static transformedPasswordBufLen(){return e._vscp_pythia_transformed_password_buf_len()}static transformedTweakBufLen(){return e._vscp_pythia_transformed_tweak_buf_len()}static proofValueBufLen(){return e._vscp_pythia_proof_value_buf_len()}static passwordUpdateTokenBufLen(){return e._vscp_pythia_password_update_token_buf_len()}static blind(r){precondition.ensureByteArray("password",r);var a=r.length*r.BYTES_PER_ELEMENT;const o=e._malloc(a);e.HEAP8.set(r,o),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,o,a),a=n.blindedPasswordBufLen(),a=e._vsc_buffer_new_with_capacity(a);var i=n.blindingSecretBufLen();i=e._vsc_buffer_new_with_capacity(i);try{const n=e._vscp_pythia_blind(r,a,i);t.PythiaError.handleStatusCode(n);const o=e._vsc_buffer_bytes(a),c=e._vsc_buffer_len(a),s=e.HEAPU8.slice(o,o+c),u=e._vsc_buffer_bytes(i),f=e._vsc_buffer_len(i);return{blindedPassword:s,blindingSecret:e.HEAPU8.slice(u,u+f)}}finally{e._free(n),e._free(r),e._vsc_buffer_delete(a),e._vsc_buffer_delete(i)}}static deblind(r,a){precondition.ensureByteArray("transformedPassword",r),precondition.ensureByteArray("blindingSecret",a);var o=r.length*r.BYTES_PER_ELEMENT;const i=e._malloc(o);e.HEAP8.set(r,i),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,i,o);var c=a.length*a.BYTES_PER_ELEMENT;o=e._malloc(c),e.HEAP8.set(a,o),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,o,c),c=n.deblindedPasswordBufLen(),c=e._vsc_buffer_new_with_capacity(c);try{const n=e._vscp_pythia_deblind(r,a,c);t.PythiaError.handleStatusCode(n);const o=e._vsc_buffer_bytes(c),i=e._vsc_buffer_len(c);return e.HEAPU8.slice(o,o+i)}finally{e._free(o),e._free(r),e._free(n),e._free(a),e._vsc_buffer_delete(c)}}static computeTransformationKeyPair(r,a,o){precondition.ensureByteArray("transformationKeyId",r),precondition.ensureByteArray("pythiaSecret",a),precondition.ensureByteArray("pythiaScopeSecret",o);var i=r.length*r.BYTES_PER_ELEMENT;const c=e._malloc(i);e.HEAP8.set(r,c),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,c,i);var s=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(s),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,s);var u=o.length*o.BYTES_PER_ELEMENT;s=e._malloc(u),e.HEAP8.set(o,s),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,s,u),u=n.transformationPrivateKeyBufLen(),u=e._vsc_buffer_new_with_capacity(u);var f=n.transformationPublicKeyBufLen();f=e._vsc_buffer_new_with_capacity(f);try{const n=e._vscp_pythia_compute_transformation_key_pair(r,a,o,u,f);t.PythiaError.handleStatusCode(n);const i=e._vsc_buffer_bytes(u),c=e._vsc_buffer_len(u),s=e.HEAPU8.slice(i,i+c),l=e._vsc_buffer_bytes(f),_=e._vsc_buffer_len(f);return{transformationPrivateKey:s,transformationPublicKey:e.HEAPU8.slice(l,l+_)}}finally{e._free(n),e._free(r),e._free(i),e._free(a),e._free(c),e._free(o),e._vsc_buffer_delete(u),e._vsc_buffer_delete(f)}}static transform(r,a,o){precondition.ensureByteArray("blindedPassword",r),precondition.ensureByteArray("tweak",a),precondition.ensureByteArray("transformationPrivateKey",o);var i=r.length*r.BYTES_PER_ELEMENT;const c=e._malloc(i);e.HEAP8.set(r,c),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,c,i);var s=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(s),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,s);var u=o.length*o.BYTES_PER_ELEMENT;s=e._malloc(u),e.HEAP8.set(o,s),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,s,u),u=n.transformedPasswordBufLen(),u=e._vsc_buffer_new_with_capacity(u);var f=n.transformedTweakBufLen();f=e._vsc_buffer_new_with_capacity(f);try{const n=e._vscp_pythia_transform(r,a,o,u,f);t.PythiaError.handleStatusCode(n);const i=e._vsc_buffer_bytes(u),c=e._vsc_buffer_len(u),s=e.HEAPU8.slice(i,i+c),l=e._vsc_buffer_bytes(f),_=e._vsc_buffer_len(f);return{transformedPassword:s,transformedTweak:e.HEAPU8.slice(l,l+_)}}finally{e._free(n),e._free(r),e._free(i),e._free(a),e._free(c),e._free(o),e._vsc_buffer_delete(u),e._vsc_buffer_delete(f)}}static prove(r,a,o,i,c){precondition.ensureByteArray("transformedPassword",r),precondition.ensureByteArray("blindedPassword",a),precondition.ensureByteArray("transformedTweak",o),precondition.ensureByteArray("transformationPrivateKey",i),precondition.ensureByteArray("transformationPublicKey",c);var s=r.length*r.BYTES_PER_ELEMENT;const u=e._malloc(s);e.HEAP8.set(r,u),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,u,s);var f=a.length*a.BYTES_PER_ELEMENT;s=e._malloc(f),e.HEAP8.set(a,s),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,s,f);var l=o.length*o.BYTES_PER_ELEMENT;f=e._malloc(l),e.HEAP8.set(o,f),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,f,l);var _=i.length*i.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(i,l),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,l,_);var d=c.length*c.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(c,_),c=e._vsc_data_ctx_size(),c=e._malloc(c),e._vsc_data(c,_,d),d=n.proofValueBufLen(),d=e._vsc_buffer_new_with_capacity(d);var p=n.proofValueBufLen();p=e._vsc_buffer_new_with_capacity(p);try{const n=e._vscp_pythia_prove(r,a,o,i,c,d,p);t.PythiaError.handleStatusCode(n);const s=e._vsc_buffer_bytes(d),u=e._vsc_buffer_len(d),f=e.HEAPU8.slice(s,s+u),l=e._vsc_buffer_bytes(p),_=e._vsc_buffer_len(p);return{proofValueC:f,proofValueU:e.HEAPU8.slice(l,l+_)}}finally{e._free(u),e._free(r),e._free(n),e._free(a),e._free(s),e._free(o),e._free(_),e._free(i),e._free(l),e._free(c),e._vsc_buffer_delete(d),e._vsc_buffer_delete(p)}}static verify(n,r,a,o,i,c){precondition.ensureByteArray("transformedPassword",n),precondition.ensureByteArray("blindedPassword",r),precondition.ensureByteArray("tweak",a),precondition.ensureByteArray("transformationPublicKey",o),precondition.ensureByteArray("proofValueC",i),precondition.ensureByteArray("proofValueU",c);var s=n.length*n.BYTES_PER_ELEMENT;const u=e._malloc(s);e.HEAP8.set(n,u),n=e._vsc_data_ctx_size(),n=e._malloc(n),e._vsc_data(n,u,s);var f=r.length*r.BYTES_PER_ELEMENT;s=e._malloc(f),e.HEAP8.set(r,s),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,s,f);var l=a.length*a.BYTES_PER_ELEMENT;f=e._malloc(l),e.HEAP8.set(a,f),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,f,l);var _=o.length*o.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(o,l),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,l,_);var d=i.length*i.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(i,_),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,_,d);var p=c.length*c.BYTES_PER_ELEMENT;let y;d=e._malloc(p),e.HEAP8.set(c,d),c=e._vsc_data_ctx_size(),c=e._malloc(c),e._vsc_data(c,d,p),p=e._vscp_error_ctx_size(),p=e._malloc(p),e._vscp_error_reset(p);try{y=e._vscp_pythia_verify(n,r,a,o,i,c,p);const u=e._vscp_error_status(p);return t.PythiaError.handleStatusCode(u),!!y}finally{e._free(u),e._free(n),e._free(s),e._free(r),e._free(f),e._free(a),e._free(l),e._free(o),e._free(_),e._free(i),e._free(d),e._free(c),e._free(p)}}static getPasswordUpdateToken(r,a){precondition.ensureByteArray("previousTransformationPrivateKey",r),precondition.ensureByteArray("newTransformationPrivateKey",a);var o=r.length*r.BYTES_PER_ELEMENT;const i=e._malloc(o);e.HEAP8.set(r,i),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,i,o);var c=a.length*a.BYTES_PER_ELEMENT;o=e._malloc(c),e.HEAP8.set(a,o),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,o,c),c=n.passwordUpdateTokenBufLen(),c=e._vsc_buffer_new_with_capacity(c);try{const n=e._vscp_pythia_get_password_update_token(r,a,c);t.PythiaError.handleStatusCode(n);const o=e._vsc_buffer_bytes(c),i=e._vsc_buffer_len(c);return e.HEAPU8.slice(o,o+i)}finally{e._free(o),e._free(r),e._free(n),e._free(a),e._vsc_buffer_delete(c)}}static updateDeblindedWithToken(r,a){precondition.ensureByteArray("deblindedPassword",r),precondition.ensureByteArray("passwordUpdateToken",a);var o=r.length*r.BYTES_PER_ELEMENT;const i=e._malloc(o);e.HEAP8.set(r,i),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,i,o);var c=a.length*a.BYTES_PER_ELEMENT;o=e._malloc(c),e.HEAP8.set(a,o),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,o,c),c=n.deblindedPasswordBufLen(),c=e._vsc_buffer_new_with_capacity(c);try{const n=e._vscp_pythia_update_deblinded_with_token(r,a,c);t.PythiaError.handleStatusCode(n);const o=e._vsc_buffer_bytes(c),i=e._vsc_buffer_len(c);return e.HEAPU8.slice(o,o+i)}finally{e._free(o),e._free(r),e._free(n),e._free(a),e._vsc_buffer_delete(c)}}}return n};var Pythia=initPythia;let initProject=()=>{const e=new libpythia;return new Promise((t,n)=>{e.onRuntimeInitialized=()=>{const n={};n.PythiaError=PythiaError(),n.Pythia=Pythia(e,n),t(n)},e.onAbort=e=>{n(Error(e))}})};var pythia=initProject;module.exports=pythia;
