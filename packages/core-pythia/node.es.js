var t=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var n=function(){"undefined"!=typeof document&&document.currentScript&&document.currentScript.src;return function(t){var e;t=t||{},e||(e=void 0!==t?t:{});var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);function a(t,e){throw e}var o,i,s,u,c;o=__dirname+"/",i=function(t){return u||(u=require("fs")),c||(c=require("path")),t=c.normalize(t),u.readFileSync(t,null)},s=function(t){return(t=i(t)).buffer||(t=new Uint8Array(t)),t.buffer||Y("Assertion failed: undefined"),t},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof we))throw t})),process.on("unhandledRejection",Y),a=function(t){process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"};var f=e.print||console.log.bind(console),l=e.printErr||console.warn.bind(console);for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);r=null,e.quit&&(a=e.quit);var _,d,p={"f64-rem":function(t,e){return t%e},debugger:function(){}},y=0;e.wasmBinary&&(_=e.wasmBinary),e.noExitRuntime&&(d=e.noExitRuntime),"object"!=typeof WebAssembly&&l("no native wasm support detected");var h,m,v,w,b,E=new WebAssembly.Table({initial:462,maximum:462,element:"anyfunc"}),g=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(t,e,n){var r=e+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.subarray&&P)return P.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var o=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function T(t){return 0<t%65536&&(t+=65536-t%65536),t}function k(t){m=t,e.HEAP8=v=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=b=new Int32Array(t),e.HEAPU8=w=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var L=e.TOTAL_MEMORY||16777216;function B(t){for(;0<t.length;){var n=t.shift();if("function"==typeof n)n();else{var r=n.tb;"number"==typeof r?void 0===n.Ya?e.dynCall_v(r):e.dynCall_vi(r,n.Ya):r(void 0===n.Ya?null:n.Ya)}}}(h=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:L/65536}))&&(m=h.buffer),L=m.byteLength,k(m),b[15672]=5305760;var M=[],x=[],S=[],N=[];function R(){var t=e.preRun.shift();M.unshift(t)}var K=Math.abs,U=Math.ceil,H=Math.floor,C=Math.min,z=0,O=null,j=null;function Y(t){throw e.onAbort&&e.onAbort(t),f(t),l(t),g=!0,new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}function I(){var t=W;return String.prototype.startsWith?t.startsWith("data:application/octet-stream;base64,"):0===t.indexOf("data:application/octet-stream;base64,")}e.preloadedImages={},e.preloadedAudios={};var D,F,W="libpythia.wasm";if(!I()){var $=W;W=e.locateFile?e.locateFile($,o):o+$}function V(t,e){for(var n=0,r=t.length-1;0<=r;r--){var a=t[r];"."===a?t.splice(r,1):".."===a?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n;n--)t.unshift("..");return t}function Q(t){var e="/"===t.charAt(0),n="/"===t.substr(-1);return(t=V(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t}function q(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."}function X(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)}function Z(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){if("string"!=typeof(e=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=V(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."}e.asm=function(){function t(t){e.asm=t.exports,z--,e.monitorRunDependencies&&e.monitorRunDependencies(z),0==z&&(null!==O&&(clearInterval(O),O=null),j&&(t=j,j=null,t()))}function n(e){t(e.instance)}function r(t){return new Promise((function(t){t:{try{if(_){var e=new Uint8Array(_);break t}if(s){e=s(W);break t}throw"both async and sync fetching of the wasm failed"}catch(t){Y(t)}e=void 0}t(e)})).then((function(t){return WebAssembly.instantiate(t,a)})).then(t,(function(t){l("failed to asynchronously prepare wasm: "+t),Y(t)}))}var a={env:Gt,wasi_unstable:Gt,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:p};if(z++,e.monitorRunDependencies&&e.monitorRunDependencies(z),e.instantiateWasm)try{return e.instantiateWasm(a,t)}catch(t){return l("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(_||"function"!=typeof WebAssembly.instantiateStreaming||I()||"function"!=typeof fetch)return r(n);fetch(W,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,a).then(n,(function(t){l("wasm streaming compile failed: "+t),l("falling back to ArrayBuffer instantiation"),r(n)}))}))}(),{}};var G=[];function J(t,e){G[t]={input:[],output:[],Va:e},Tt(t,tt)}var tt={open:function(t){var e=G[t.node.rdev];if(!e)throw new lt(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.Va.flush(t.tty)},flush:function(t){t.tty.Va.flush(t.tty)},read:function(t,e,n,r){if(!t.tty||!t.tty.Va.hb)throw new lt(60);for(var a=0,o=0;o<r;o++){try{var i=t.tty.Va.hb(t.tty)}catch(t){throw new lt(29)}if(void 0===i&&0===a)throw new lt(6);if(null==i)break;a++,e[n+o]=i}return a&&(t.node.timestamp=Date.now()),a},write:function(t,e,n,r){if(!t.tty||!t.tty.Va.$a)throw new lt(60);try{for(var a=0;a<r;a++)t.tty.Va.$a(t.tty,e[n+a])}catch(t){throw new lt(29)}return r&&(t.node.timestamp=Date.now()),a}},et={hb:function(t){if(!t.input.length){var e=null,n=Buffer.Sa?Buffer.Sa(256):new Buffer(256),r=0;try{r=u.readSync(process.stdin.fd,n,0,256,null)}catch(t){if(-1==t.toString().indexOf("EOF"))throw t;r=0}if(!(e=0<r?n.slice(0,r).toString("utf-8"):null))return null;for(r=n=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++r)),127>=a?++n:n=2047>=a?n+2:65535>=a?n+3:n+4}var o=(n=Array(n+1)).length;if(r=0,0<o){a=r,o=r+o-1;for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);if(55296<=s&&57343>=s)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i);if(127>=s){if(r>=o)break;n[r++]=s}else{if(2047>=s){if(r+1>=o)break;n[r++]=192|s>>6}else{if(65535>=s){if(r+2>=o)break;n[r++]=224|s>>12}else{if(r+3>=o)break;n[r++]=240|s>>18,n[r++]=128|s>>12&63}n[r++]=128|s>>6&63}n[r++]=128|63&s}}n[r]=0,e=r-a}else e=0;n.length=e,t.input=n}return t.input.shift()},$a:function(t,e){null===e||10===e?(f(A(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&0<t.output.length&&(f(A(t.output,0)),t.output=[])}},nt={$a:function(t,e){null===e||10===e?(l(A(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&0<t.output.length&&(l(A(t.output,0)),t.output=[])}},rt={Oa:null,Qa:function(){return rt.createNode(null,"/",16895,0)},createNode:function(t,e,n,r){if(24576==(61440&n)||4096==(61440&n))throw new lt(63);return rt.Oa||(rt.Oa={dir:{node:{Ra:rt.La.Ra,Pa:rt.La.Pa,lookup:rt.La.lookup,Wa:rt.La.Wa,rename:rt.La.rename,unlink:rt.La.unlink,rmdir:rt.La.rmdir,readdir:rt.La.readdir,symlink:rt.La.symlink},stream:{Ua:rt.Ma.Ua}},file:{node:{Ra:rt.La.Ra,Pa:rt.La.Pa},stream:{Ua:rt.Ma.Ua,read:rt.Ma.read,write:rt.Ma.write,bb:rt.Ma.bb,ib:rt.Ma.ib,kb:rt.Ma.kb}},link:{node:{Ra:rt.La.Ra,Pa:rt.La.Pa,readlink:rt.La.readlink},stream:{}},cb:{node:{Ra:rt.La.Ra,Pa:rt.La.Pa},stream:At}}),16384==(61440&(n=mt(t,e,n,r)).mode)?(n.La=rt.Oa.dir.node,n.Ma=rt.Oa.dir.stream,n.Ka={}):32768==(61440&n.mode)?(n.La=rt.Oa.file.node,n.Ma=rt.Oa.file.stream,n.Na=0,n.Ka=null):40960==(61440&n.mode)?(n.La=rt.Oa.link.node,n.Ma=rt.Oa.link.stream):8192==(61440&n.mode)&&(n.La=rt.Oa.cb.node,n.Ma=rt.Oa.cb.stream),n.timestamp=Date.now(),t&&(t.Ka[e]=n),n},ub:function(t){if(t.Ka&&t.Ka.subarray){for(var e=[],n=0;n<t.Na;++n)e.push(t.Ka[n]);return e}return t.Ka},vb:function(t){return t.Ka?t.Ka.subarray?t.Ka.subarray(0,t.Na):new Uint8Array(t.Ka):new Uint8Array},eb:function(t,e){var n=t.Ka?t.Ka.length:0;n>=e||(e=Math.max(e,n*(1048576>n?2:1.125)|0),0!=n&&(e=Math.max(e,256)),n=t.Ka,t.Ka=new Uint8Array(e),0<t.Na&&t.Ka.set(n.subarray(0,t.Na),0))},pb:function(t,e){if(t.Na!=e)if(0==e)t.Ka=null,t.Na=0;else{if(!t.Ka||t.Ka.subarray){var n=t.Ka;t.Ka=new Uint8Array(new ArrayBuffer(e)),n&&t.Ka.set(n.subarray(0,Math.min(e,t.Na)))}else if(t.Ka||(t.Ka=[]),t.Ka.length>e)t.Ka.length=e;else for(;t.Ka.length<e;)t.Ka.push(0);t.Na=e}},La:{Ra:function(t){var e={};return e.dev=8192==(61440&t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,16384==(61440&t.mode)?e.size=4096:32768==(61440&t.mode)?e.size=t.Na:40960==(61440&t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.lb=4096,e.blocks=Math.ceil(e.size/e.lb),e},Pa:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&rt.pb(t,e.size)},lookup:function(){throw _t[44]},Wa:function(t,e,n,r){return rt.createNode(t,e,n,r)},rename:function(t,e,n){if(16384==(61440&t.mode)){try{var r=ht(e,n)}catch(t){}if(r)for(var a in r.Ka)throw new lt(55)}delete t.parent.Ka[t.name],t.name=n,e.Ka[n]=t,t.parent=e},unlink:function(t,e){delete t.Ka[e]},rmdir:function(t,e){var n,r=ht(t,e);for(n in r.Ka)throw new lt(55);delete t.Ka[e]},readdir:function(t){var e,n=[".",".."];for(e in t.Ka)t.Ka.hasOwnProperty(e)&&n.push(e);return n},symlink:function(t,e,n){return(t=rt.createNode(t,e,41471,0)).link=n,t},readlink:function(t){if(40960!=(61440&t.mode))throw new lt(28);return t.link}},Ma:{read:function(t,e,n,r,a){var o=t.node.Ka;if(a>=t.node.Na)return 0;if(8<(t=Math.min(t.node.Na-a,r))&&o.subarray)e.set(o.subarray(a,a+t),n);else for(r=0;r<t;r++)e[n+r]=o[a+r];return t},write:function(t,e,n,r,a,o){if(e.buffer===v.buffer&&(o=!1),!r)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Ka||t.Ka.subarray)){if(o)return t.Ka=e.subarray(n,n+r),t.Na=r;if(0===t.Na&&0===a)return t.Ka=new Uint8Array(e.subarray(n,n+r)),t.Na=r;if(a+r<=t.Na)return t.Ka.set(e.subarray(n,n+r),a),r}if(rt.eb(t,a+r),t.Ka.subarray&&e.subarray)t.Ka.set(e.subarray(n,n+r),a);else for(o=0;o<r;o++)t.Ka[a+o]=e[n+o];return t.Na=Math.max(t.Na,a+r),r},Ua:function(t,e,n){if(1===n?e+=t.position:2===n&&32768==(61440&t.node.mode)&&(e+=t.node.Na),0>e)throw new lt(28);return e},bb:function(t,e,n){rt.eb(t.node,e+n),t.node.Na=Math.max(t.node.Na,e+n)},ib:function(t,e,n,r,a,o,i){if(32768!=(61440&t.node.mode))throw new lt(43);if(n=t.node.Ka,2&i||n.buffer!==e.buffer){if((0<a||a+r<t.node.Na)&&(n=n.subarray?n.subarray(a,a+r):Array.prototype.slice.call(n,a,a+r)),t=!0,a=e.buffer==v.buffer,!(r=te(r)))throw new lt(48);(a?v:e).set(n,r)}else t=!1,r=n.byteOffset;return{xb:r,sb:t}},kb:function(t,e,n,r,a){if(32768!=(61440&t.node.mode))throw new lt(43);return 2&a?0:(rt.Ma.write(t,e,0,r,n,!1),0)}}},at=null,ot={},it=[],st=1,ut=null,ct=!0,ft={},lt=null,_t={};function dt(t,e){if(e=e||{},!(t=Z("/",t)))return{path:"",node:null};var n,r={gb:!0,ab:0};for(n in r)void 0===e[n]&&(e[n]=r[n]);if(8<e.ab)throw new lt(32);t=V(t.split("/").filter((function(t){return!!t})),!1);var a=at;for(r="/",n=0;n<t.length;n++){var o=n===t.length-1;if(o&&e.parent)break;if(a=ht(a,t[n]),r=Q(r+"/"+t[n]),a.Xa&&(!o||o&&e.gb)&&(a=a.Xa.root),!o||e.fb)for(o=0;40960==(61440&a.mode);)if(a=St(r),a=dt(r=Z(q(r),a),{ab:e.ab}).node,40<o++)throw new lt(32)}return{path:r,node:a}}function pt(t){for(var e;;){if(t===t.parent)return t=t.Qa.jb,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}}function yt(t,e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r)|0;return(t+n>>>0)%ut.length}function ht(t,e){var n;if(n=(n=bt(t,"x"))?n:t.La.lookup?0:2)throw new lt(n,t);for(n=ut[yt(t.id,e)];n;n=n.ob){var r=n.name;if(n.parent.id===t.id&&r===e)return n}return t.La.lookup(t,e)}function mt(t,e,n,r){return zt||((zt=function(t,e,n,r){t||(t=this),this.parent=t,this.Qa=t.Qa,this.Xa=null,this.id=st++,this.name=e,this.mode=n,this.La={},this.Ma={},this.rdev=r}).prototype={},Object.defineProperties(zt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}})),function(t){var e=yt(t.parent.id,t.name);t.ob=ut[e],ut[e]=t}(t=new zt(t,e,n,r)),t}var vt={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function wt(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e}function bt(t,e){return ct?0:(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:2}function Et(t,e){try{return ht(t,e),20}catch(t){}return bt(t,"wx")}function gt(t){Ot||((Ot=function(){}).prototype={},Object.defineProperties(Ot.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}}}));var e,n=new Ot;for(e in t)n[e]=t[e];return t=n,n=function(){for(var t=0;t<=4096;t++)if(!it[t])return t;throw new lt(33)}(),t.fd=n,it[n]=t}var Pt,At={open:function(t){t.Ma=ot[t.node.rdev].Ma,t.Ma.open&&t.Ma.open(t)},Ua:function(){throw new lt(70)}};function Tt(t,e){ot[t]={Ma:e}}function kt(t,e){var n="/"===e,r=!e;if(n&&at)throw new lt(10);if(!n&&!r){var a=dt(e,{gb:!1});if(e=a.path,(a=a.node).Xa)throw new lt(10);if(16384!=(61440&a.mode))throw new lt(54)}e={type:t,wb:{},jb:e,nb:[]},(t=t.Qa(e)).Qa=e,e.root=t,n?at=t:a&&(a.Xa=e,a.Qa&&a.Qa.nb.push(e))}function Lt(t,e,n){var r=dt(t,{parent:!0}).node;if(!(t=X(t))||"."===t||".."===t)throw new lt(28);var a=Et(r,t);if(a)throw new lt(a);if(!r.La.Wa)throw new lt(63);return r.La.Wa(r,t,e,n)}function Bt(t){Lt(t,16895,0)}function Mt(t,e,n){void 0===n&&(n=e,e=438),Lt(t,8192|e,n)}function xt(t,e){if(!Z(t))throw new lt(44);var n=dt(e,{parent:!0}).node;if(!n)throw new lt(44);var r=Et(n,e=X(e));if(r)throw new lt(r);if(!n.La.symlink)throw new lt(63);n.La.symlink(n,e,t)}function St(t){if(!(t=dt(t).node))throw new lt(44);if(!t.La.readlink)throw new lt(28);return Z(pt(t.parent),t.La.readlink(t))}function Nt(t,n,r){if(""===t)throw new lt(44);if("string"==typeof n){var a=vt[n];if(void 0===a)throw Error("Unknown file open mode: "+n);n=a}if(r=64&n?4095&(void 0===r?438:r)|32768:0,"object"==typeof t)var o=t;else{t=Q(t);try{o=dt(t,{fb:!(131072&n)}).node}catch(t){}}if(a=!1,64&n)if(o){if(128&n)throw new lt(20)}else o=Lt(t,r,0),a=!0;if(!o)throw new lt(44);if(8192==(61440&o.mode)&&(n&=-513),65536&n&&16384!=(61440&o.mode))throw new lt(54);if(!a&&(r=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==wt(n)||512&n)?31:bt(o,wt(n)):44))throw new lt(r);if(512&n){var i;if(!(i="string"==typeof(r=o)?dt(r,{fb:!0}).node:r).La.Pa)throw new lt(63);if(16384==(61440&i.mode))throw new lt(31);if(32768!=(61440&i.mode))throw new lt(28);if(r=bt(i,"w"))throw new lt(r);i.La.Pa(i,{size:0,timestamp:Date.now()})}n&=-641,(o=gt({node:o,path:pt(o),flags:n,seekable:!0,position:0,Ma:o.Ma,rb:[],error:!1})).Ma.open&&o.Ma.open(o),!e.logReadFiles||1&n||(jt||(jt={}),t in jt||(jt[t]=1,console.log("FS.trackingDelegate error on read file: "+t)));try{ft.onOpenFile&&(i=0,1!=(2097155&n)&&(i|=1),0!=(2097155&n)&&(i|=2),ft.onOpenFile(t,i))}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return o}function Rt(t,e,n){if(null===t.fd)throw new lt(8);if(!t.seekable||!t.Ma.Ua)throw new lt(70);if(0!=n&&1!=n&&2!=n)throw new lt(28);t.position=t.Ma.Ua(t,e,n),t.rb=[]}function Kt(t,e,n,r){var a=v;if(0>n||0>r)throw new lt(28);if(null===t.fd)throw new lt(8);if(1==(2097155&t.flags))throw new lt(8);if(16384==(61440&t.node.mode))throw new lt(31);if(!t.Ma.read)throw new lt(28);var o=void 0!==r;if(o){if(!t.seekable)throw new lt(70)}else r=t.position;return e=t.Ma.read(t,a,e,n,r),o||(t.position+=e),e}function Ut(){lt||((lt=function(t,e){this.node=e,this.qb=function(t){this.Ta=t},this.qb(t),this.message="FS error"}).prototype=Error(),lt.prototype.constructor=lt,[44].forEach((function(t){_t[t]=new lt(t),_t[t].stack="<generic error, no stack>"})))}function Ht(t,e,n){t=Q("/dev/"+t);var r=function(t,e){var n=0;return t&&(n|=365),e&&(n|=146),n}(!!e,!!n);Ct||(Ct=64);var a=Ct++<<8|0;Tt(a,{open:function(t){t.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(t,n,r,a){for(var o=0,i=0;i<a;i++){try{var s=e()}catch(t){throw new lt(29)}if(void 0===s&&0===o)throw new lt(6);if(null==s)break;o++,n[r+i]=s}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,r,a){for(var o=0;o<a;o++)try{n(e[r+o])}catch(t){throw new lt(29)}return a&&(t.node.timestamp=Date.now()),o}}),Mt(t,r,a)}var Ct,zt,Ot,jt,Yt={},It=0;function Dt(){return b[(It+=4)-4>>2]}function Ft(t){if(void 0===t&&(t=Dt()),!(t=it[t]))throw new lt(8);return t}function Wt(t){try{var e=Ft(t);if(null===e.fd)throw new lt(8);e.Za&&(e.Za=null);try{e.Ma.close&&e.Ma.close(e)}catch(t){throw t}finally{it[e.fd]=null}return e.fd=null,0}catch(t){return void 0!==Yt&&t instanceof lt||Y(t),t.Ta}}function $t(t,e,n,r){try{t:{for(var a=Ft(t),o=t=0;o<n;o++){var i=b[e+(8*o+4)>>2],s=Kt(a,b[e+8*o>>2],i,void 0);if(0>s){var u=-1;break t}if(t+=s,s<i)break}u=t}return b[r>>2]=u,0}catch(t){return void 0!==Yt&&t instanceof lt||Y(t),t.Ta}}function Vt(t,e,n,r,a){try{var o=Ft(t);return-9007199254740992>=(t=4294967296*n+(e>>>0))||9007199254740992<=t?-61:(Rt(o,t,r),F=[o.position>>>0,(D=o.position,1<=+K(D)?0<D?(0|C(+H(D/4294967296),4294967295))>>>0:~~+U((D-+(~~D>>>0))/4294967296)>>>0:0)],b[a>>2]=F[0],b[a+4>>2]=F[1],o.Za&&0===t&&0===r&&(o.Za=null),0)}catch(t){return void 0!==Yt&&t instanceof lt||Y(t),t.Ta}}function Qt(t,e,n,r){try{t:{for(var a=Ft(t),o=t=0;o<n;o++){var i=a,s=b[e+8*o>>2],u=b[e+(8*o+4)>>2],c=void 0,f=v;if(0>u||0>c)throw new lt(28);if(null===i.fd)throw new lt(8);if(0==(2097155&i.flags))throw new lt(8);if(16384==(61440&i.node.mode))throw new lt(31);if(!i.Ma.write)throw new lt(28);1024&i.flags&&Rt(i,0,2);var l=void 0!==c;if(l){if(!i.seekable)throw new lt(70)}else c=i.position;var _=i.Ma.write(i,f,s,u,c,void 0);l||(i.position+=_);try{i.path&&ft.onWriteToFile&&ft.onWriteToFile(i.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+i.path+"') threw an exception: "+t.message)}var d=_;if(0>d){var p=-1;break t}t+=d}p=t}return b[r>>2]=p,0}catch(t){return void 0!==Yt&&t instanceof lt||Y(t),t.Ta}}function qt(){return v.length}function Xt(t,e){throw ee(t,e||1),"longjmp"}function Zt(){return Zt.Sa||(Zt.Sa=[]),Zt.Sa.push(ae()),Zt.Sa.length-1}Ut(),ut=Array(4096),kt(rt,"/"),Bt("/tmp"),Bt("/home"),Bt("/home/web_user"),function(){if(Bt("/dev"),Tt(259,{read:function(){return 0},write:function(t,e,n,r){return r}}),Mt("/dev/null",259),J(1280,et),J(1536,nt),Mt("/dev/tty",1280),Mt("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var t=new Uint8Array(1),e=function(){return crypto.getRandomValues(t),t[0]};else try{var n=require("crypto");e=function(){return n.randomBytes(1)[0]}}catch(t){}e||(e=function(){Y("random_device")}),Ht("random",e),Ht("urandom",e),Bt("/dev/shm"),Bt("/dev/shm/tmp")}(),Bt("/proc"),Bt("/proc/self"),Bt("/proc/self/fd"),kt({Qa:function(){var t=mt("/proc/self","fd",16895,73);return t.La={lookup:function(t,e){var n=it[+e];if(!n)throw new lt(8);return(t={parent:null,Qa:{jb:"fake"},La:{readlink:function(){return n.path}}}).parent=t}},t}},"/proc/self/fd");var Gt={u:function(){},I:function(t,e){It=e;try{return Kt(Ft(),Dt(),Dt())}catch(t){return void 0!==Yt&&t instanceof lt||Y(t),-t.Ta}},w:function(t,e){It=e;try{var n=Dt();return Nt(n?A(w,n,void 0):"",Dt(),Dt()).fd}catch(t){return void 0!==Yt&&t instanceof lt||Y(t),-t.Ta}},H:function(t,e){It=e;try{var n=Ft(),r=Dt();switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var a=Dt();return b[a>>2]=0;case 21520:return n.tty?-28:-59;case 21531:if(t=a=Dt(),!n.Ma.mb)throw new lt(59);return n.Ma.mb(n,r,t);case 21523:case 21524:return n.tty?0:-59;default:Y("bad ioctl syscall "+r)}}catch(t){return void 0!==Yt&&t instanceof lt||Y(t),-t.Ta}},t:function(){},s:function(){return Wt.apply(null,arguments)},G:function(){return $t.apply(null,arguments)},z:function(){return Vt.apply(null,arguments)},F:function(){return Qt.apply(null,arguments)},__memory_base:1024,__table_base:0,E:function(){Y()},D:qt,C:function(t,e){Xt(t,e)},B:function(t,e,n){w.set(w.subarray(e,e+n),t)},A:function(t){if(2147418112<t)return!1;for(var e=Math.max(qt(),16777216);e<t;)e=536870912>=e?T(2*e):Math.min(T((3*e+2147483648)/4),2147418112);t:{try{h.grow(e-m.byteLength+65535>>16),k(h.buffer);var n=1;break t}catch(t){}n=void 0}return!!n},j:function(t){!d&&(g=!0,e.onExit)&&e.onExit(t),a(t,new we(t))},v:function(t){var e=Date.now();return b[t>>2]=e/1e3|0,b[t+4>>2]=e%1e3*1e3|0,0},o:function(t){var e=Zt.Sa[t];Zt.Sa.splice(t,1),re(e)},q:Zt,b:Xt,m:Y,a:function(){return y},g:function(t){var e=ae();try{return oe(t)}catch(t){if(re(e),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},i:function(t,e){var n=ae();try{return ie(t,e)}catch(t){if(re(n),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},h:function(t,e,n){var r=ae();try{return se(t,e,n)}catch(t){if(re(r),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},p:function(t,e,n,r){var a=ae();try{return ue(t,e,n,r)}catch(t){if(re(a),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},y:function(t,e,n,r,a){var o=ae();try{return ce(t,e,n,r,a)}catch(t){if(re(o),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},l:function(t){var e=ae();try{fe(t)}catch(t){if(re(e),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},d:function(t,e){var n=ae();try{le(t,e)}catch(t){if(re(n),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},e:function(t,e,n){var r=ae();try{_e(t,e,n)}catch(t){if(re(r),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},f:function(t,e,n,r){var a=ae();try{de(t,e,n,r)}catch(t){if(re(a),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},k:function(t,e,n,r,a){var o=ae();try{pe(t,e,n,r,a)}catch(t){if(re(o),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},r:function(t,e,n,r,a,o){var i=ae();try{ye(t,e,n,r,a,o)}catch(t){if(re(i),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},n:function(t,e,n,r,a,o,i){var s=ae();try{he(t,e,n,r,a,o,i)}catch(t){if(re(s),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},J:function(t,e,n,r,a,o,i,s){var u=ae();try{me(t,e,n,r,a,o,i,s)}catch(t){if(re(u),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},x:function(t,e,n,r,a,o,i,s,u){var c=ae();try{ve(t,e,n,r,a,o,i,s,u)}catch(t){if(re(c),t!==t+0&&"longjmp"!==t)throw t;ee(1,0)}},memory:h,c:function(t){y=t},table:E},Jt=e.asm({},Gt,m);e.asm=Jt,e.___errno_location=function(){return e.asm.K.apply(null,arguments)},e._free=function(){return e.asm.L.apply(null,arguments)};var te=e._malloc=function(){return e.asm.M.apply(null,arguments)},ee=e._setThrew=function(){return e.asm.N.apply(null,arguments)};e._vsc_buffer_bytes=function(){return e.asm.O.apply(null,arguments)},e._vsc_buffer_data=function(){return e.asm.P.apply(null,arguments)},e._vsc_buffer_delete=function(){return e.asm.Q.apply(null,arguments)},e._vsc_buffer_len=function(){return e.asm.R.apply(null,arguments)},e._vsc_buffer_make_secure=function(){return e.asm.S.apply(null,arguments)},e._vsc_buffer_new=function(){return e.asm.T.apply(null,arguments)},e._vsc_buffer_new_with_capacity=function(){return e.asm.U.apply(null,arguments)},e._vsc_data=function(){return e.asm.V.apply(null,arguments)},e._vsc_data_bytes=function(){return e.asm.W.apply(null,arguments)},e._vsc_data_ctx_size=function(){return e.asm.X.apply(null,arguments)},e._vsc_data_len=function(){return e.asm.Y.apply(null,arguments)},e._vscp_error_ctx_size=function(){return e.asm.Z.apply(null,arguments)},e._vscp_error_reset=function(){return e.asm._.apply(null,arguments)},e._vscp_error_status=function(){return e.asm.$.apply(null,arguments)},e._vscp_pythia_blind=function(){return e.asm.aa.apply(null,arguments)},e._vscp_pythia_blinded_password_buf_len=function(){return e.asm.ba.apply(null,arguments)},e._vscp_pythia_blinding_secret_buf_len=function(){return e.asm.ca.apply(null,arguments)},e._vscp_pythia_cleanup=function(){return e.asm.da.apply(null,arguments)},e._vscp_pythia_compute_transformation_key_pair=function(){return e.asm.ea.apply(null,arguments)},e._vscp_pythia_configure=function(){return e.asm.fa.apply(null,arguments)},e._vscp_pythia_deblind=function(){return e.asm.ga.apply(null,arguments)},e._vscp_pythia_deblinded_password_buf_len=function(){return e.asm.ha.apply(null,arguments)},e._vscp_pythia_get_password_update_token=function(){return e.asm.ia.apply(null,arguments)},e._vscp_pythia_password_update_token_buf_len=function(){return e.asm.ja.apply(null,arguments)},e._vscp_pythia_proof_value_buf_len=function(){return e.asm.ka.apply(null,arguments)},e._vscp_pythia_prove=function(){return e.asm.la.apply(null,arguments)},e._vscp_pythia_transform=function(){return e.asm.ma.apply(null,arguments)},e._vscp_pythia_transformation_private_key_buf_len=function(){return e.asm.na.apply(null,arguments)},e._vscp_pythia_transformation_public_key_buf_len=function(){return e.asm.oa.apply(null,arguments)},e._vscp_pythia_transformed_password_buf_len=function(){return e.asm.pa.apply(null,arguments)},e._vscp_pythia_transformed_tweak_buf_len=function(){return e.asm.qa.apply(null,arguments)},e._vscp_pythia_update_deblinded_with_token=function(){return e.asm.ra.apply(null,arguments)},e._vscp_pythia_verify=function(){return e.asm.sa.apply(null,arguments)},e.stackAlloc=function(){return e.asm.Ha.apply(null,arguments)};var ne,re=e.stackRestore=function(){return e.asm.Ia.apply(null,arguments)},ae=e.stackSave=function(){return e.asm.Ja.apply(null,arguments)},oe=e.dynCall_i=function(){return e.asm.ta.apply(null,arguments)},ie=e.dynCall_ii=function(){return e.asm.ua.apply(null,arguments)},se=e.dynCall_iii=function(){return e.asm.va.apply(null,arguments)},ue=e.dynCall_iiii=function(){return e.asm.wa.apply(null,arguments)},ce=e.dynCall_iiiii=function(){return e.asm.xa.apply(null,arguments)},fe=e.dynCall_v=function(){return e.asm.ya.apply(null,arguments)},le=e.dynCall_vi=function(){return e.asm.za.apply(null,arguments)},_e=e.dynCall_vii=function(){return e.asm.Aa.apply(null,arguments)},de=e.dynCall_viii=function(){return e.asm.Ba.apply(null,arguments)},pe=e.dynCall_viiii=function(){return e.asm.Ca.apply(null,arguments)},ye=e.dynCall_viiiii=function(){return e.asm.Da.apply(null,arguments)},he=e.dynCall_viiiiii=function(){return e.asm.Ea.apply(null,arguments)},me=e.dynCall_viiiiiii=function(){return e.asm.Fa.apply(null,arguments)},ve=e.dynCall_viiiiiiii=function(){return e.asm.Ga.apply(null,arguments)};function we(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function be(){function t(){if(!ne&&(ne=!0,!g)){if(e.noFSInit||Pt||(Pt=!0,Ut(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?Ht("stdin",e.stdin):xt("/dev/tty","/dev/stdin"),e.stdout?Ht("stdout",null,e.stdout):xt("/dev/tty","/dev/stdout"),e.stderr?Ht("stderr",null,e.stderr):xt("/dev/tty1","/dev/stderr"),Nt("/dev/stdin","r"),Nt("/dev/stdout","w"),Nt("/dev/stderr","w")),B(x),ct=!1,B(S),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();N.unshift(t)}B(N)}}if(!(0<z)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)R();B(M),0<z||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.asm=Jt,e.then=function(t){if(ne)t(e);else{var n=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){n&&n(),t(e)}}return e},j=function t(){ne||be(),ne||(j=t)},e.run=be,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return d=!0,be(),t}}();t.exports=n}));var e=(t,e)=>{class n extends Error{constructor(t){super(t),this.name="PythiaError",this.message=t}static handleStatusCode(t){if(0!=t){if(-1==t)throw new n("This error should not be returned if assertions is enabled.");if(-200==t)throw new n("Underlying pythia library returns -1.");if(-202==t)throw new n("Underlying random number generator failed.");throw new n("Unexpected status code:"+t)}}}return n};function n(t,e){if(!("number"==typeof e||e instanceof Number))throw new TypeError(`'${t}' is not a number`);if(Number.isNaN(e))throw new TypeError(`'${t}' is NaN`);if(e===1/0)throw new TypeError(`'${t}' is Infinity`);if(e===-1/0)throw new TypeError(`'${t}' is -Infinity`)}function r(t,e){if(n(t,e),0==e)throw new TypeError(`'${t}' is NULL`)}var a={ensureNumber:n,ensureString:function(t,e){if(!("string"==typeof e||e instanceof String))throw new TypeError(`'${t}' is not a string`)},ensureBoolean:function(t,e){if("boolean"!=typeof e)throw new TypeError(`'${t}' is not a boolean`)},ensureByteArray:function(t,e){if(!(e instanceof Uint8Array))throw new TypeError(`'${t}' is not an Uint8Array`)},ensureClass:function(t,e,n){if(!(e instanceof n))throw new TypeError(`'${t}' is not an instance of the class ${n.name}`);r(t,e.ctxPtr)},ensureNotNull:r,ensureImplementInterface:function(t,e,n,a,o){if(r(t,e.ctxPtr),!o.isImplemented(e.ctxPtr,a))throw new TypeError(`'${t}' does not implement interface '${n}'`)}};var o=(t,e)=>{class n{static configure(){const n=t._vscp_pythia_configure();e.PythiaError.handleStatusCode(n)}static cleanup(){t._vscp_pythia_cleanup()}static blindedPasswordBufLen(){let e;return e=t._vscp_pythia_blinded_password_buf_len()}static deblindedPasswordBufLen(){let e;return e=t._vscp_pythia_deblinded_password_buf_len()}static blindingSecretBufLen(){let e;return e=t._vscp_pythia_blinding_secret_buf_len()}static transformationPrivateKeyBufLen(){let e;return e=t._vscp_pythia_transformation_private_key_buf_len()}static transformationPublicKeyBufLen(){let e;return e=t._vscp_pythia_transformation_public_key_buf_len()}static transformedPasswordBufLen(){let e;return e=t._vscp_pythia_transformed_password_buf_len()}static transformedTweakBufLen(){let e;return e=t._vscp_pythia_transformed_tweak_buf_len()}static proofValueBufLen(){let e;return e=t._vscp_pythia_proof_value_buf_len()}static passwordUpdateTokenBufLen(){let e;return e=t._vscp_pythia_password_update_token_buf_len()}static blind(r){a.ensureByteArray("password",r);const o=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(o);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),u=t._malloc(s);t._vsc_data(u,i,o);const c=n.blindedPasswordBufLen(),f=t._vsc_buffer_new_with_capacity(c),l=n.blindingSecretBufLen(),_=t._vsc_buffer_new_with_capacity(l);try{const n=t._vscp_pythia_blind(u,f,_);e.PythiaError.handleStatusCode(n);const r=t._vsc_buffer_bytes(f),a=t._vsc_buffer_len(f),o=t.HEAPU8.slice(r,r+a),s=t._vsc_buffer_bytes(_),c=t._vsc_buffer_len(_);return{blindedPassword:o,blindingSecret:t.HEAPU8.slice(s,s+c)}}finally{t._free(i),t._free(u),t._vsc_buffer_delete(f),t._vsc_buffer_delete(_)}}static deblind(r,o){a.ensureByteArray("transformedPassword",r),a.ensureByteArray("blindingSecret",o);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const u=t._vsc_data_ctx_size(),c=t._malloc(u);t._vsc_data(c,s,i);const f=o.length*o.BYTES_PER_ELEMENT,l=t._malloc(f);t.HEAP8.set(o,l);const _=t._vsc_data_ctx_size(),d=t._malloc(_);t._vsc_data(d,l,f);const p=n.deblindedPasswordBufLen(),y=t._vsc_buffer_new_with_capacity(p);try{const n=t._vscp_pythia_deblind(c,d,y);e.PythiaError.handleStatusCode(n);const r=t._vsc_buffer_bytes(y),a=t._vsc_buffer_len(y);return t.HEAPU8.slice(r,r+a)}finally{t._free(s),t._free(c),t._free(l),t._free(d),t._vsc_buffer_delete(y)}}static computeTransformationKeyPair(r,o,i){a.ensureByteArray("transformationKeyId",r),a.ensureByteArray("pythiaSecret",o),a.ensureByteArray("pythiaScopeSecret",i);const s=r.length*r.BYTES_PER_ELEMENT,u=t._malloc(s);t.HEAP8.set(r,u);const c=t._vsc_data_ctx_size(),f=t._malloc(c);t._vsc_data(f,u,s);const l=o.length*o.BYTES_PER_ELEMENT,_=t._malloc(l);t.HEAP8.set(o,_);const d=t._vsc_data_ctx_size(),p=t._malloc(d);t._vsc_data(p,_,l);const y=i.length*i.BYTES_PER_ELEMENT,h=t._malloc(y);t.HEAP8.set(i,h);const m=t._vsc_data_ctx_size(),v=t._malloc(m);t._vsc_data(v,h,y);const w=n.transformationPrivateKeyBufLen(),b=t._vsc_buffer_new_with_capacity(w),E=n.transformationPublicKeyBufLen(),g=t._vsc_buffer_new_with_capacity(E);try{const n=t._vscp_pythia_compute_transformation_key_pair(f,p,v,b,g);e.PythiaError.handleStatusCode(n);const r=t._vsc_buffer_bytes(b),a=t._vsc_buffer_len(b),o=t.HEAPU8.slice(r,r+a),i=t._vsc_buffer_bytes(g),s=t._vsc_buffer_len(g);return{transformationPrivateKey:o,transformationPublicKey:t.HEAPU8.slice(i,i+s)}}finally{t._free(u),t._free(f),t._free(_),t._free(p),t._free(h),t._free(v),t._vsc_buffer_delete(b),t._vsc_buffer_delete(g)}}static transform(r,o,i){a.ensureByteArray("blindedPassword",r),a.ensureByteArray("tweak",o),a.ensureByteArray("transformationPrivateKey",i);const s=r.length*r.BYTES_PER_ELEMENT,u=t._malloc(s);t.HEAP8.set(r,u);const c=t._vsc_data_ctx_size(),f=t._malloc(c);t._vsc_data(f,u,s);const l=o.length*o.BYTES_PER_ELEMENT,_=t._malloc(l);t.HEAP8.set(o,_);const d=t._vsc_data_ctx_size(),p=t._malloc(d);t._vsc_data(p,_,l);const y=i.length*i.BYTES_PER_ELEMENT,h=t._malloc(y);t.HEAP8.set(i,h);const m=t._vsc_data_ctx_size(),v=t._malloc(m);t._vsc_data(v,h,y);const w=n.transformedPasswordBufLen(),b=t._vsc_buffer_new_with_capacity(w),E=n.transformedTweakBufLen(),g=t._vsc_buffer_new_with_capacity(E);try{const n=t._vscp_pythia_transform(f,p,v,b,g);e.PythiaError.handleStatusCode(n);const r=t._vsc_buffer_bytes(b),a=t._vsc_buffer_len(b),o=t.HEAPU8.slice(r,r+a),i=t._vsc_buffer_bytes(g),s=t._vsc_buffer_len(g);return{transformedPassword:o,transformedTweak:t.HEAPU8.slice(i,i+s)}}finally{t._free(u),t._free(f),t._free(_),t._free(p),t._free(h),t._free(v),t._vsc_buffer_delete(b),t._vsc_buffer_delete(g)}}static prove(r,o,i,s,u){a.ensureByteArray("transformedPassword",r),a.ensureByteArray("blindedPassword",o),a.ensureByteArray("transformedTweak",i),a.ensureByteArray("transformationPrivateKey",s),a.ensureByteArray("transformationPublicKey",u);const c=r.length*r.BYTES_PER_ELEMENT,f=t._malloc(c);t.HEAP8.set(r,f);const l=t._vsc_data_ctx_size(),_=t._malloc(l);t._vsc_data(_,f,c);const d=o.length*o.BYTES_PER_ELEMENT,p=t._malloc(d);t.HEAP8.set(o,p);const y=t._vsc_data_ctx_size(),h=t._malloc(y);t._vsc_data(h,p,d);const m=i.length*i.BYTES_PER_ELEMENT,v=t._malloc(m);t.HEAP8.set(i,v);const w=t._vsc_data_ctx_size(),b=t._malloc(w);t._vsc_data(b,v,m);const E=s.length*s.BYTES_PER_ELEMENT,g=t._malloc(E);t.HEAP8.set(s,g);const P=t._vsc_data_ctx_size(),A=t._malloc(P);t._vsc_data(A,g,E);const T=u.length*u.BYTES_PER_ELEMENT,k=t._malloc(T);t.HEAP8.set(u,k);const L=t._vsc_data_ctx_size(),B=t._malloc(L);t._vsc_data(B,k,T);const M=n.proofValueBufLen(),x=t._vsc_buffer_new_with_capacity(M),S=n.proofValueBufLen(),N=t._vsc_buffer_new_with_capacity(S);try{const n=t._vscp_pythia_prove(_,h,b,A,B,x,N);e.PythiaError.handleStatusCode(n);const r=t._vsc_buffer_bytes(x),a=t._vsc_buffer_len(x),o=t.HEAPU8.slice(r,r+a),i=t._vsc_buffer_bytes(N),s=t._vsc_buffer_len(N);return{proofValueC:o,proofValueU:t.HEAPU8.slice(i,i+s)}}finally{t._free(f),t._free(_),t._free(p),t._free(h),t._free(v),t._free(b),t._free(g),t._free(A),t._free(k),t._free(B),t._vsc_buffer_delete(x),t._vsc_buffer_delete(N)}}static verify(n,r,o,i,s,u){a.ensureByteArray("transformedPassword",n),a.ensureByteArray("blindedPassword",r),a.ensureByteArray("tweak",o),a.ensureByteArray("transformationPublicKey",i),a.ensureByteArray("proofValueC",s),a.ensureByteArray("proofValueU",u);const c=n.length*n.BYTES_PER_ELEMENT,f=t._malloc(c);t.HEAP8.set(n,f);const l=t._vsc_data_ctx_size(),_=t._malloc(l);t._vsc_data(_,f,c);const d=r.length*r.BYTES_PER_ELEMENT,p=t._malloc(d);t.HEAP8.set(r,p);const y=t._vsc_data_ctx_size(),h=t._malloc(y);t._vsc_data(h,p,d);const m=o.length*o.BYTES_PER_ELEMENT,v=t._malloc(m);t.HEAP8.set(o,v);const w=t._vsc_data_ctx_size(),b=t._malloc(w);t._vsc_data(b,v,m);const E=i.length*i.BYTES_PER_ELEMENT,g=t._malloc(E);t.HEAP8.set(i,g);const P=t._vsc_data_ctx_size(),A=t._malloc(P);t._vsc_data(A,g,E);const T=s.length*s.BYTES_PER_ELEMENT,k=t._malloc(T);t.HEAP8.set(s,k);const L=t._vsc_data_ctx_size(),B=t._malloc(L);t._vsc_data(B,k,T);const M=u.length*u.BYTES_PER_ELEMENT,x=t._malloc(M);t.HEAP8.set(u,x);const S=t._vsc_data_ctx_size(),N=t._malloc(S);t._vsc_data(N,x,M);const R=t._vscp_error_ctx_size(),K=t._malloc(R);let U;t._vscp_error_reset(K);try{U=t._vscp_pythia_verify(_,h,b,A,B,N,K);const n=t._vscp_error_status(K);return e.PythiaError.handleStatusCode(n),!!U}finally{t._free(f),t._free(_),t._free(p),t._free(h),t._free(v),t._free(b),t._free(g),t._free(A),t._free(k),t._free(B),t._free(x),t._free(N),t._free(K)}}static getPasswordUpdateToken(r,o){a.ensureByteArray("previousTransformationPrivateKey",r),a.ensureByteArray("newTransformationPrivateKey",o);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const u=t._vsc_data_ctx_size(),c=t._malloc(u);t._vsc_data(c,s,i);const f=o.length*o.BYTES_PER_ELEMENT,l=t._malloc(f);t.HEAP8.set(o,l);const _=t._vsc_data_ctx_size(),d=t._malloc(_);t._vsc_data(d,l,f);const p=n.passwordUpdateTokenBufLen(),y=t._vsc_buffer_new_with_capacity(p);try{const n=t._vscp_pythia_get_password_update_token(c,d,y);e.PythiaError.handleStatusCode(n);const r=t._vsc_buffer_bytes(y),a=t._vsc_buffer_len(y);return t.HEAPU8.slice(r,r+a)}finally{t._free(s),t._free(c),t._free(l),t._free(d),t._vsc_buffer_delete(y)}}static updateDeblindedWithToken(r,o){a.ensureByteArray("deblindedPassword",r),a.ensureByteArray("passwordUpdateToken",o);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const u=t._vsc_data_ctx_size(),c=t._malloc(u);t._vsc_data(c,s,i);const f=o.length*o.BYTES_PER_ELEMENT,l=t._malloc(f);t.HEAP8.set(o,l);const _=t._vsc_data_ctx_size(),d=t._malloc(_);t._vsc_data(d,l,f);const p=n.deblindedPasswordBufLen(),y=t._vsc_buffer_new_with_capacity(p);try{const n=t._vscp_pythia_update_deblinded_with_token(c,d,y);e.PythiaError.handleStatusCode(n);const r=t._vsc_buffer_bytes(y),a=t._vsc_buffer_len(y);return t.HEAPU8.slice(r,r+a)}finally{t._free(s),t._free(c),t._free(l),t._free(d),t._vsc_buffer_delete(y)}}}return n};var i=()=>{const n=new t;return new Promise((t,r)=>{n.onRuntimeInitialized=()=>{const r={};r.PythiaError=e(),r.Pythia=o(n,r),t(r)},n.onAbort=t=>{r(new Error(t))}})};export default i;
