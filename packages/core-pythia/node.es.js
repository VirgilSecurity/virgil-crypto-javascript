var e;e={exports:{}}.exports=function(e){function t(e,t){throw t}function n(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&ue)return ue.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function r(e){return 0<e%65536&&(e+=65536-e%65536),e}function a(e){ce=e,$.HEAP8=fe=new Int8Array(e),$.HEAP16=_e=new Int16Array(e),$.HEAP32=de=new Int32Array(e),$.HEAPU8=le=new Uint8Array(e),$.HEAPU16=new Uint16Array(e),$.HEAPU32=new Uint32Array(e),$.HEAPF32=new Float32Array(e),$.HEAPF64=new Float64Array(e)}function o(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.Gb;"number"==typeof n?void 0===t.gb?$.dynCall_v(n):$.dynCall_vi(n,t.gb):n(void 0===t.gb?null:t.gb)}}}function i(){var e=$.preRun.shift();ye.unshift(e)}function s(){var e=ke;return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}function u(e){function t(e){$.asm=e.exports,Pe--,$.monitorRunDependencies&&$.monitorRunDependencies(Pe),0==Pe&&(null!==Ae&&(clearInterval(Ae),Ae=null),Se&&(e=Se,Se=null,e()))}function n(e){t(e.instance)}function r(e){return new Promise((function(e){e:{try{if(ne){var t=new Uint8Array(ne);break e}if(J){t=J(ke);break e}throw"both async and sync fetching of the wasm failed"}catch(e){V(e)}t=void 0}e(t)})).then((function(e){return WebAssembly.instantiate(e,a)})).then(e,(function(e){te("failed to asynchronously prepare wasm: "+e),V(e)}))}var a={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:ae};if(Pe++,$.monitorRunDependencies&&$.monitorRunDependencies(Pe),$.instantiateWasm)try{return $.instantiateWasm(a,t)}catch(e){return te("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(ne||"function"!=typeof WebAssembly.instantiateStreaming||s()||"function"!=typeof fetch)return r(n);fetch(ke,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(n,(function(e){te("wasm streaming compile failed: "+e),te("falling back to ArrayBuffer instantiation"),r(n)}))}))}(),{}}function c(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function f(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=c(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function l(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function _(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function d(){return f(Array.prototype.slice.call(arguments,0).join("/"))}function p(e,t){return f(e+"/"+t)}function y(e){return $.___errno_location&&(de[$.___errno_location()>>2]=e),e}function h(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=c(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}function m(e,t){ze[e]={input:[],output:[],ab:t},T(e,Ce)}function v(e,t){if(t=t||{},!(e=h("/",e)))return{path:"",node:null};var n,r={rb:!0,kb:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.kb)throw new Ke(40);e=c(e.split("/").filter((function(e){return!!e})),!1);var a=je;for(r="/",n=0;n<e.length;n++){var o=n===e.length-1;if(o&&t.parent)break;if(a=E(a,e[n]),r=p(r,e[n]),a.fb&&(!o||o&&t.rb)&&(a=a.fb.root),!o||t.qb)for(o=0;40960==(61440&a.mode);)if(a=N(r),a=v(r=h(l(r),a),{kb:t.kb}).node,40<o++)throw new Ke(40)}return{path:r,node:a}}function w(e){for(var t;;){if(e===e.parent)return e=e.Ta.vb,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function b(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Fe.length}function E(e,t){var n;if(n=(n=A(e,"x"))?n:e.Pa.lookup?0:13)throw new Ke(n,e);for(n=Fe[b(e.id,t)];n;n=n.Ab){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.Pa.lookup(e,t)}function g(e,t,n,r){return Le||((Le=function(e,t,n,r){e||(e=this),this.parent=e,this.Ta=e.Ta,this.fb=null,this.id=We++,this.name=t,this.mode=n,this.Pa={},this.Qa={},this.rdev=r}).prototype={},Object.defineProperties(Le.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}})),function(e){var t=b(e.parent.id,e.name);e.Ab=Fe[t],Fe[t]=e}(e=new Le(e,t,n,r)),e}function P(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function A(e,t){return Ve?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:13}function S(e,t){try{return E(e,t),17}catch(e){}return A(e,"wx")}function k(e,t){Ne||((Ne=function(){}).prototype={},Object.defineProperties(Ne.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var n,r=new Ne;for(n in e)r[n]=e[n];return e=r,t=function(e){for(e=e||0;4096>=e;e++)if(!Ie[e])return e;throw new Ke(24)}(t),e.fd=t,Ie[t]=e}function T(e,t){De[e]={Qa:t}}function B(e,t){var n="/"===t,r=!t;if(n&&je)throw new Ke(16);if(!n&&!r){var a=v(t,{rb:!1});if(t=a.path,(a=a.node).fb)throw new Ke(16);if(16384!=(61440&a.mode))throw new Ke(20)}t={type:e,ib:{},vb:t,zb:[]},(e=e.Ta(t)).Ta=t,t.root=e,n?je=e:a&&(a.fb=t,a.Ta&&a.Ta.zb.push(t))}function R(e,t,n){var r=v(e,{parent:!0}).node;if(!(e=_(e))||"."===e||".."===e)throw new Ke(22);var a=S(r,e);if(a)throw new Ke(a);if(!r.Pa.bb)throw new Ke(1);return r.Pa.bb(r,e,t,n)}function x(e){R(e,16895,0)}function O(e,t,n){void 0===n&&(n=t,t=438),R(e,8192|t,n)}function L(e,t){if(!h(e))throw new Ke(2);var n=v(t,{parent:!0}).node;if(!n)throw new Ke(2);var r=S(n,t=_(t));if(r)throw new Ke(r);if(!n.Pa.symlink)throw new Ke(1);n.Pa.symlink(n,t,e)}function N(e){if(!(e=v(e).node))throw new Ke(2);if(!e.Pa.readlink)throw new Ke(22);return h(w(e.parent),e.Pa.readlink(e))}function U(e,t,n,r){if(""===e)throw new Ke(2);if("string"==typeof t){var a=Xe[t];if(void 0===a)throw Error("Unknown file open mode: "+t);t=a}if(n=64&t?4095&(void 0===n?438:n)|32768:0,"object"==typeof e)var o=e;else{e=f(e);try{o=v(e,{qb:!(131072&t)}).node}catch(e){}}if(a=!1,64&t)if(o){if(128&t)throw new Ke(17)}else o=R(e,n,0),a=!0;if(!o)throw new Ke(2);if(8192==(61440&o.mode)&&(t&=-513),65536&t&&16384!=(61440&o.mode))throw new Ke(20);if(!a&&(n=o?40960==(61440&o.mode)?40:16384==(61440&o.mode)&&("r"!==P(t)||512&t)?21:A(o,P(t)):2))throw new Ke(n);if(512&t){var i;if(!(i="string"==typeof(n=o)?v(n,{qb:!0}).node:n).Pa.Va)throw new Ke(1);if(16384==(61440&i.mode))throw new Ke(21);if(32768!=(61440&i.mode))throw new Ke(22);if(n=A(i,"w"))throw new Ke(n);i.Pa.Va(i,{size:0,timestamp:Date.now()})}t&=-641,(r=k({node:o,path:w(o),flags:t,seekable:!0,position:0,Qa:o.Qa,Eb:[],error:!1},r)).Qa.open&&r.Qa.open(r),!$.logReadFiles||1&t||(Ue||(Ue={}),e in Ue||(Ue[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{$e.onOpenFile&&(o=0,1!=(2097155&t)&&(o|=1),0!=(2097155&t)&&(o|=2),$e.onOpenFile(e,o))}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return r}function z(e,t,n){if(null===e.fd)throw new Ke(9);if(!e.seekable||!e.Qa.Za)throw new Ke(29);if(0!=n&&1!=n&&2!=n)throw new Ke(22);e.position=e.Qa.Za(e,t,n),e.Eb=[]}function C(e,t,n,r){var a=fe;if(0>n||0>r)throw new Ke(22);if(null===e.fd)throw new Ke(9);if(1==(2097155&e.flags))throw new Ke(9);if(16384==(61440&e.node.mode))throw new Ke(21);if(!e.Qa.read)throw new Ke(22);var o=void 0!==r;if(o){if(!e.seekable)throw new Ke(29)}else r=e.position;return t=e.Qa.read(e,a,t,n,r),o||(e.position+=t),t}function M(){Ke||((Ke=function(e,t){this.node=t,this.Cb=function(e){this.Ra=e},this.Cb(e),this.message="FS error"}).prototype=Error(),Ke.prototype.constructor=Ke,[2].forEach((function(e){qe[e]=new Ke(e),qe[e].stack="<generic error, no stack>"})))}function H(e,t,n){e=p("/dev",e);var r=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}(!!t,!!n);Oe||(Oe=64);var a=Oe++<<8|0;T(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,r,a){for(var o=0,i=0;i<a;i++){try{var s=t()}catch(e){throw new Ke(5)}if(void 0===s&&0===o)throw new Ke(11);if(null==s)break;o++,n[r+i]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,a){for(var o=0;o<a;o++)try{n(t[r+o])}catch(e){throw new Ke(5)}return a&&(e.node.timestamp=Date.now()),o}}),O(e,r,a)}function Y(){return de[(Je+=4)-4>>2]}function Q(){var e=Ie[Y()];if(!e)throw new Ke(9);return e}function j(){return fe.length}function D(e,t){throw at(e,t||1),"longjmp"}function I(){return I.Ya||(I.Ya=[]),I.Ya.push(st()),I.Ya.length-1}function W(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function F(){function e(){if(!ot&&(ot=!0,!se)){if($.noFSInit||xe||(xe=!0,M(),$.stdin=$.stdin,$.stdout=$.stdout,$.stderr=$.stderr,$.stdin?H("stdin",$.stdin):L("/dev/tty","/dev/stdin"),$.stdout?H("stdout",null,$.stdout):L("/dev/tty","/dev/stdout"),$.stderr?H("stderr",null,$.stderr):L("/dev/tty1","/dev/stderr"),U("/dev/stdin","r"),U("/dev/stdout","w"),U("/dev/stderr","w")),o(he),Ve=!1,o(me),$.onRuntimeInitialized&&$.onRuntimeInitialized(),$.postRun)for("function"==typeof $.postRun&&($.postRun=[$.postRun]);$.postRun.length;){var e=$.postRun.shift();ve.unshift(e)}o(ve)}}if(!(0<Pe)){if($.preRun)for("function"==typeof $.preRun&&($.preRun=[$.preRun]);$.preRun.length;)i();o(ye),0<Pe||($.setStatus?($.setStatus("Running..."),setTimeout((function(){setTimeout((function(){$.setStatus("")}),1),e()}),1)):e())}}function V(e){throw $.onAbort&&$.onAbort(e),ee(e),te(e),se=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var $;e=e||{},$||($=void 0!==e?e:{});var K,q,X,Z,G={};for(K in $)$.hasOwnProperty(K)&&(G[K]=$[K]);q=__dirname+"/";var J=function(e){return(e=function(e){return X||(X=require("fs")),Z||(Z=require("path")),e=Z.normalize(e),X.readFileSync(e)}(e)).buffer||(e=new Uint8Array(e)),e.buffer||V("Assertion failed: undefined"),e};1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof W))throw e})),process.on("unhandledRejection",V),t=function(e){process.exit(e)},$.inspect=function(){return"[Emscripten Module object]"};var ee=$.print||console.log.bind(console),te=$.printErr||console.warn.bind(console);for(K in G)G.hasOwnProperty(K)&&($[K]=G[K]);G=null,$.quit&&(t=$.quit);var ne,re,ae={"f64-rem":function(e,t){return e%t},debugger:function(){}},oe=0;$.wasmBinary&&(ne=$.wasmBinary),$.noExitRuntime&&(re=$.noExitRuntime),"object"!=typeof WebAssembly&&te("no native wasm support detected");var ie,se=!1,ue="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var ce,fe,le,_e,de,pe=$.TOTAL_MEMORY||16777216;(ie=$.wasmMemory?$.wasmMemory:new WebAssembly.Memory({initial:pe/65536}))&&(ce=ie.buffer),pe=ce.byteLength,a(ce),de[15716]=5305776;var ye=[],he=[],me=[],ve=[],we=Math.abs,be=Math.ceil,Ee=Math.floor,ge=Math.min,Pe=0,Ae=null,Se=null;$.preloadedImages={},$.preloadedAudios={};var ke="libpythia.wasm";if(!s()){var Te=ke;ke=$.locateFile?$.locateFile(Te,q):q+Te}$.asm=function(e,t){return t.memory=ie,t.table=new WebAssembly.Table({initial:460,maximum:460,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,u(t)};var Be,Re,xe,Oe,Le,Ne,Ue,ze=[],Ce={open:function(e){var t=ze[e.node.rdev];if(!t)throw new Ke(19);e.tty=t,e.seekable=!1},close:function(e){e.tty.ab.flush(e.tty)},flush:function(e){e.tty.ab.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.ab.tb)throw new Ke(6);for(var a=0,o=0;o<r;o++){try{var i=e.tty.ab.tb(e.tty)}catch(e){throw new Ke(5)}if(void 0===i&&0===a)throw new Ke(11);if(null==i)break;a++,t[n+o]=i}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.tty||!e.tty.ab.jb)throw new Ke(6);try{for(var a=0;a<r;a++)e.tty.ab.jb(e.tty,t[n+a])}catch(e){throw new Ke(5)}return r&&(e.node.timestamp=Date.now()),a}},Me={tb:function(e){if(!e.input.length){var t=null,n=Buffer.Ya?Buffer.Ya(256):new Buffer(256),r=0,a=process.stdin.fd;if("win32"!=process.platform){var o=!1;try{a=et.openSync("/dev/stdin","r"),o=!0}catch(e){}}try{r=et.readSync(a,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}if(o&&et.closeSync(a),!(t=0<r?n.slice(0,r).toString("utf-8"):null))return null;for(r=n=0;r<t.length;++r)55296<=(a=t.charCodeAt(r))&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++r)),127>=a?++n:n=2047>=a?n+2:65535>=a?n+3:n+4;if(r=0,0<(o=(n=Array(n+1)).length)){a=r,o=r+o-1;for(var i=0;i<t.length;++i){var s=t.charCodeAt(i);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++i)),127>=s){if(r>=o)break;n[r++]=s}else{if(2047>=s){if(r+1>=o)break;n[r++]=192|s>>6}else{if(65535>=s){if(r+2>=o)break;n[r++]=224|s>>12}else{if(r+3>=o)break;n[r++]=240|s>>18,n[r++]=128|s>>12&63}n[r++]=128|s>>6&63}n[r++]=128|63&s}}n[r]=0,t=r-a}else t=0;n.length=t,e.input=n}return e.input.shift()},jb:function(e,t){null===t||10===t?(ee(n(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(ee(n(e.output,0)),e.output=[])}},He={jb:function(e,t){null===t||10===t?(te(n(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(te(n(e.output,0)),e.output=[])}},Ye={Wa:null,Ta:function(){return Ye.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576==(61440&n)||4096==(61440&n))throw new Ke(1);return Ye.Wa||(Ye.Wa={dir:{node:{Xa:Ye.Pa.Xa,Va:Ye.Pa.Va,lookup:Ye.Pa.lookup,bb:Ye.Pa.bb,rename:Ye.Pa.rename,unlink:Ye.Pa.unlink,rmdir:Ye.Pa.rmdir,readdir:Ye.Pa.readdir,symlink:Ye.Pa.symlink},stream:{Za:Ye.Qa.Za}},file:{node:{Xa:Ye.Pa.Xa,Va:Ye.Pa.Va},stream:{Za:Ye.Qa.Za,read:Ye.Qa.read,write:Ye.Qa.write,lb:Ye.Qa.lb,ub:Ye.Qa.ub,wb:Ye.Qa.wb}},link:{node:{Xa:Ye.Pa.Xa,Va:Ye.Pa.Va,readlink:Ye.Pa.readlink},stream:{}},nb:{node:{Xa:Ye.Pa.Xa,Va:Ye.Pa.Va},stream:Ze}}),16384==(61440&(n=g(e,t,n,r)).mode)?(n.Pa=Ye.Wa.dir.node,n.Qa=Ye.Wa.dir.stream,n.Oa={}):32768==(61440&n.mode)?(n.Pa=Ye.Wa.file.node,n.Qa=Ye.Wa.file.stream,n.Sa=0,n.Oa=null):40960==(61440&n.mode)?(n.Pa=Ye.Wa.link.node,n.Qa=Ye.Wa.link.stream):8192==(61440&n.mode)&&(n.Pa=Ye.Wa.nb.node,n.Qa=Ye.Wa.nb.stream),n.timestamp=Date.now(),e&&(e.Oa[t]=n),n},Hb:function(e){if(e.Oa&&e.Oa.subarray){for(var t=[],n=0;n<e.Sa;++n)t.push(e.Oa[n]);return t}return e.Oa},Ib:function(e){return e.Oa?e.Oa.subarray?e.Oa.subarray(0,e.Sa):new Uint8Array(e.Oa):new Uint8Array},ob:function(e,t){var n=e.Oa?e.Oa.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.Oa,e.Oa=new Uint8Array(t),0<e.Sa&&e.Oa.set(n.subarray(0,e.Sa),0))},Bb:function(e,t){if(e.Sa!=t)if(0==t)e.Oa=null,e.Sa=0;else{if(!e.Oa||e.Oa.subarray){var n=e.Oa;e.Oa=new Uint8Array(new ArrayBuffer(t)),n&&e.Oa.set(n.subarray(0,Math.min(t,e.Sa)))}else if(e.Oa||(e.Oa=[]),e.Oa.length>t)e.Oa.length=t;else for(;e.Oa.length<t;)e.Oa.push(0);e.Sa=t}},Pa:{Xa:function(e){var t={};return t.dev=8192==(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.Sa:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.$a=4096,t.blocks=Math.ceil(t.size/t.$a),t},Va:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ye.Bb(e,t.size)},lookup:function(){throw qe[2]},bb:function(e,t,n,r){return Ye.createNode(e,t,n,r)},rename:function(e,t,n){if(16384==(61440&e.mode)){try{var r=E(t,n)}catch(e){}if(r)for(var a in r.Oa)throw new Ke(39)}delete e.parent.Oa[e.name],e.name=n,t.Oa[n]=e,e.parent=t},unlink:function(e,t){delete e.Oa[t]},rmdir:function(e,t){var n,r=E(e,t);for(n in r.Oa)throw new Ke(39);delete e.Oa[t]},readdir:function(e){var t,n=[".",".."];for(t in e.Oa)e.Oa.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=Ye.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!=(61440&e.mode))throw new Ke(22);return e.link}},Qa:{read:function(e,t,n,r,a){var o=e.node.Oa;if(a>=e.node.Sa)return 0;if(8<(e=Math.min(e.node.Sa-a,r))&&o.subarray)t.set(o.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=o[a+r];return e},write:function(e,t,n,r,a,o){if(o=!1,!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.Oa||e.Oa.subarray)){if(o)return e.Oa=t.subarray(n,n+r),e.Sa=r;if(0===e.Sa&&0===a)return e.Oa=new Uint8Array(t.subarray(n,n+r)),e.Sa=r;if(a+r<=e.Sa)return e.Oa.set(t.subarray(n,n+r),a),r}if(Ye.ob(e,a+r),e.Oa.subarray&&t.subarray)e.Oa.set(t.subarray(n,n+r),a);else for(o=0;o<r;o++)e.Oa[a+o]=t[n+o];return e.Sa=Math.max(e.Sa,a+r),r},Za:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.node.mode)&&(t+=e.node.Sa),0>t)throw new Ke(22);return t},lb:function(e,t,n){Ye.ob(e.node,t+n),e.node.Sa=Math.max(e.node.Sa,t+n)},ub:function(e,t,n,r,a,o,i){if(32768!=(61440&e.node.mode))throw new Ke(19);if(n=e.node.Oa,2&i||n.buffer!==t&&n.buffer!==t.buffer){if((0<a||a+r<e.node.Sa)&&(n=n.subarray?n.subarray(a,a+r):Array.prototype.slice.call(n,a,a+r)),e=!0,a=t.buffer==fe.buffer,!(r=rt(r)))throw new Ke(12);(a?fe:t).set(n,r)}else e=!1,r=n.byteOffset;return{Jb:r,Fb:e}},wb:function(e,t,n,r,a){if(32768!=(61440&e.node.mode))throw new Ke(19);return 2&a?0:(Ye.Qa.write(e,t,0,r,n,!1),0)}}},Qe={eb:!1,Db:function(){Qe.eb=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),Qe.pb={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},mb:function(e){return Buffer.Ya?Buffer.from(e):new Buffer(e)},Ta:function(e){return Qe.createNode(null,"/",Qe.sb(e.ib.root),0)},createNode:function(e,t,n){if(16384!=(61440&n)&&32768!=(61440&n)&&40960!=(61440&n))throw new Ke(22);return(e=g(e,t,n)).Pa=Qe.Pa,e.Qa=Qe.Qa,e},sb:function(e){try{var t=et.lstatSync(e);Qe.eb&&(t.mode|=(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}return t.mode},Ua:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.Ta.ib.root),t.reverse(),d.apply(null,t)},xb:function(e){e&=-2656257;var t,n=0;for(t in Qe.pb)e&t&&(n|=Qe.pb[t],e^=t);if(e)throw new Ke(22);return n},Pa:{Xa:function(e){e=Qe.Ua(e);try{var t=et.lstatSync(e)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}return Qe.eb&&!t.$a&&(t.$a=4096),Qe.eb&&!t.blocks&&(t.blocks=(t.size+t.$a-1)/t.$a|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,$a:t.$a,blocks:t.blocks}},Va:function(e,t){var n=Qe.Ua(e);try{void 0!==t.mode&&(et.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.size&&et.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},lookup:function(e,t){var n=p(Qe.Ua(e),t);return n=Qe.sb(n),Qe.createNode(e,t,n)},bb:function(e,t,n,r){e=Qe.createNode(e,t,n,r),t=Qe.Ua(e);try{16384==(61440&e.mode)?et.mkdirSync(t,e.mode):et.writeFileSync(t,"",{mode:e.mode})}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}return e},rename:function(e,t,n){e=Qe.Ua(e),t=p(Qe.Ua(t),n);try{et.renameSync(e,t)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},unlink:function(e,t){e=p(Qe.Ua(e),t);try{et.unlinkSync(e)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},rmdir:function(e,t){e=p(Qe.Ua(e),t);try{et.rmdirSync(e)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},readdir:function(e){e=Qe.Ua(e);try{return et.readdirSync(e)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},symlink:function(e,t,n){e=p(Qe.Ua(e),t);try{et.symlinkSync(n,e)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},readlink:function(e){var t=Qe.Ua(e);try{return t=et.readlinkSync(t),tt.relative(tt.resolve(e.Ta.ib.root),t)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}}},Qa:{open:function(e){var t=Qe.Ua(e.node);try{32768==(61440&e.node.mode)&&(e.cb=et.openSync(t,Qe.xb(e.flags)))}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},close:function(e){try{32768==(61440&e.node.mode)&&e.cb&&et.closeSync(e.cb)}catch(e){if(!e.code)throw e;throw new Ke(-e.Ra)}},read:function(e,t,n,r,a){if(0===r)return 0;try{return et.readSync(e.cb,Qe.mb(t.buffer),n,r,a)}catch(e){throw new Ke(-e.Ra)}},write:function(e,t,n,r,a){try{return et.writeSync(e.cb,Qe.mb(t.buffer),n,r,a)}catch(e){throw new Ke(-e.Ra)}},Za:function(e,t,n){if(1===n)t+=e.position;else if(2===n&&32768==(61440&e.node.mode))try{t+=et.fstatSync(e.cb).size}catch(e){throw new Ke(-e.Ra)}if(0>t)throw new Ke(22);return t}}},je=null,De={},Ie=[],We=1,Fe=null,Ve=!0,$e={},Ke=null,qe={},Xe={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},Ze={open:function(e){e.Qa=De[e.node.rdev].Qa,e.Qa.open&&e.Qa.open(e)},Za:function(){throw new Ke(29)}},Ge={},Je=0;M(),Fe=Array(4096),B(Ye,"/"),x("/tmp"),x("/home"),x("/home/web_user"),function(){if(x("/dev"),T(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),O("/dev/null",259),m(1280,Me),m(1536,He),O("/dev/tty",1280),O("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};else try{var n=require("crypto");t=function(){return n.randomBytes(1)[0]}}catch(e){}t||(t=function(){V("random_device")}),H("random",t),H("urandom",t),x("/dev/shm"),x("/dev/shm/tmp")}(),x("/proc"),x("/proc/self"),x("/proc/self/fd"),B({Ta:function(){var e=g("/proc/self","fd",16895,73);return e.Pa={lookup:function(e,t){var n=Ie[+t];if(!n)throw new Ke(9);return(e={parent:null,Ta:{vb:"fake"},Pa:{readlink:function(){return n.path}}}).parent=e}},e}},"/proc/self/fd");var et=require("fs"),tt=require("path");Qe.Db();var nt=$.asm({},{n:V,d:function(e){oe=e},b:function(){return oe},h:function(e){var t=st();try{return ut(e)}catch(e){if(it(t),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},j:function(e,t){var n=st();try{return ct(e,t)}catch(e){if(it(n),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},i:function(e,t,n){var r=st();try{return ft(e,t,n)}catch(e){if(it(r),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},q:function(e,t,n,r){var a=st();try{return lt(e,t,n,r)}catch(e){if(it(a),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},D:function(e,t,n,r,a){var o=st();try{return _t(e,t,n,r,a)}catch(e){if(it(o),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},m:function(e){var t=st();try{dt(e)}catch(e){if(it(t),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},e:function(e,t){var n=st();try{pt(e,t)}catch(e){if(it(n),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},f:function(e,t,n){var r=st();try{yt(e,t,n)}catch(e){if(it(r),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},g:function(e,t,n,r){var a=st();try{ht(e,t,n,r)}catch(e){if(it(a),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},l:function(e,t,n,r,a){var o=st();try{mt(e,t,n,r,a)}catch(e){if(it(o),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},s:function(e,t,n,r,a,o){var i=st();try{vt(e,t,n,r,a,o)}catch(e){if(it(i),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},o:function(e,t,n,r,a,o,i){var s=st();try{wt(e,t,n,r,a,o,i)}catch(e){if(it(s),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},N:function(e,t,n,r,a,o,i,s){var u=st();try{bt(e,t,n,r,a,o,i,s)}catch(e){if(it(u),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},C:function(e,t,n,r,a,o,i,s,u){var c=st();try{Et(e,t,n,r,a,o,i,s,u)}catch(e){if(it(c),e!==e+0&&"longjmp"!==e)throw e;at(1,0)}},v:function(){},B:y,M:function(e,t){Je=t;try{var n=Q(),r=Y(),a=Y(),o=Y(),i=Y();return-9007199254740992>=(e=4294967296*r+(a>>>0))||9007199254740992<=e?-75:(z(n,e,i),Re=[n.position>>>0,(Be=n.position,1<=+we(Be)?0<Be?(0|ge(+Ee(Be/4294967296),4294967295))>>>0:~~+be((Be-+(~~Be>>>0))/4294967296)>>>0:0)],de[o>>2]=Re[0],de[o+4>>2]=Re[1],n.hb&&0===e&&0===i&&(n.hb=null),0)}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},L:function(e,t){Je=t;try{var n=Q(),r=Y();e:{var a=Y();for(t=e=0;t<a;t++){var o=de[r+(8*t+4)>>2],i=C(n,de[r+8*t>>2],o,void 0);if(0>i){var s=-1;break e}if(e+=i,i<o)break}s=e}return s}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},A:function(e,t){Je=t;try{var n=Q(),r=Y();e:{var a=Y();for(t=e=0;t<a;t++){var o=n,i=de[r+8*t>>2],s=de[r+(8*t+4)>>2],u=void 0,c=fe;if(0>s||0>u)throw new Ke(22);if(null===o.fd)throw new Ke(9);if(0==(2097155&o.flags))throw new Ke(9);if(16384==(61440&o.node.mode))throw new Ke(21);if(!o.Qa.write)throw new Ke(22);1024&o.flags&&z(o,0,2);var f=void 0!==u;if(f){if(!o.seekable)throw new Ke(29)}else u=o.position;var l=o.Qa.write(o,c,i,s,u,void 0);f||(o.position+=l);try{o.path&&$e.onWriteToFile&&$e.onWriteToFile(o.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+o.path+"') threw an exception: "+e.message)}if(0>(o=l)){var _=-1;break e}e+=o}_=e}return _}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},z:function(e,t){Je=t;try{var n=Q();switch(Y()){case 0:var r=Y();return 0>r?-22:U(n.path,n.flags,0,r).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:return r=Y(),n.flags|=r,0;case 12:return r=Y(),_e[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-22;case 9:return y(22),-1;default:return-22}}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},K:function(e,t){Je=t;try{return C(Q(),Y(),Y())}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},y:function(e,t){Je=t;try{var r=Y();return U(r?n(le,r,void 0):"",Y(),Y()).fd}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},x:function(e,t){Je=t;try{var n=Q(),r=Y();switch(r){case 21509:case 21505:return n.tty?0:-25;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-25;case 21519:if(!n.tty)return-25;var a=Y();return de[a>>2]=0;case 21520:return n.tty?-22:-25;case 21531:if(e=Y(),!n.Qa.yb)throw new Ke(25);return n.Qa.yb(n,r,e);case 21523:case 21524:return n.tty?0:-25;default:V("bad ioctl syscall "+r)}}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},u:function(e,t){Je=t;try{var n=Q();if(null===n.fd)throw new Ke(9);n.hb&&(n.hb=null);try{n.Qa.close&&n.Qa.close(n)}catch(e){throw e}finally{Ie[n.fd]=null}return n.fd=null,0}catch(e){return void 0!==Ge&&e instanceof Ke||V(e),-e.Ra}},t:function(){},J:function(){$.abort()},I:j,H:function(e,t){D(e,t)},G:function(e,t,n){le.set(le.subarray(t,t+n),e)},F:function(e){if(2147418112<e)return!1;for(var t=Math.max(j(),16777216);t<e;)t=536870912>=t?r(2*t):Math.min(r((3*t+2147483648)/4),2147418112);e:{try{ie.grow(t-ce.byteLength+65535>>16),a(ie.buffer),e=1;break e}catch(e){}e=void 0}return!!e},k:function(e){!re&&(se=!0,$.onExit)&&$.onExit(e),t(e,new W(e))},w:function(e){var t=Date.now();return de[e>>2]=t/1e3|0,de[e+4>>2]=t%1e3*1e3|0,0},p:function(e){var t=I.Ya[e];I.Ya.splice(e,1),it(t)},r:I,c:D,E:function(){V("OOM")},a:62864},ce);$.asm=nt,$.___errno_location=function(){return $.asm.O.apply(null,arguments)},$._free=function(){return $.asm.P.apply(null,arguments)};var rt=$._malloc=function(){return $.asm.Q.apply(null,arguments)},at=$._setThrew=function(){return $.asm.R.apply(null,arguments)};$._vsc_buffer_bytes=function(){return $.asm.S.apply(null,arguments)},$._vsc_buffer_data=function(){return $.asm.T.apply(null,arguments)},$._vsc_buffer_delete=function(){return $.asm.U.apply(null,arguments)},$._vsc_buffer_len=function(){return $.asm.V.apply(null,arguments)},$._vsc_buffer_make_secure=function(){return $.asm.W.apply(null,arguments)},$._vsc_buffer_new=function(){return $.asm.X.apply(null,arguments)},$._vsc_buffer_new_with_capacity=function(){return $.asm.Y.apply(null,arguments)},$._vsc_data=function(){return $.asm.Z.apply(null,arguments)},$._vsc_data_bytes=function(){return $.asm._.apply(null,arguments)},$._vsc_data_ctx_size=function(){return $.asm.$.apply(null,arguments)},$._vsc_data_len=function(){return $.asm.aa.apply(null,arguments)},$._vscp_error_ctx_size=function(){return $.asm.ba.apply(null,arguments)},$._vscp_error_reset=function(){return $.asm.ca.apply(null,arguments)},$._vscp_error_status=function(){return $.asm.da.apply(null,arguments)},$._vscp_pythia_blind=function(){return $.asm.ea.apply(null,arguments)},$._vscp_pythia_blinded_password_buf_len=function(){return $.asm.fa.apply(null,arguments)},$._vscp_pythia_blinding_secret_buf_len=function(){return $.asm.ga.apply(null,arguments)},$._vscp_pythia_cleanup=function(){return $.asm.ha.apply(null,arguments)},$._vscp_pythia_compute_transformation_key_pair=function(){return $.asm.ia.apply(null,arguments)},$._vscp_pythia_configure=function(){return $.asm.ja.apply(null,arguments)},$._vscp_pythia_deblind=function(){return $.asm.ka.apply(null,arguments)},$._vscp_pythia_deblinded_password_buf_len=function(){return $.asm.la.apply(null,arguments)},$._vscp_pythia_get_password_update_token=function(){return $.asm.ma.apply(null,arguments)},$._vscp_pythia_password_update_token_buf_len=function(){return $.asm.na.apply(null,arguments)},$._vscp_pythia_proof_value_buf_len=function(){return $.asm.oa.apply(null,arguments)},$._vscp_pythia_prove=function(){return $.asm.pa.apply(null,arguments)},$._vscp_pythia_transform=function(){return $.asm.qa.apply(null,arguments)},$._vscp_pythia_transformation_private_key_buf_len=function(){return $.asm.ra.apply(null,arguments)},$._vscp_pythia_transformation_public_key_buf_len=function(){return $.asm.sa.apply(null,arguments)},$._vscp_pythia_transformed_password_buf_len=function(){return $.asm.ta.apply(null,arguments)},$._vscp_pythia_transformed_tweak_buf_len=function(){return $.asm.ua.apply(null,arguments)},$._vscp_pythia_update_deblinded_with_token=function(){return $.asm.va.apply(null,arguments)},$._vscp_pythia_verify=function(){return $.asm.wa.apply(null,arguments)},$.stackAlloc=function(){return $.asm.La.apply(null,arguments)};var ot,it=$.stackRestore=function(){return $.asm.Ma.apply(null,arguments)},st=$.stackSave=function(){return $.asm.Na.apply(null,arguments)},ut=$.dynCall_i=function(){return $.asm.xa.apply(null,arguments)},ct=$.dynCall_ii=function(){return $.asm.ya.apply(null,arguments)},ft=$.dynCall_iii=function(){return $.asm.za.apply(null,arguments)},lt=$.dynCall_iiii=function(){return $.asm.Aa.apply(null,arguments)},_t=$.dynCall_iiiii=function(){return $.asm.Ba.apply(null,arguments)},dt=$.dynCall_v=function(){return $.asm.Ca.apply(null,arguments)},pt=$.dynCall_vi=function(){return $.asm.Da.apply(null,arguments)},yt=$.dynCall_vii=function(){return $.asm.Ea.apply(null,arguments)},ht=$.dynCall_viii=function(){return $.asm.Fa.apply(null,arguments)},mt=$.dynCall_viiii=function(){return $.asm.Ga.apply(null,arguments)},vt=$.dynCall_viiiii=function(){return $.asm.Ha.apply(null,arguments)},wt=$.dynCall_viiiiii=function(){return $.asm.Ia.apply(null,arguments)},bt=$.dynCall_viiiiiii=function(){return $.asm.Ja.apply(null,arguments)},Et=$.dynCall_viiiiiiii=function(){return $.asm.Ka.apply(null,arguments)};if($.asm=nt,$.then=function(e){if(ot)e($);else{var t=$.onRuntimeInitialized;$.onRuntimeInitialized=function(){t&&t(),e($)}}return $},Se=function e(){ot||F(),ot||(Se=e)},$.run=F,$.abort=V,$.preInit)for("function"==typeof $.preInit&&($.preInit=[$.preInit]);0<$.preInit.length;)$.preInit.pop()();return re=!0,F(),e};var t=()=>{class e extends Error{constructor(e){super(e),this.name="PythiaError",this.message=e}static handleStatusCode(t){if(0!=t){if(-1==t)throw new e("This error should not be returned if assertions is enabled.");if(-200==t)throw new e("Underlying pythia library returns -1.");if(-202==t)throw new e("Underlying random number generator failed.");throw new e("Unexpected status code:"+t)}}}return e};function n(e,t){if(!("number"==typeof t||t instanceof Number))throw new TypeError(`'${e}' is not a number`);if(Number.isNaN(t))throw new TypeError(`'${e}' is NaN`);if(1/0===t)throw new TypeError(`'${e}' is Infinity`);if(-1/0===t)throw new TypeError(`'${e}' is -Infinity`)}function r(e,t){if(n(e,t),0==t)throw new TypeError(`'${e}' is NULL`)}var a={ensureNumber:n,ensureString:function(e,t){if(!("string"==typeof t||t instanceof String))throw new TypeError(`'${e}' is not a string`)},ensureBoolean:function(e,t){if("boolean"!=typeof t)throw new TypeError(`'${e}' is not a boolean`)},ensureByteArray:function(e,t){if(!(t instanceof Uint8Array))throw new TypeError(`'${e}' is not an Uint8Array`)},ensureClass:function(e,t,n){if(!(t instanceof n))throw new TypeError(`'${e}' is not an instance of the class ${n.name}`);r(e,t.ctxPtr)},ensureNotNull:r,ensureImplementInterface:function(e,t,n,a,o){if(r(e,t.ctxPtr),!o.isImplemented(t.ctxPtr,a))throw new TypeError(`'${e}' does not implement interface '${n}'`)}};export default()=>{const n=new e;return new Promise((e,r)=>{n.onRuntimeInitialized=()=>{const r={};r.PythiaError=t(),r.Pythia=((e,t)=>{class n{static configure(){const n=e._vscp_pythia_configure();t.PythiaError.handleStatusCode(n)}static cleanup(){e._vscp_pythia_cleanup()}static blindedPasswordBufLen(){return e._vscp_pythia_blinded_password_buf_len()}static deblindedPasswordBufLen(){return e._vscp_pythia_deblinded_password_buf_len()}static blindingSecretBufLen(){return e._vscp_pythia_blinding_secret_buf_len()}static transformationPrivateKeyBufLen(){return e._vscp_pythia_transformation_private_key_buf_len()}static transformationPublicKeyBufLen(){return e._vscp_pythia_transformation_public_key_buf_len()}static transformedPasswordBufLen(){return e._vscp_pythia_transformed_password_buf_len()}static transformedTweakBufLen(){return e._vscp_pythia_transformed_tweak_buf_len()}static proofValueBufLen(){return e._vscp_pythia_proof_value_buf_len()}static passwordUpdateTokenBufLen(){return e._vscp_pythia_password_update_token_buf_len()}static blind(r){a.ensureByteArray("password",r);var o=r.length*r.BYTES_PER_ELEMENT;const i=e._malloc(o);e.HEAP8.set(r,i),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,i,o),o=n.blindedPasswordBufLen(),o=e._vsc_buffer_new_with_capacity(o);var s=n.blindingSecretBufLen();s=e._vsc_buffer_new_with_capacity(s);try{const n=e._vscp_pythia_blind(r,o,s);t.PythiaError.handleStatusCode(n);const a=e._vsc_buffer_bytes(o),i=e._vsc_buffer_len(o),u=e.HEAPU8.slice(a,a+i),c=e._vsc_buffer_bytes(s),f=e._vsc_buffer_len(s);return{blindedPassword:u,blindingSecret:e.HEAPU8.slice(c,c+f)}}finally{e._free(n),e._free(r),e._vsc_buffer_delete(o),e._vsc_buffer_delete(s)}}static deblind(r,o){a.ensureByteArray("transformedPassword",r),a.ensureByteArray("blindingSecret",o);var i=r.length*r.BYTES_PER_ELEMENT;const s=e._malloc(i);e.HEAP8.set(r,s),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,s,i);var u=o.length*o.BYTES_PER_ELEMENT;i=e._malloc(u),e.HEAP8.set(o,i),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,i,u),u=n.deblindedPasswordBufLen(),u=e._vsc_buffer_new_with_capacity(u);try{const n=e._vscp_pythia_deblind(r,o,u);t.PythiaError.handleStatusCode(n);const a=e._vsc_buffer_bytes(u),i=e._vsc_buffer_len(u);return e.HEAPU8.slice(a,a+i)}finally{e._free(a),e._free(r),e._free(n),e._free(o),e._vsc_buffer_delete(u)}}static computeTransformationKeyPair(r,o,i){a.ensureByteArray("transformationKeyId",r),a.ensureByteArray("pythiaSecret",o),a.ensureByteArray("pythiaScopeSecret",i);var s=r.length*r.BYTES_PER_ELEMENT;const u=e._malloc(s);e.HEAP8.set(r,u),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,u,s);var c=o.length*o.BYTES_PER_ELEMENT;s=e._malloc(c),e.HEAP8.set(o,s),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,s,c);var f=i.length*i.BYTES_PER_ELEMENT;c=e._malloc(f),e.HEAP8.set(i,c),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,c,f),f=n.transformationPrivateKeyBufLen(),f=e._vsc_buffer_new_with_capacity(f);var l=n.transformationPublicKeyBufLen();l=e._vsc_buffer_new_with_capacity(l);try{const n=e._vscp_pythia_compute_transformation_key_pair(r,o,i,f,l);t.PythiaError.handleStatusCode(n);const a=e._vsc_buffer_bytes(f),s=e._vsc_buffer_len(f),u=e.HEAPU8.slice(a,a+s),c=e._vsc_buffer_bytes(l),_=e._vsc_buffer_len(l);return{transformationPrivateKey:u,transformationPublicKey:e.HEAPU8.slice(c,c+_)}}finally{e._free(n),e._free(r),e._free(a),e._free(o),e._free(s),e._free(i),e._vsc_buffer_delete(f),e._vsc_buffer_delete(l)}}static transform(r,o,i){a.ensureByteArray("blindedPassword",r),a.ensureByteArray("tweak",o),a.ensureByteArray("transformationPrivateKey",i);var s=r.length*r.BYTES_PER_ELEMENT;const u=e._malloc(s);e.HEAP8.set(r,u),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,u,s);var c=o.length*o.BYTES_PER_ELEMENT;s=e._malloc(c),e.HEAP8.set(o,s),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,s,c);var f=i.length*i.BYTES_PER_ELEMENT;c=e._malloc(f),e.HEAP8.set(i,c),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,c,f),f=n.transformedPasswordBufLen(),f=e._vsc_buffer_new_with_capacity(f);var l=n.transformedTweakBufLen();l=e._vsc_buffer_new_with_capacity(l);try{const n=e._vscp_pythia_transform(r,o,i,f,l);t.PythiaError.handleStatusCode(n);const a=e._vsc_buffer_bytes(f),s=e._vsc_buffer_len(f),u=e.HEAPU8.slice(a,a+s),c=e._vsc_buffer_bytes(l),_=e._vsc_buffer_len(l);return{transformedPassword:u,transformedTweak:e.HEAPU8.slice(c,c+_)}}finally{e._free(n),e._free(r),e._free(a),e._free(o),e._free(s),e._free(i),e._vsc_buffer_delete(f),e._vsc_buffer_delete(l)}}static prove(r,o,i,s,u){a.ensureByteArray("transformedPassword",r),a.ensureByteArray("blindedPassword",o),a.ensureByteArray("transformedTweak",i),a.ensureByteArray("transformationPrivateKey",s),a.ensureByteArray("transformationPublicKey",u);var c=r.length*r.BYTES_PER_ELEMENT;const f=e._malloc(c);e.HEAP8.set(r,f),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,f,c);var l=o.length*o.BYTES_PER_ELEMENT;c=e._malloc(l),e.HEAP8.set(o,c),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,c,l);var _=i.length*i.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(i,l),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,l,_);var d=s.length*s.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(s,_),s=e._vsc_data_ctx_size(),s=e._malloc(s),e._vsc_data(s,_,d);var p=u.length*u.BYTES_PER_ELEMENT;d=e._malloc(p),e.HEAP8.set(u,d),u=e._vsc_data_ctx_size(),u=e._malloc(u),e._vsc_data(u,d,p),p=n.proofValueBufLen(),p=e._vsc_buffer_new_with_capacity(p);var y=n.proofValueBufLen();y=e._vsc_buffer_new_with_capacity(y);try{const n=e._vscp_pythia_prove(r,o,i,s,u,p,y);t.PythiaError.handleStatusCode(n);const a=e._vsc_buffer_bytes(p),c=e._vsc_buffer_len(p),f=e.HEAPU8.slice(a,a+c),l=e._vsc_buffer_bytes(y),_=e._vsc_buffer_len(y);return{proofValueC:f,proofValueU:e.HEAPU8.slice(l,l+_)}}finally{e._free(a),e._free(r),e._free(n),e._free(o),e._free(c),e._free(i),e._free(_),e._free(s),e._free(l),e._free(u),e._vsc_buffer_delete(p),e._vsc_buffer_delete(y)}}static verify(n,r,o,i,s,u){a.ensureByteArray("transformedPassword",n),a.ensureByteArray("blindedPassword",r),a.ensureByteArray("tweak",o),a.ensureByteArray("transformationPublicKey",i),a.ensureByteArray("proofValueC",s),a.ensureByteArray("proofValueU",u);var c=n.length*n.BYTES_PER_ELEMENT;const f=e._malloc(c);e.HEAP8.set(n,f),n=e._vsc_data_ctx_size(),n=e._malloc(n),e._vsc_data(n,f,c);var l=r.length*r.BYTES_PER_ELEMENT;c=e._malloc(l),e.HEAP8.set(r,c),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,c,l);var _=o.length*o.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(o,l),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,l,_);var d=i.length*i.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(i,_),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,_,d);var p=s.length*s.BYTES_PER_ELEMENT;d=e._malloc(p),e.HEAP8.set(s,d),s=e._vsc_data_ctx_size(),s=e._malloc(s),e._vsc_data(s,d,p);var y=u.length*u.BYTES_PER_ELEMENT;let h;p=e._malloc(y),e.HEAP8.set(u,p),u=e._vsc_data_ctx_size(),u=e._malloc(u),e._vsc_data(u,p,y),y=e._vscp_error_ctx_size(),y=e._malloc(y),e._vscp_error_reset(y);try{h=e._vscp_pythia_verify(n,r,o,i,s,u,y);const a=e._vscp_error_status(y);return t.PythiaError.handleStatusCode(a),!!h}finally{e._free(f),e._free(n),e._free(a),e._free(r),e._free(l),e._free(o),e._free(_),e._free(i),e._free(d),e._free(s),e._free(p),e._free(u),e._free(y)}}static getPasswordUpdateToken(r,o){a.ensureByteArray("previousTransformationPrivateKey",r),a.ensureByteArray("newTransformationPrivateKey",o);var i=r.length*r.BYTES_PER_ELEMENT;const s=e._malloc(i);e.HEAP8.set(r,s),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,s,i);var u=o.length*o.BYTES_PER_ELEMENT;i=e._malloc(u),e.HEAP8.set(o,i),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,i,u),u=n.passwordUpdateTokenBufLen(),u=e._vsc_buffer_new_with_capacity(u);try{const n=e._vscp_pythia_get_password_update_token(r,o,u);t.PythiaError.handleStatusCode(n);const a=e._vsc_buffer_bytes(u),i=e._vsc_buffer_len(u);return e.HEAPU8.slice(a,a+i)}finally{e._free(a),e._free(r),e._free(n),e._free(o),e._vsc_buffer_delete(u)}}static updateDeblindedWithToken(r,o){a.ensureByteArray("deblindedPassword",r),a.ensureByteArray("passwordUpdateToken",o);var i=r.length*r.BYTES_PER_ELEMENT;const s=e._malloc(i);e.HEAP8.set(r,s),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,s,i);var u=o.length*o.BYTES_PER_ELEMENT;i=e._malloc(u),e.HEAP8.set(o,i),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,i,u),u=n.deblindedPasswordBufLen(),u=e._vsc_buffer_new_with_capacity(u);try{const n=e._vscp_pythia_update_deblinded_with_token(r,o,u);t.PythiaError.handleStatusCode(n);const a=e._vsc_buffer_bytes(u),i=e._vsc_buffer_len(u);return e.HEAPU8.slice(a,a+i)}finally{e._free(a),e._free(r),e._free(n),e._free(o),e._vsc_buffer_delete(u)}}}return n})(n,r),e(r)},n.onAbort=e=>{r(Error(e))}})};
