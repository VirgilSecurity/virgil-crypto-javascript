"use strict";function createCommonjsModule(e,n){return e(n={exports:{}},n.exports),n.exports}var libpythia_worker=createCommonjsModule((function(e,n){var t,r=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var n;e=e||{},n||(n=void 0!==e?e:{});var r,a={};for(r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function o(e,n){throw n}var i,s="";s=self.location.href,t&&(s=t),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",i=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)};var u=n.print||console.log.bind(console),c=n.printErr||console.warn.bind(console);for(r in a)a.hasOwnProperty(r)&&(n[r]=a[r]);a=null,n.quit&&(o=n.quit);var f,l,_={"f64-rem":function(e,n){return e%n},debugger:function(){}},p=0;n.wasmBinary&&(f=n.wasmBinary),n.noExitRuntime&&(l=n.noExitRuntime),"object"!=typeof WebAssembly&&c("no native wasm support detected");var d,y,h,m,v,b=new WebAssembly.Table({initial:462,maximum:462,element:"anyfunc"}),w=!1,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function g(e,n,t){var r=n+t;for(t=n;e[t]&&!(t>=r);)++t;if(16<t-n&&e.subarray&&E)return E.decode(e.subarray(n,t));for(r="";n<t;){var a=e[n++];if(128&a){var o=63&e[n++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[n++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[n++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function P(e){return 0<e%65536&&(e+=65536-e%65536),e}function A(e){y=e,n.HEAP8=h=new Int8Array(e),n.HEAP16=new Int16Array(e),n.HEAP32=v=new Int32Array(e),n.HEAPU8=m=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var T=n.TOTAL_MEMORY||16777216;function B(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var r=t.Ib;"number"==typeof r?void 0===t.fb?n.dynCall_v(r):n.dynCall_vi(r,t.fb):r(void 0===t.fb?null:t.fb)}}}(d=n.wasmMemory?n.wasmMemory:new WebAssembly.Memory({initial:T/65536}))&&(y=d.buffer),T=y.byteLength,A(y),v[15672]=5305760;var L=[],N=[],M=[],S=[];function x(){var e=n.preRun.shift();L.unshift(e)}var k=Math.abs,R=Math.ceil,K=Math.floor,C=Math.min,H=0,U=null,z=null;function I(e){throw n.onAbort&&n.onAbort(e),u(e),c(e),w=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function O(){var e=D;return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}n.preloadedImages={},n.preloadedAudios={};var j,Y,D="libpythia.worker.wasm";if(!O()){var W=D;D=n.locateFile?n.locateFile(W,s):s+W}function F(){try{if(f)return new Uint8Array(f);if(i)return i(D);throw"both async and sync fetching of the wasm failed"}catch(e){I(e)}}function $(e,n){for(var t=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t;t--)e.unshift("..");return e}function V(e){var n="/"===e.charAt(0),t="/"===e.substr(-1);return(e=$(e.split("/").filter((function(e){return!!e})),!n).join("/"))||n||(e="."),e&&t&&(e+="/"),(n?"/":"")+e}function Q(e){var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=n[0],n=n[1],e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."}function X(e){if("/"===e)return"/";var n=e.lastIndexOf("/");return-1===n?e:e.substr(n+1)}function q(){for(var e="",n=!1,t=arguments.length-1;-1<=t&&!n;t--){if("string"!=typeof(n=0<=t?arguments[t]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,n="/"===n.charAt(0)}return(n?"/":"")+(e=$(e.split("/").filter((function(e){return!!e})),!n).join("/"))||"."}n.asm=function(){function e(e){n.asm=e.exports,H--,n.monitorRunDependencies&&n.monitorRunDependencies(H),0==H&&(null!==U&&(clearInterval(U),U=null),z&&(e=z,z=null,e()))}function t(n){e(n.instance)}function r(e){return(f||"function"!=typeof fetch?new Promise((function(e){e(F())})):fetch(D,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+D+"'";return e.arrayBuffer()})).catch((function(){return F()}))).then((function(e){return WebAssembly.instantiate(e,a)})).then(e,(function(e){c("failed to asynchronously prepare wasm: "+e),I(e)}))}var a={env:Ze,wasi_unstable:Ze,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:_};if(H++,n.monitorRunDependencies&&n.monitorRunDependencies(H),n.instantiateWasm)try{return n.instantiateWasm(a,e)}catch(e){return c("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(f||"function"!=typeof WebAssembly.instantiateStreaming||O()||"function"!=typeof fetch)return r(t);fetch(D,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(t,(function(e){c("wasm streaming compile failed: "+e),c("falling back to ArrayBuffer instantiation"),r(t)}))}))}(),{}};var Z=[];function G(e,n){Z[e]={input:[],Pa:[],Xa:n},Ae(e,J)}var J={open:function(e){var n=Z[e.node.cb];if(!n)throw new fe(43);e.Oa=n,e.seekable=!1},close:function(e){e.Oa.Xa.flush(e.Oa)},flush:function(e){e.Oa.Xa.flush(e.Oa)},read:function(e,n,t,r){if(!e.Oa||!e.Oa.Xa.ob)throw new fe(60);for(var a=0,o=0;o<r;o++){try{var i=e.Oa.Xa.ob(e.Oa)}catch(e){throw new fe(29)}if(void 0===i&&0===a)throw new fe(6);if(null==i)break;a++,n[t+o]=i}return a&&(e.node.timestamp=Date.now()),a},write:function(e,n,t,r){if(!e.Oa||!e.Oa.Xa.hb)throw new fe(60);try{for(var a=0;a<r;a++)e.Oa.Xa.hb(e.Oa,n[t+a])}catch(e){throw new fe(29)}return r&&(e.node.timestamp=Date.now()),a}},ee={ob:function(e){if(!e.input.length){var n=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(n=window.prompt("Input: "))&&(n+="\n"):"function"==typeof readline&&null!==(n=readline())&&(n+="\n"),!n)return null;for(var t=0,r=0;r<n.length;++r){var a=n.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&n.charCodeAt(++r)),127>=a?++t:t=2047>=a?t+2:65535>=a?t+3:t+4}var o=(t=Array(t+1)).length;if(r=0,0<o){a=r,o=r+o-1;for(var i=0;i<n.length;++i){var s=n.charCodeAt(i);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&n.charCodeAt(++i)),127>=s){if(r>=o)break;t[r++]=s}else{if(2047>=s){if(r+1>=o)break;t[r++]=192|s>>6}else{if(65535>=s){if(r+2>=o)break;t[r++]=224|s>>12}else{if(r+3>=o)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63}t[r++]=128|s>>6&63}t[r++]=128|63&s}}t[r]=0,n=r-a}else n=0;t.length=n,e.input=t}return e.input.shift()},hb:function(e,n){null===n||10===n?(u(g(e.Pa,0)),e.Pa=[]):0!=n&&e.Pa.push(n)},flush:function(e){e.Pa&&0<e.Pa.length&&(u(g(e.Pa,0)),e.Pa=[])}},ne={hb:function(e,n){null===n||10===n?(c(g(e.Pa,0)),e.Pa=[]):0!=n&&e.Pa.push(n)},flush:function(e){e.Pa&&0<e.Pa.length&&(c(g(e.Pa,0)),e.Pa=[])}},te={Qa:null,Sa:function(){return te.createNode(null,"/",16895,0)},createNode:function(e,n,t,r){if(24576==(61440&t)||4096==(61440&t))throw new fe(63);return te.Qa||(te.Qa={dir:{node:{Ta:te.La.Ta,Ra:te.La.Ra,Za:te.La.Za,ab:te.La.ab,tb:te.La.tb,vb:te.La.vb,ub:te.La.ub,sb:te.La.sb,eb:te.La.eb},stream:{Wa:te.Ma.Wa}},file:{node:{Ta:te.La.Ta,Ra:te.La.Ra},stream:{Wa:te.Ma.Wa,read:te.Ma.read,write:te.Ma.write,jb:te.Ma.jb,pb:te.Ma.pb,rb:te.Ma.rb}},link:{node:{Ta:te.La.Ta,Ra:te.La.Ra,$a:te.La.$a},stream:{}},kb:{node:{Ta:te.La.Ta,Ra:te.La.Ra},stream:Pe}}),16384==(61440&(t=he(e,n,t,r)).mode)?(t.La=te.Qa.dir.node,t.Ma=te.Qa.dir.stream,t.Ka={}):32768==(61440&t.mode)?(t.La=te.Qa.file.node,t.Ma=te.Qa.file.stream,t.Na=0,t.Ka=null):40960==(61440&t.mode)?(t.La=te.Qa.link.node,t.Ma=te.Qa.link.stream):8192==(61440&t.mode)&&(t.La=te.Qa.kb.node,t.Ma=te.Qa.kb.stream),t.timestamp=Date.now(),e&&(e.Ka[n]=t),t},Jb:function(e){if(e.Ka&&e.Ka.subarray){for(var n=[],t=0;t<e.Na;++t)n.push(e.Ka[t]);return n}return e.Ka},Kb:function(e){return e.Ka?e.Ka.subarray?e.Ka.subarray(0,e.Na):new Uint8Array(e.Ka):new Uint8Array},lb:function(e,n){var t=e.Ka?e.Ka.length:0;t>=n||(n=Math.max(n,t*(1048576>t?2:1.125)|0),0!=t&&(n=Math.max(n,256)),t=e.Ka,e.Ka=new Uint8Array(n),0<e.Na&&e.Ka.set(t.subarray(0,e.Na),0))},Ab:function(e,n){if(e.Na!=n)if(0==n)e.Ka=null,e.Na=0;else{if(!e.Ka||e.Ka.subarray){var t=e.Ka;e.Ka=new Uint8Array(new ArrayBuffer(n)),t&&e.Ka.set(t.subarray(0,Math.min(n,e.Na)))}else if(e.Ka||(e.Ka=[]),e.Ka.length>n)e.Ka.length=n;else for(;e.Ka.length<n;)e.Ka.push(0);e.Na=n}},La:{Ta:function(e){var n={};return n.Hb=8192==(61440&e.mode)?e.id:1,n.Mb=e.id,n.mode=e.mode,n.Ob=1,n.uid=0,n.Lb=0,n.cb=e.cb,16384==(61440&e.mode)?n.size=4096:32768==(61440&e.mode)?n.size=e.Na:40960==(61440&e.mode)?n.size=e.link.length:n.size=0,n.Eb=new Date(e.timestamp),n.Nb=new Date(e.timestamp),n.Gb=new Date(e.timestamp),n.wb=4096,n.Fb=Math.ceil(n.size/n.wb),n},Ra:function(e,n){void 0!==n.mode&&(e.mode=n.mode),void 0!==n.timestamp&&(e.timestamp=n.timestamp),void 0!==n.size&&te.Ab(e,n.size)},Za:function(){throw le[44]},ab:function(e,n,t,r){return te.createNode(e,n,t,r)},tb:function(e,n,t){if(16384==(61440&e.mode)){try{var r=ye(n,t)}catch(e){}if(r)for(var a in r.Ka)throw new fe(55)}delete e.parent.Ka[e.name],e.name=t,n.Ka[t]=e,e.parent=n},vb:function(e,n){delete e.Ka[n]},ub:function(e,n){var t,r=ye(e,n);for(t in r.Ka)throw new fe(55);delete e.Ka[n]},sb:function(e){var n,t=[".",".."];for(n in e.Ka)e.Ka.hasOwnProperty(n)&&t.push(n);return t},eb:function(e,n,t){return(e=te.createNode(e,n,41471,0)).link=t,e},$a:function(e){if(40960!=(61440&e.mode))throw new fe(28);return e.link}},Ma:{read:function(e,n,t,r,a){var o=e.node.Ka;if(a>=e.node.Na)return 0;if(8<(e=Math.min(e.node.Na-a,r))&&o.subarray)n.set(o.subarray(a,a+e),t);else for(r=0;r<e;r++)n[t+r]=o[a+r];return e},write:function(e,n,t,r,a,o){if(n.buffer===h.buffer&&(o=!1),!r)return 0;if((e=e.node).timestamp=Date.now(),n.subarray&&(!e.Ka||e.Ka.subarray)){if(o)return e.Ka=n.subarray(t,t+r),e.Na=r;if(0===e.Na&&0===a)return e.Ka=new Uint8Array(n.subarray(t,t+r)),e.Na=r;if(a+r<=e.Na)return e.Ka.set(n.subarray(t,t+r),a),r}if(te.lb(e,a+r),e.Ka.subarray&&n.subarray)e.Ka.set(n.subarray(t,t+r),a);else for(o=0;o<r;o++)e.Ka[a+o]=n[t+o];return e.Na=Math.max(e.Na,a+r),r},Wa:function(e,n,t){if(1===t?n+=e.position:2===t&&32768==(61440&e.node.mode)&&(n+=e.node.Na),0>n)throw new fe(28);return n},jb:function(e,n,t){te.lb(e.node,n+t),e.node.Na=Math.max(e.node.Na,n+t)},pb:function(e,n,t,r,a,o,i){if(32768!=(61440&e.node.mode))throw new fe(43);if(t=e.node.Ka,2&i||t.buffer!==n.buffer){if((0<a||a+r<e.node.Na)&&(t=t.subarray?t.subarray(a,a+r):Array.prototype.slice.call(t,a,a+r)),e=!0,a=n.buffer==h.buffer,!(r=Je(r)))throw new fe(48);(a?h:n).set(t,r)}else e=!1,r=t.byteOffset;return{Qb:r,Db:e}},rb:function(e,n,t,r,a){if(32768!=(61440&e.node.mode))throw new fe(43);return 2&a?0:(te.Ma.write(e,n,0,r,t,!1),0)}}},re=null,ae={},oe=[],ie=1,se=null,ue=!0,ce={},fe=null,le={};function _e(e,n){if(n=n||{},!(e=q("/",e)))return{path:"",node:null};var t,r={nb:!0,ib:0};for(t in r)void 0===n[t]&&(n[t]=r[t]);if(8<n.ib)throw new fe(32);e=$(e.split("/").filter((function(e){return!!e})),!1);var a=re;for(r="/",t=0;t<e.length;t++){var o=t===e.length-1;if(o&&n.parent)break;if(a=ye(a,e[t]),r=V(r+"/"+e[t]),a.bb&&(!o||o&&n.nb)&&(a=a.bb.root),!o||n.mb)for(o=0;40960==(61440&a.mode);)if(a=Se(r),a=_e(r=q(Q(r),a),{ib:n.ib}).node,40<o++)throw new fe(32)}return{path:r,node:a}}function pe(e){for(var n;;){if(e===e.parent)return e=e.Sa.qb,n?"/"!==e[e.length-1]?e+"/"+n:e+n:e;n=n?e.name+"/"+n:e.name,e=e.parent}}function de(e,n){for(var t=0,r=0;r<n.length;r++)t=(t<<5)-t+n.charCodeAt(r)|0;return(e+t>>>0)%se.length}function ye(e,n){var t;if(t=(t=be(e,"x"))?t:e.La.Za?0:2)throw new fe(t,e);for(t=se[de(e.id,n)];t;t=t.zb){var r=t.name;if(t.parent.id===e.id&&r===n)return t}return e.La.Za(e,n)}function he(e,n,t,r){return Ue||((Ue=function(e,n,t,r){e||(e=this),this.parent=e,this.Sa=e.Sa,this.bb=null,this.id=ie++,this.name=n,this.mode=t,this.La={},this.Ma={},this.cb=r}).prototype={},Object.defineProperties(Ue.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}})),function(e){var n=de(e.parent.id,e.name);e.zb=se[n],se[n]=e}(e=new Ue(e,n,t,r)),e}var me={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function ve(e){var n=["r","w","rw"][3&e];return 512&e&&(n+="w"),n}function be(e,n){return ue?0:(-1===n.indexOf("r")||292&e.mode)&&(-1===n.indexOf("w")||146&e.mode)&&(-1===n.indexOf("x")||73&e.mode)?0:2}function we(e,n){try{return ye(e,n),20}catch(e){}return be(e,"wx")}function Ee(e){ze||((ze=function(){}).prototype={},Object.defineProperties(ze.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var n,t=new ze;for(n in e)t[n]=e[n];return e=t,t=function(){for(var e=0;e<=4096;e++)if(!oe[e])return e;throw new fe(33)}(),e.Va=t,oe[t]=e}var ge,Pe={open:function(e){e.Ma=ae[e.node.cb].Ma,e.Ma.open&&e.Ma.open(e)},Wa:function(){throw new fe(70)}};function Ae(e,n){ae[e]={Ma:n}}function Te(e,n){var t="/"===n,r=!n;if(t&&re)throw new fe(10);if(!t&&!r){var a=_e(n,{nb:!1});if(n=a.path,(a=a.node).bb)throw new fe(10);if(16384!=(61440&a.mode))throw new fe(54)}n={type:e,Pb:{},qb:n,yb:[]},(e=e.Sa(n)).Sa=n,n.root=e,t?re=e:a&&(a.bb=n,a.Sa&&a.Sa.yb.push(n))}function Be(e,n,t){var r=_e(e,{parent:!0}).node;if(!(e=X(e))||"."===e||".."===e)throw new fe(28);var a=we(r,e);if(a)throw new fe(a);if(!r.La.ab)throw new fe(63);return r.La.ab(r,e,n,t)}function Le(e){Be(e,16895,0)}function Ne(e,n,t){void 0===t&&(t=n,n=438),Be(e,8192|n,t)}function Me(e,n){if(!q(e))throw new fe(44);var t=_e(n,{parent:!0}).node;if(!t)throw new fe(44);var r=we(t,n=X(n));if(r)throw new fe(r);if(!t.La.eb)throw new fe(63);t.La.eb(t,n,e)}function Se(e){if(!(e=_e(e).node))throw new fe(44);if(!e.La.$a)throw new fe(28);return q(pe(e.parent),e.La.$a(e))}function xe(e,t,r){if(""===e)throw new fe(44);if("string"==typeof t){var a=me[t];if(void 0===a)throw Error("Unknown file open mode: "+t);t=a}if(r=64&t?4095&(void 0===r?438:r)|32768:0,"object"==typeof e)var o=e;else{e=V(e);try{o=_e(e,{mb:!(131072&t)}).node}catch(e){}}if(a=!1,64&t)if(o){if(128&t)throw new fe(20)}else o=Be(e,r,0),a=!0;if(!o)throw new fe(44);if(8192==(61440&o.mode)&&(t&=-513),65536&t&&16384!=(61440&o.mode))throw new fe(54);if(!a&&(r=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==ve(t)||512&t)?31:be(o,ve(t)):44))throw new fe(r);if(512&t){var i;if(!(i="string"==typeof(r=o)?_e(r,{mb:!0}).node:r).La.Ra)throw new fe(63);if(16384==(61440&i.mode))throw new fe(31);if(32768!=(61440&i.mode))throw new fe(28);if(r=be(i,"w"))throw new fe(r);i.La.Ra(i,{size:0,timestamp:Date.now()})}t&=-641,(o=Ee({node:o,path:pe(o),flags:t,seekable:!0,position:0,Ma:o.Ma,Cb:[],error:!1})).Ma.open&&o.Ma.open(o),!n.logReadFiles||1&t||(Ie||(Ie={}),e in Ie||(Ie[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{ce.onOpenFile&&(i=0,1!=(2097155&t)&&(i|=1),0!=(2097155&t)&&(i|=2),ce.onOpenFile(e,i))}catch(n){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+n.message)}return o}function ke(e,n,t){if(null===e.Va)throw new fe(8);if(!e.seekable||!e.Ma.Wa)throw new fe(70);if(0!=t&&1!=t&&2!=t)throw new fe(28);e.position=e.Ma.Wa(e,n,t),e.Cb=[]}function Re(e,n,t,r){var a=h;if(0>t||0>r)throw new fe(28);if(null===e.Va)throw new fe(8);if(1==(2097155&e.flags))throw new fe(8);if(16384==(61440&e.node.mode))throw new fe(31);if(!e.Ma.read)throw new fe(28);var o=void 0!==r;if(o){if(!e.seekable)throw new fe(70)}else r=e.position;return n=e.Ma.read(e,a,n,t,r),o||(e.position+=n),n}function Ke(){fe||((fe=function(e,n){this.node=n,this.Bb=function(e){this.Ua=e},this.Bb(e),this.message="FS error"}).prototype=Error(),fe.prototype.constructor=fe,[44].forEach((function(e){le[e]=new fe(e),le[e].stack="<generic error, no stack>"})))}function Ce(e,n,t){e=V("/dev/"+e);var r=function(e,n){var t=0;return e&&(t|=365),n&&(t|=146),t}(!!n,!!t);He||(He=64);var a=He++<<8|0;Ae(a,{open:function(e){e.seekable=!1},close:function(){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,t,r,a){for(var o=0,i=0;i<a;i++){try{var s=n()}catch(e){throw new fe(29)}if(void 0===s&&0===o)throw new fe(6);if(null==s)break;o++,t[r+i]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,n,r,a){for(var o=0;o<a;o++)try{t(n[r+o])}catch(e){throw new fe(29)}return a&&(e.node.timestamp=Date.now()),o}}),Ne(e,r,a)}var He,Ue,ze,Ie,Oe={},je=0;function Ye(){return v[(je+=4)-4>>2]}function De(e){if(void 0===e&&(e=Ye()),!(e=oe[e]))throw new fe(8);return e}function We(e){try{var n=De(e);if(null===n.Va)throw new fe(8);n.gb&&(n.gb=null);try{n.Ma.close&&n.Ma.close(n)}catch(e){throw e}finally{oe[n.Va]=null}return n.Va=null,0}catch(e){return void 0!==Oe&&e instanceof fe||I(e),e.Ua}}function Fe(e,n,t,r){try{e:{for(var a=De(e),o=e=0;o<t;o++){var i=v[n+(8*o+4)>>2],s=Re(a,v[n+8*o>>2],i,void 0);if(0>s){var u=-1;break e}if(e+=s,s<i)break}u=e}return v[r>>2]=u,0}catch(e){return void 0!==Oe&&e instanceof fe||I(e),e.Ua}}function $e(e,n,t,r,a){try{var o=De(e);return-9007199254740992>=(e=4294967296*t+(n>>>0))||9007199254740992<=e?-61:(ke(o,e,r),Y=[o.position>>>0,(j=o.position,1<=+k(j)?0<j?(0|C(+K(j/4294967296),4294967295))>>>0:~~+R((j-+(~~j>>>0))/4294967296)>>>0:0)],v[a>>2]=Y[0],v[a+4>>2]=Y[1],o.gb&&0===e&&0===r&&(o.gb=null),0)}catch(e){return void 0!==Oe&&e instanceof fe||I(e),e.Ua}}function Ve(e,n,t,r){try{e:{for(var a=De(e),o=e=0;o<t;o++){var i=a,s=v[n+8*o>>2],u=v[n+(8*o+4)>>2],c=void 0,f=h;if(0>u||0>c)throw new fe(28);if(null===i.Va)throw new fe(8);if(0==(2097155&i.flags))throw new fe(8);if(16384==(61440&i.node.mode))throw new fe(31);if(!i.Ma.write)throw new fe(28);1024&i.flags&&ke(i,0,2);var l=void 0!==c;if(l){if(!i.seekable)throw new fe(70)}else c=i.position;var _=i.Ma.write(i,f,s,u,c,void 0);l||(i.position+=_);try{i.path&&ce.onWriteToFile&&ce.onWriteToFile(i.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+i.path+"') threw an exception: "+e.message)}var p=_;if(0>p){var d=-1;break e}e+=p}d=e}return v[r>>2]=d,0}catch(e){return void 0!==Oe&&e instanceof fe||I(e),e.Ua}}function Qe(){return h.length}function Xe(e,n){throw en(e,n||1),"longjmp"}function qe(){return qe.Ya||(qe.Ya=[]),qe.Ya.push(rn()),qe.Ya.length-1}Ke(),se=Array(4096),Te(te,"/"),Le("/tmp"),Le("/home"),Le("/home/web_user"),function(){if(Le("/dev"),Ae(259,{read:function(){return 0},write:function(e,n,t,r){return r}}),Ne("/dev/null",259),G(1280,ee),G(1536,ne),Ne("/dev/tty",1280),Ne("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var e=new Uint8Array(1),n=function(){return crypto.getRandomValues(e),e[0]};n||(n=function(){I("random_device")}),Ce("random",n),Ce("urandom",n),Le("/dev/shm"),Le("/dev/shm/tmp")}(),Le("/proc"),Le("/proc/self"),Le("/proc/self/fd"),Te({Sa:function(){var e=he("/proc/self","fd",16895,73);return e.La={Za:function(e,n){var t=oe[+n];if(!t)throw new fe(8);return(e={parent:null,Sa:{qb:"fake"},La:{$a:function(){return t.path}}}).parent=e}},e}},"/proc/self/fd");var Ze={u:function(){},I:function(e,n){je=n;try{return Re(De(),Ye(),Ye())}catch(e){return void 0!==Oe&&e instanceof fe||I(e),-e.Ua}},w:function(e,n){je=n;try{var t=Ye();return xe(t?g(m,t,void 0):"",Ye(),Ye()).Va}catch(e){return void 0!==Oe&&e instanceof fe||I(e),-e.Ua}},H:function(e,n){je=n;try{var t=De(),r=Ye();switch(r){case 21509:case 21505:return t.Oa?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.Oa?0:-59;case 21519:if(!t.Oa)return-59;var a=Ye();return v[a>>2]=0;case 21520:return t.Oa?-28:-59;case 21531:if(e=a=Ye(),!t.Ma.xb)throw new fe(59);return t.Ma.xb(t,r,e);case 21523:case 21524:return t.Oa?0:-59;default:I("bad ioctl syscall "+r)}}catch(e){return void 0!==Oe&&e instanceof fe||I(e),-e.Ua}},t:function(){},s:function(){return We.apply(null,arguments)},G:function(){return Fe.apply(null,arguments)},z:function(){return $e.apply(null,arguments)},F:function(){return Ve.apply(null,arguments)},__memory_base:1024,__table_base:0,E:function(){I()},D:Qe,C:function(e,n){Xe(e,n)},B:function(e,n,t){m.set(m.subarray(n,n+t),e)},A:function(e){if(2147418112<e)return!1;for(var n=Math.max(Qe(),16777216);n<e;)n=536870912>=n?P(2*n):Math.min(P((3*n+2147483648)/4),2147418112);e:{try{d.grow(n-y.byteLength+65535>>16),A(d.buffer);var t=1;break e}catch(e){}t=void 0}return!!t},j:function(e){!l&&(w=!0,n.onExit)&&n.onExit(e),o(e,new bn(e))},v:function(e){var n=Date.now();return v[e>>2]=n/1e3|0,v[e+4>>2]=n%1e3*1e3|0,0},o:function(e){var n=qe.Ya[e];qe.Ya.splice(e,1),tn(n)},q:qe,b:Xe,m:I,a:function(){return p},g:function(e){var n=rn();try{return an(e)}catch(e){if(tn(n),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},i:function(e,n){var t=rn();try{return on(e,n)}catch(e){if(tn(t),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},h:function(e,n,t){var r=rn();try{return sn(e,n,t)}catch(e){if(tn(r),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},p:function(e,n,t,r){var a=rn();try{return un(e,n,t,r)}catch(e){if(tn(a),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},y:function(e,n,t,r,a){var o=rn();try{return cn(e,n,t,r,a)}catch(e){if(tn(o),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},l:function(e){var n=rn();try{fn(e)}catch(e){if(tn(n),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},d:function(e,n){var t=rn();try{ln(e,n)}catch(e){if(tn(t),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},e:function(e,n,t){var r=rn();try{_n(e,n,t)}catch(e){if(tn(r),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},f:function(e,n,t,r){var a=rn();try{pn(e,n,t,r)}catch(e){if(tn(a),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},k:function(e,n,t,r,a){var o=rn();try{dn(e,n,t,r,a)}catch(e){if(tn(o),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},r:function(e,n,t,r,a,o){var i=rn();try{yn(e,n,t,r,a,o)}catch(e){if(tn(i),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},n:function(e,n,t,r,a,o,i){var s=rn();try{hn(e,n,t,r,a,o,i)}catch(e){if(tn(s),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},J:function(e,n,t,r,a,o,i,s){var u=rn();try{mn(e,n,t,r,a,o,i,s)}catch(e){if(tn(u),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},x:function(e,n,t,r,a,o,i,s,u){var c=rn();try{vn(e,n,t,r,a,o,i,s,u)}catch(e){if(tn(c),e!==e+0&&"longjmp"!==e)throw e;en(1,0)}},memory:d,c:function(e){p=e},table:b},Ge=n.asm({},Ze,y);n.asm=Ge,n.___errno_location=function(){return n.asm.K.apply(null,arguments)},n._free=function(){return n.asm.L.apply(null,arguments)};var Je=n._malloc=function(){return n.asm.M.apply(null,arguments)},en=n._setThrew=function(){return n.asm.N.apply(null,arguments)};n._vsc_buffer_bytes=function(){return n.asm.O.apply(null,arguments)},n._vsc_buffer_data=function(){return n.asm.P.apply(null,arguments)},n._vsc_buffer_delete=function(){return n.asm.Q.apply(null,arguments)},n._vsc_buffer_len=function(){return n.asm.R.apply(null,arguments)},n._vsc_buffer_make_secure=function(){return n.asm.S.apply(null,arguments)},n._vsc_buffer_new=function(){return n.asm.T.apply(null,arguments)},n._vsc_buffer_new_with_capacity=function(){return n.asm.U.apply(null,arguments)},n._vsc_data=function(){return n.asm.V.apply(null,arguments)},n._vsc_data_bytes=function(){return n.asm.W.apply(null,arguments)},n._vsc_data_ctx_size=function(){return n.asm.X.apply(null,arguments)},n._vsc_data_len=function(){return n.asm.Y.apply(null,arguments)},n._vscp_error_ctx_size=function(){return n.asm.Z.apply(null,arguments)},n._vscp_error_reset=function(){return n.asm._.apply(null,arguments)},n._vscp_error_status=function(){return n.asm.$.apply(null,arguments)},n._vscp_pythia_blind=function(){return n.asm.aa.apply(null,arguments)},n._vscp_pythia_blinded_password_buf_len=function(){return n.asm.ba.apply(null,arguments)},n._vscp_pythia_blinding_secret_buf_len=function(){return n.asm.ca.apply(null,arguments)},n._vscp_pythia_cleanup=function(){return n.asm.da.apply(null,arguments)},n._vscp_pythia_compute_transformation_key_pair=function(){return n.asm.ea.apply(null,arguments)},n._vscp_pythia_configure=function(){return n.asm.fa.apply(null,arguments)},n._vscp_pythia_deblind=function(){return n.asm.ga.apply(null,arguments)},n._vscp_pythia_deblinded_password_buf_len=function(){return n.asm.ha.apply(null,arguments)},n._vscp_pythia_get_password_update_token=function(){return n.asm.ia.apply(null,arguments)},n._vscp_pythia_password_update_token_buf_len=function(){return n.asm.ja.apply(null,arguments)},n._vscp_pythia_proof_value_buf_len=function(){return n.asm.ka.apply(null,arguments)},n._vscp_pythia_prove=function(){return n.asm.la.apply(null,arguments)},n._vscp_pythia_transform=function(){return n.asm.ma.apply(null,arguments)},n._vscp_pythia_transformation_private_key_buf_len=function(){return n.asm.na.apply(null,arguments)},n._vscp_pythia_transformation_public_key_buf_len=function(){return n.asm.oa.apply(null,arguments)},n._vscp_pythia_transformed_password_buf_len=function(){return n.asm.pa.apply(null,arguments)},n._vscp_pythia_transformed_tweak_buf_len=function(){return n.asm.qa.apply(null,arguments)},n._vscp_pythia_update_deblinded_with_token=function(){return n.asm.ra.apply(null,arguments)},n._vscp_pythia_verify=function(){return n.asm.sa.apply(null,arguments)},n.stackAlloc=function(){return n.asm.Ha.apply(null,arguments)};var nn,tn=n.stackRestore=function(){return n.asm.Ia.apply(null,arguments)},rn=n.stackSave=function(){return n.asm.Ja.apply(null,arguments)},an=n.dynCall_i=function(){return n.asm.ta.apply(null,arguments)},on=n.dynCall_ii=function(){return n.asm.ua.apply(null,arguments)},sn=n.dynCall_iii=function(){return n.asm.va.apply(null,arguments)},un=n.dynCall_iiii=function(){return n.asm.wa.apply(null,arguments)},cn=n.dynCall_iiiii=function(){return n.asm.xa.apply(null,arguments)},fn=n.dynCall_v=function(){return n.asm.ya.apply(null,arguments)},ln=n.dynCall_vi=function(){return n.asm.za.apply(null,arguments)},_n=n.dynCall_vii=function(){return n.asm.Aa.apply(null,arguments)},pn=n.dynCall_viii=function(){return n.asm.Ba.apply(null,arguments)},dn=n.dynCall_viiii=function(){return n.asm.Ca.apply(null,arguments)},yn=n.dynCall_viiiii=function(){return n.asm.Da.apply(null,arguments)},hn=n.dynCall_viiiiii=function(){return n.asm.Ea.apply(null,arguments)},mn=n.dynCall_viiiiiii=function(){return n.asm.Fa.apply(null,arguments)},vn=n.dynCall_viiiiiiii=function(){return n.asm.Ga.apply(null,arguments)};function bn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function wn(){function e(){if(!nn&&(nn=!0,!w)){if(n.noFSInit||ge||(ge=!0,Ke(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Ce("stdin",n.stdin):Me("/dev/tty","/dev/stdin"),n.stdout?Ce("stdout",null,n.stdout):Me("/dev/tty","/dev/stdout"),n.stderr?Ce("stderr",null,n.stderr):Me("/dev/tty1","/dev/stderr"),xe("/dev/stdin","r"),xe("/dev/stdout","w"),xe("/dev/stderr","w")),B(N),ue=!1,B(M),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;){var e=n.postRun.shift();S.unshift(e)}B(S)}}if(!(0<H)){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)x();B(L),0<H||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e())}}if(n.asm=Ge,n.then=function(e){if(nn)e(n);else{var t=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){t&&t(),e(n)}}return n},z=function e(){nn||wn(),nn||(z=e)},n.run=wn,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return l=!0,wn(),e});e.exports=r}));const initPythiaError=(e,n)=>{class t extends Error{constructor(e){super(e),this.name="PythiaError",this.message=e}static handleStatusCode(e){if(0!=e){if(-1==e)throw new t("This error should not be returned if assertions is enabled.");if(-200==e)throw new t("Underlying pythia library returns -1.");if(-202==e)throw new t("Underlying random number generator failed.");throw new t("Unexpected status code:"+e)}}}return t};var PythiaError=initPythiaError;function ensureNumber(e,n){if(!("number"==typeof n||n instanceof Number))throw new TypeError(`'${e}' is not a number`);if(Number.isNaN(n))throw new TypeError(`'${e}' is NaN`);if(n===1/0)throw new TypeError(`'${e}' is Infinity`);if(n===-1/0)throw new TypeError(`'${e}' is -Infinity`)}function ensureNotNull(e,n){if(ensureNumber(e,n),0==n)throw new TypeError(`'${e}' is NULL`)}function ensureString(e,n){if(!("string"==typeof n||n instanceof String))throw new TypeError(`'${e}' is not a string`)}function ensureBoolean(e,n){if("boolean"!=typeof n)throw new TypeError(`'${e}' is not a boolean`)}function ensureByteArray(e,n){if(!(n instanceof Uint8Array))throw new TypeError(`'${e}' is not an Uint8Array`)}function ensureClass(e,n,t){if(!(n instanceof t))throw new TypeError(`'${e}' is not an instance of the class ${t.name}`);ensureNotNull(e,n.ctxPtr)}function ensureImplementInterface(e,n,t,r,a){if(ensureNotNull(e,n.ctxPtr),!a.isImplemented(n.ctxPtr,r))throw new TypeError(`'${e}' does not implement interface '${t}'`)}var ensureNumber_1=ensureNumber,ensureString_1=ensureString,ensureBoolean_1=ensureBoolean,ensureByteArray_1=ensureByteArray,ensureClass_1=ensureClass,ensureNotNull_1=ensureNotNull,ensureImplementInterface_1=ensureImplementInterface,precondition={ensureNumber:ensureNumber_1,ensureString:ensureString_1,ensureBoolean:ensureBoolean_1,ensureByteArray:ensureByteArray_1,ensureClass:ensureClass_1,ensureNotNull:ensureNotNull_1,ensureImplementInterface:ensureImplementInterface_1};const initPythia=(e,n)=>{class t{static configure(){const t=e._vscp_pythia_configure();n.PythiaError.handleStatusCode(t)}static cleanup(){e._vscp_pythia_cleanup()}static blindedPasswordBufLen(){let n;return n=e._vscp_pythia_blinded_password_buf_len()}static deblindedPasswordBufLen(){let n;return n=e._vscp_pythia_deblinded_password_buf_len()}static blindingSecretBufLen(){let n;return n=e._vscp_pythia_blinding_secret_buf_len()}static transformationPrivateKeyBufLen(){let n;return n=e._vscp_pythia_transformation_private_key_buf_len()}static transformationPublicKeyBufLen(){let n;return n=e._vscp_pythia_transformation_public_key_buf_len()}static transformedPasswordBufLen(){let n;return n=e._vscp_pythia_transformed_password_buf_len()}static transformedTweakBufLen(){let n;return n=e._vscp_pythia_transformed_tweak_buf_len()}static proofValueBufLen(){let n;return n=e._vscp_pythia_proof_value_buf_len()}static passwordUpdateTokenBufLen(){let n;return n=e._vscp_pythia_password_update_token_buf_len()}static blind(r){precondition.ensureByteArray("password",r);const a=r.length*r.BYTES_PER_ELEMENT,o=e._malloc(a);e.HEAP8.set(r,o);const i=e._vsc_data_ctx_size(),s=e._malloc(i);e._vsc_data(s,o,a);const u=t.blindedPasswordBufLen(),c=e._vsc_buffer_new_with_capacity(u),f=t.blindingSecretBufLen(),l=e._vsc_buffer_new_with_capacity(f);try{const t=e._vscp_pythia_blind(s,c,l);n.PythiaError.handleStatusCode(t);const r=e._vsc_buffer_bytes(c),a=e._vsc_buffer_len(c),i=e.HEAPU8.slice(r,r+a),u=e._vsc_buffer_bytes(l),f=e._vsc_buffer_len(l);return{blindedPassword:i,blindingSecret:e.HEAPU8.slice(u,u+f)}}finally{e._free(o),e._free(s),e._vsc_buffer_delete(c),e._vsc_buffer_delete(l)}}static deblind(r,a){precondition.ensureByteArray("transformedPassword",r),precondition.ensureByteArray("blindingSecret",a);const o=r.length*r.BYTES_PER_ELEMENT,i=e._malloc(o);e.HEAP8.set(r,i);const s=e._vsc_data_ctx_size(),u=e._malloc(s);e._vsc_data(u,i,o);const c=a.length*a.BYTES_PER_ELEMENT,f=e._malloc(c);e.HEAP8.set(a,f);const l=e._vsc_data_ctx_size(),_=e._malloc(l);e._vsc_data(_,f,c);const p=t.deblindedPasswordBufLen(),d=e._vsc_buffer_new_with_capacity(p);try{const t=e._vscp_pythia_deblind(u,_,d);n.PythiaError.handleStatusCode(t);const r=e._vsc_buffer_bytes(d),a=e._vsc_buffer_len(d);return e.HEAPU8.slice(r,r+a)}finally{e._free(i),e._free(u),e._free(f),e._free(_),e._vsc_buffer_delete(d)}}static computeTransformationKeyPair(r,a,o){precondition.ensureByteArray("transformationKeyId",r),precondition.ensureByteArray("pythiaSecret",a),precondition.ensureByteArray("pythiaScopeSecret",o);const i=r.length*r.BYTES_PER_ELEMENT,s=e._malloc(i);e.HEAP8.set(r,s);const u=e._vsc_data_ctx_size(),c=e._malloc(u);e._vsc_data(c,s,i);const f=a.length*a.BYTES_PER_ELEMENT,l=e._malloc(f);e.HEAP8.set(a,l);const _=e._vsc_data_ctx_size(),p=e._malloc(_);e._vsc_data(p,l,f);const d=o.length*o.BYTES_PER_ELEMENT,y=e._malloc(d);e.HEAP8.set(o,y);const h=e._vsc_data_ctx_size(),m=e._malloc(h);e._vsc_data(m,y,d);const v=t.transformationPrivateKeyBufLen(),b=e._vsc_buffer_new_with_capacity(v),w=t.transformationPublicKeyBufLen(),E=e._vsc_buffer_new_with_capacity(w);try{const t=e._vscp_pythia_compute_transformation_key_pair(c,p,m,b,E);n.PythiaError.handleStatusCode(t);const r=e._vsc_buffer_bytes(b),a=e._vsc_buffer_len(b),o=e.HEAPU8.slice(r,r+a),i=e._vsc_buffer_bytes(E),u=e._vsc_buffer_len(E);return{transformationPrivateKey:o,transformationPublicKey:e.HEAPU8.slice(i,i+u)}}finally{e._free(s),e._free(c),e._free(l),e._free(p),e._free(y),e._free(m),e._vsc_buffer_delete(b),e._vsc_buffer_delete(E)}}static transform(r,a,o){precondition.ensureByteArray("blindedPassword",r),precondition.ensureByteArray("tweak",a),precondition.ensureByteArray("transformationPrivateKey",o);const i=r.length*r.BYTES_PER_ELEMENT,s=e._malloc(i);e.HEAP8.set(r,s);const u=e._vsc_data_ctx_size(),c=e._malloc(u);e._vsc_data(c,s,i);const f=a.length*a.BYTES_PER_ELEMENT,l=e._malloc(f);e.HEAP8.set(a,l);const _=e._vsc_data_ctx_size(),p=e._malloc(_);e._vsc_data(p,l,f);const d=o.length*o.BYTES_PER_ELEMENT,y=e._malloc(d);e.HEAP8.set(o,y);const h=e._vsc_data_ctx_size(),m=e._malloc(h);e._vsc_data(m,y,d);const v=t.transformedPasswordBufLen(),b=e._vsc_buffer_new_with_capacity(v),w=t.transformedTweakBufLen(),E=e._vsc_buffer_new_with_capacity(w);try{const t=e._vscp_pythia_transform(c,p,m,b,E);n.PythiaError.handleStatusCode(t);const r=e._vsc_buffer_bytes(b),a=e._vsc_buffer_len(b),o=e.HEAPU8.slice(r,r+a),i=e._vsc_buffer_bytes(E),u=e._vsc_buffer_len(E);return{transformedPassword:o,transformedTweak:e.HEAPU8.slice(i,i+u)}}finally{e._free(s),e._free(c),e._free(l),e._free(p),e._free(y),e._free(m),e._vsc_buffer_delete(b),e._vsc_buffer_delete(E)}}static prove(r,a,o,i,s){precondition.ensureByteArray("transformedPassword",r),precondition.ensureByteArray("blindedPassword",a),precondition.ensureByteArray("transformedTweak",o),precondition.ensureByteArray("transformationPrivateKey",i),precondition.ensureByteArray("transformationPublicKey",s);const u=r.length*r.BYTES_PER_ELEMENT,c=e._malloc(u);e.HEAP8.set(r,c);const f=e._vsc_data_ctx_size(),l=e._malloc(f);e._vsc_data(l,c,u);const _=a.length*a.BYTES_PER_ELEMENT,p=e._malloc(_);e.HEAP8.set(a,p);const d=e._vsc_data_ctx_size(),y=e._malloc(d);e._vsc_data(y,p,_);const h=o.length*o.BYTES_PER_ELEMENT,m=e._malloc(h);e.HEAP8.set(o,m);const v=e._vsc_data_ctx_size(),b=e._malloc(v);e._vsc_data(b,m,h);const w=i.length*i.BYTES_PER_ELEMENT,E=e._malloc(w);e.HEAP8.set(i,E);const g=e._vsc_data_ctx_size(),P=e._malloc(g);e._vsc_data(P,E,w);const A=s.length*s.BYTES_PER_ELEMENT,T=e._malloc(A);e.HEAP8.set(s,T);const B=e._vsc_data_ctx_size(),L=e._malloc(B);e._vsc_data(L,T,A);const N=t.proofValueBufLen(),M=e._vsc_buffer_new_with_capacity(N),S=t.proofValueBufLen(),x=e._vsc_buffer_new_with_capacity(S);try{const t=e._vscp_pythia_prove(l,y,b,P,L,M,x);n.PythiaError.handleStatusCode(t);const r=e._vsc_buffer_bytes(M),a=e._vsc_buffer_len(M),o=e.HEAPU8.slice(r,r+a),i=e._vsc_buffer_bytes(x),s=e._vsc_buffer_len(x);return{proofValueC:o,proofValueU:e.HEAPU8.slice(i,i+s)}}finally{e._free(c),e._free(l),e._free(p),e._free(y),e._free(m),e._free(b),e._free(E),e._free(P),e._free(T),e._free(L),e._vsc_buffer_delete(M),e._vsc_buffer_delete(x)}}static verify(t,r,a,o,i,s){precondition.ensureByteArray("transformedPassword",t),precondition.ensureByteArray("blindedPassword",r),precondition.ensureByteArray("tweak",a),precondition.ensureByteArray("transformationPublicKey",o),precondition.ensureByteArray("proofValueC",i),precondition.ensureByteArray("proofValueU",s);const u=t.length*t.BYTES_PER_ELEMENT,c=e._malloc(u);e.HEAP8.set(t,c);const f=e._vsc_data_ctx_size(),l=e._malloc(f);e._vsc_data(l,c,u);const _=r.length*r.BYTES_PER_ELEMENT,p=e._malloc(_);e.HEAP8.set(r,p);const d=e._vsc_data_ctx_size(),y=e._malloc(d);e._vsc_data(y,p,_);const h=a.length*a.BYTES_PER_ELEMENT,m=e._malloc(h);e.HEAP8.set(a,m);const v=e._vsc_data_ctx_size(),b=e._malloc(v);e._vsc_data(b,m,h);const w=o.length*o.BYTES_PER_ELEMENT,E=e._malloc(w);e.HEAP8.set(o,E);const g=e._vsc_data_ctx_size(),P=e._malloc(g);e._vsc_data(P,E,w);const A=i.length*i.BYTES_PER_ELEMENT,T=e._malloc(A);e.HEAP8.set(i,T);const B=e._vsc_data_ctx_size(),L=e._malloc(B);e._vsc_data(L,T,A);const N=s.length*s.BYTES_PER_ELEMENT,M=e._malloc(N);e.HEAP8.set(s,M);const S=e._vsc_data_ctx_size(),x=e._malloc(S);e._vsc_data(x,M,N);const k=e._vscp_error_ctx_size(),R=e._malloc(k);let K;e._vscp_error_reset(R);try{K=e._vscp_pythia_verify(l,y,b,P,L,x,R);const t=e._vscp_error_status(R);return n.PythiaError.handleStatusCode(t),!!K}finally{e._free(c),e._free(l),e._free(p),e._free(y),e._free(m),e._free(b),e._free(E),e._free(P),e._free(T),e._free(L),e._free(M),e._free(x),e._free(R)}}static getPasswordUpdateToken(r,a){precondition.ensureByteArray("previousTransformationPrivateKey",r),precondition.ensureByteArray("newTransformationPrivateKey",a);const o=r.length*r.BYTES_PER_ELEMENT,i=e._malloc(o);e.HEAP8.set(r,i);const s=e._vsc_data_ctx_size(),u=e._malloc(s);e._vsc_data(u,i,o);const c=a.length*a.BYTES_PER_ELEMENT,f=e._malloc(c);e.HEAP8.set(a,f);const l=e._vsc_data_ctx_size(),_=e._malloc(l);e._vsc_data(_,f,c);const p=t.passwordUpdateTokenBufLen(),d=e._vsc_buffer_new_with_capacity(p);try{const t=e._vscp_pythia_get_password_update_token(u,_,d);n.PythiaError.handleStatusCode(t);const r=e._vsc_buffer_bytes(d),a=e._vsc_buffer_len(d);return e.HEAPU8.slice(r,r+a)}finally{e._free(i),e._free(u),e._free(f),e._free(_),e._vsc_buffer_delete(d)}}static updateDeblindedWithToken(r,a){precondition.ensureByteArray("deblindedPassword",r),precondition.ensureByteArray("passwordUpdateToken",a);const o=r.length*r.BYTES_PER_ELEMENT,i=e._malloc(o);e.HEAP8.set(r,i);const s=e._vsc_data_ctx_size(),u=e._malloc(s);e._vsc_data(u,i,o);const c=a.length*a.BYTES_PER_ELEMENT,f=e._malloc(c);e.HEAP8.set(a,f);const l=e._vsc_data_ctx_size(),_=e._malloc(l);e._vsc_data(_,f,c);const p=t.deblindedPasswordBufLen(),d=e._vsc_buffer_new_with_capacity(p);try{const t=e._vscp_pythia_update_deblinded_with_token(u,_,d);n.PythiaError.handleStatusCode(t);const r=e._vsc_buffer_bytes(d),a=e._vsc_buffer_len(d);return e.HEAPU8.slice(r,r+a)}finally{e._free(i),e._free(u),e._free(f),e._free(_),e._vsc_buffer_delete(d)}}}return t};var Pythia=initPythia;const initProject=()=>{const e=new libpythia_worker;return new Promise((n,t)=>{e.onRuntimeInitialized=()=>{const t={};t.PythiaError=PythiaError(),t.Pythia=Pythia(e,t),n(t)},e.onAbort=e=>{t(new Error(e))}})};var pythia=initProject;module.exports=pythia;
