"use strict";function createCommonjsModule(e,n){return e(n={exports:{}},n.exports),n.exports}var libpythia_worker=createCommonjsModule((function(e,n){n=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(n){function t(e,n){throw n}function r(e,n,t){var r=n+t;for(t=n;e[t]&&!(t>=r);)++t;if(16<t-n&&e.subarray&&se)return se.decode(e.subarray(n,t));for(r="";n<t;){var a=e[n++];if(128&a){var i=63&e[n++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[n++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[n++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function a(e){return 0<e%65536&&(e+=65536-e%65536),e}function i(e){ue=e,K.HEAP8=ce=new Int8Array(e),K.HEAP16=le=new Int16Array(e),K.HEAP32=_e=new Int32Array(e),K.HEAPU8=fe=new Uint8Array(e),K.HEAPU16=new Uint16Array(e),K.HEAPU32=new Uint32Array(e),K.HEAPF32=new Float32Array(e),K.HEAPF64=new Float64Array(e)}function o(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n();else{var t=n.Jb;"number"==typeof t?void 0===n.gb?K.dynCall_v(t):K.dynCall_vi(t,n.gb):t(void 0===n.gb?null:n.gb)}}}function s(){var e=K.preRun.shift();pe.unshift(e)}function u(e){throw K.onAbort&&K.onAbort(e),G(e),J(e),oe=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}function c(){var e=Te;return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}function f(){try{if(ee)return new Uint8Array(ee);if(Z)return Z(Te);throw"both async and sync fetching of the wasm failed"}catch(e){u(e)}}function l(e,n){for(var t=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t;t--)e.unshift("..");return e}function _(e){var n="/"===e.charAt(0),t="/"===e.substr(-1);return(e=l(e.split("/").filter((function(e){return!!e})),!n).join("/"))||n||(e="."),e&&t&&(e+="/"),(n?"/":"")+e}function d(e){var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=n[0],n=n[1],e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."}function p(e){if("/"===e)return"/";var n=e.lastIndexOf("/");return-1===n?e:e.substr(n+1)}function y(){for(var e="",n=!1,t=arguments.length-1;-1<=t&&!n;t--){if("string"!=typeof(n=0<=t?arguments[t]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,n="/"===n.charAt(0)}return(n?"/":"")+(e=l(e.split("/").filter((function(e){return!!e})),!n).join("/"))||"."}function h(e,n){Ce[e]={input:[],Qa:[],Ya:n},L(e,Ue)}function m(e,n){if(n=n||{},!(e=y("/",e)))return{path:"",node:null};var t,r={ob:!0,jb:0};for(t in r)void 0===n[t]&&(n[t]=r[t]);if(8<n.jb)throw new Ve(32);e=l(e.split("/").filter((function(e){return!!e})),!1);var a=Ie;for(r="/",t=0;t<e.length;t++){var i=t===e.length-1;if(i&&n.parent)break;if(a=w(a,e[t]),r=_(r+"/"+e[t]),a.cb&&(!i||i&&n.ob)&&(a=a.cb.root),!i||n.nb)for(i=0;40960==(61440&a.mode);)if(a=k(r),a=m(r=y(d(r),a),{jb:n.jb}).node,40<i++)throw new Ve(32)}return{path:r,node:a}}function v(e){for(var n;;){if(e===e.parent)return e=e.Ta.rb,n?"/"!==e[e.length-1]?e+"/"+n:e+n:e;n=n?e.name+"/"+n:e.name,e=e.parent}}function b(e,n){for(var t=0,r=0;r<n.length;r++)t=(t<<5)-t+n.charCodeAt(r)|0;return(e+t>>>0)%We.length}function w(e,n){var t;if(t=(t=P(e,"x"))?t:e.Ma.$a?0:2)throw new Ve(t,e);for(t=We[b(e.id,n)];t;t=t.Ab){var r=t.name;if(t.parent.id===e.id&&r===n)return t}return e.Ma.$a(e,n)}function E(e,n,t,r){return xe||((xe=function(e,n,t,r){e||(e=this),this.parent=e,this.Ta=e.Ta,this.cb=null,this.id=De++,this.name=n,this.mode=t,this.Ma={},this.Na={},this.eb=r}).prototype={},Object.defineProperties(xe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}})),function(e){var n=b(e.parent.id,e.name);e.Ab=We[n],We[n]=e}(e=new xe(e,n,t,r)),e}function g(e){var n=["r","w","rw"][3&e];return 512&e&&(n+="w"),n}function P(e,n){return Fe?0:(-1===n.indexOf("r")||292&e.mode)&&(-1===n.indexOf("w")||146&e.mode)&&(-1===n.indexOf("x")||73&e.mode)?0:2}function A(e,n){try{return w(e,n),20}catch(e){}return P(e,"wx")}function T(e,n){ke||((ke=function(){}).prototype={},Object.defineProperties(ke.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var t,r=new ke;for(t in e)r[t]=e[t];return e=r,n=function(e){for(e=e||0;4096>=e;e++)if(!Ye[e])return e;throw new Ve(33)}(n),e.Va=n,Ye[n]=e}function L(e,n){je[e]={Na:n}}function N(e,n){var t="/"===n,r=!n;if(t&&Ie)throw new Ve(10);if(!t&&!r){var a=m(n,{ob:!1});if(n=a.path,(a=a.node).cb)throw new Ve(10);if(16384!=(61440&a.mode))throw new Ve(54)}n={type:e,Qb:{},rb:n,zb:[]},(e=e.Ta(n)).Ta=n,n.root=e,t?Ie=e:a&&(a.cb=n,a.Ta&&a.Ta.zb.push(n))}function B(e,n,t){var r=m(e,{parent:!0}).node;if(!(e=p(e))||"."===e||".."===e)throw new Ve(28);var a=A(r,e);if(a)throw new Ve(a);if(!r.Ma.bb)throw new Ve(63);return r.Ma.bb(r,e,n,t)}function M(e){B(e,16895,0)}function S(e,n,t){void 0===t&&(t=n,n=438),B(e,8192|n,t)}function x(e,n){if(!y(e))throw new Ve(44);var t=m(n,{parent:!0}).node;if(!t)throw new Ve(44);var r=A(t,n=p(n));if(r)throw new Ve(r);if(!t.Ma.fb)throw new Ve(63);t.Ma.fb(t,n,e)}function k(e){if(!(e=m(e).node))throw new Ve(44);if(!e.Ma.ab)throw new Ve(28);return y(v(e.parent),e.Ma.ab(e))}function R(e,n,t,r){if(""===e)throw new Ve(44);if("string"==typeof n){var a=Qe[n];if(void 0===a)throw Error("Unknown file open mode: "+n);n=a}if(t=64&n?4095&(void 0===t?438:t)|32768:0,"object"==typeof e)var i=e;else{e=_(e);try{i=m(e,{nb:!(131072&n)}).node}catch(e){}}if(a=!1,64&n)if(i){if(128&n)throw new Ve(20)}else i=B(e,t,0),a=!0;if(!i)throw new Ve(44);if(8192==(61440&i.mode)&&(n&=-513),65536&n&&16384!=(61440&i.mode))throw new Ve(54);if(!a&&(t=i?40960==(61440&i.mode)?32:16384==(61440&i.mode)&&("r"!==g(n)||512&n)?31:P(i,g(n)):44))throw new Ve(t);if(512&n){var o;if(!(o="string"==typeof(t=i)?m(t,{nb:!0}).node:t).Ma.Sa)throw new Ve(63);if(16384==(61440&o.mode))throw new Ve(31);if(32768!=(61440&o.mode))throw new Ve(28);if(t=P(o,"w"))throw new Ve(t);o.Ma.Sa(o,{size:0,timestamp:Date.now()})}n&=-641,(r=T({node:i,path:v(i),flags:n,seekable:!0,position:0,Na:i.Na,Db:[],error:!1},r)).Na.open&&r.Na.open(r),!K.logReadFiles||1&n||(Re||(Re={}),e in Re||(Re[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{$e.onOpenFile&&(i=0,1!=(2097155&n)&&(i|=1),0!=(2097155&n)&&(i|=2),$e.onOpenFile(e,i))}catch(n){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+n.message)}return r}function C(e,n,t){if(null===e.Va)throw new Ve(8);if(!e.seekable||!e.Na.Xa)throw new Ve(70);if(0!=t&&1!=t&&2!=t)throw new Ve(28);e.position=e.Na.Xa(e,n,t),e.Db=[]}function U(e,n,t,r){var a=ce;if(0>t||0>r)throw new Ve(28);if(null===e.Va)throw new Ve(8);if(1==(2097155&e.flags))throw new Ve(8);if(16384==(61440&e.node.mode))throw new Ve(31);if(!e.Na.read)throw new Ve(28);var i=void 0!==r;if(i){if(!e.seekable)throw new Ve(70)}else r=e.position;return n=e.Na.read(e,a,n,t,r),i||(e.position+=n),n}function H(){Ve||((Ve=function(e,n){this.node=n,this.Cb=function(e){this.Ua=e},this.Cb(e),this.message="FS error"}).prototype=Error(),Ve.prototype.constructor=Ve,[44].forEach((function(e){Ke[e]=new Ve(e),Ke[e].stack="<generic error, no stack>"})))}function z(e,n,t){e=_("/dev/"+e);var r=function(e,n){var t=0;return e&&(t|=365),n&&(t|=146),t}(!!n,!!t);Se||(Se=64);var a=Se++<<8|0;L(a,{open:function(e){e.seekable=!1},close:function(){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,t,r,a){for(var i=0,o=0;o<a;o++){try{var s=n()}catch(e){throw new Ve(29)}if(void 0===s&&0===i)throw new Ve(6);if(null==s)break;i++,t[r+o]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,n,r,a){for(var i=0;i<a;i++)try{t(n[r+i])}catch(e){throw new Ve(29)}return a&&(e.node.timestamp=Date.now()),i}}),S(e,r,a)}function O(){return _e[(Ze+=4)-4>>2]}function I(e){if(e||(e=O()),!(e=Ye[e]))throw new Ve(8);return e}function j(e){try{var n=I(e);if(null===n.Va)throw new Ve(8);n.hb&&(n.hb=null);try{n.Na.close&&n.Na.close(n)}catch(e){throw e}finally{Ye[n.Va]=null}return n.Va=null,0}catch(e){return void 0!==qe&&e instanceof Ve||u(e),e.Ua}}function Y(e,n,t,r){try{e:{for(var a=I(e),i=e=0;i<t;i++){var o=a,s=_e[n+8*i>>2],c=_e[n+(8*i+4)>>2],f=void 0,l=ce;if(0>c||0>f)throw new Ve(28);if(null===o.Va)throw new Ve(8);if(0==(2097155&o.flags))throw new Ve(8);if(16384==(61440&o.node.mode))throw new Ve(31);if(!o.Na.write)throw new Ve(28);1024&o.flags&&C(o,0,2);var _=void 0!==f;if(_){if(!o.seekable)throw new Ve(70)}else f=o.position;var d=o.Na.write(o,l,s,c,f,void 0);_||(o.position+=d);try{o.path&&$e.onWriteToFile&&$e.onWriteToFile(o.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+o.path+"') threw an exception: "+e.message)}if(0>(o=d)){var p=-1;break e}e+=o}p=e}return _e[r>>2]=p,0}catch(e){return void 0!==qe&&e instanceof Ve||u(e),e.Ua}}function D(){return ce.length}function W(e,n){throw nn(e,n||1),"longjmp"}function F(){return F.Za||(F.Za=[]),F.Za.push(an()),F.Za.length-1}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(){function e(){if(!tn&&(tn=!0,!oe)){if(K.noFSInit||Me||(Me=!0,H(),K.stdin=K.stdin,K.stdout=K.stdout,K.stderr=K.stderr,K.stdin?z("stdin",K.stdin):x("/dev/tty","/dev/stdin"),K.stdout?z("stdout",null,K.stdout):x("/dev/tty","/dev/stdout"),K.stderr?z("stderr",null,K.stderr):x("/dev/tty1","/dev/stderr"),R("/dev/stdin","r"),R("/dev/stdout","w"),R("/dev/stderr","w")),o(ye),Fe=!1,o(he),K.onRuntimeInitialized&&K.onRuntimeInitialized(),K.postRun)for("function"==typeof K.postRun&&(K.postRun=[K.postRun]);K.postRun.length;){var e=K.postRun.shift();me.unshift(e)}o(me)}}if(!(0<ge)){if(K.preRun)for("function"==typeof K.preRun&&(K.preRun=[K.preRun]);K.preRun.length;)s();o(pe),0<ge||(K.setStatus?(K.setStatus("Running..."),setTimeout((function(){setTimeout((function(){K.setStatus("")}),1),e()}),1)):e())}}var K;n=n||{},K||(K=void 0!==n?n:{});var Q,X={};for(Q in K)K.hasOwnProperty(Q)&&(X[Q]=K[Q]);var q="";q=self.location.href,e&&(q=e),q=0!==q.indexOf("blob:")?q.substr(0,q.lastIndexOf("/")+1):"";var Z=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)},G=K.print||console.log.bind(console),J=K.printErr||console.warn.bind(console);for(Q in X)X.hasOwnProperty(Q)&&(K[Q]=X[Q]);X=null,K.quit&&(t=K.quit);var ee,ne,te={"f64-rem":function(e,n){return e%n},debugger:function(){}},re=0;K.wasmBinary&&(ee=K.wasmBinary),K.noExitRuntime&&(ne=K.noExitRuntime),"object"!=typeof WebAssembly&&J("no native wasm support detected");var ae,ie=new WebAssembly.Table({initial:462,maximum:462,element:"anyfunc"}),oe=!1,se="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var ue,ce,fe,le,_e,de=K.TOTAL_MEMORY||16777216;(ae=K.wasmMemory?K.wasmMemory:new WebAssembly.Memory({initial:de/65536}))&&(ue=ae.buffer),de=ue.byteLength,i(ue),_e[15676]=5305792;var pe=[],ye=[],he=[],me=[],ve=Math.abs,be=Math.ceil,we=Math.floor,Ee=Math.min,ge=0,Pe=null,Ae=null;K.preloadedImages={},K.preloadedAudios={};var Te="libpythia.worker.wasm";if(!c()){var Le=Te;Te=K.locateFile?K.locateFile(Le,q):q+Le}K.asm=function(){function e(e){K.asm=e.exports,ge--,K.monitorRunDependencies&&K.monitorRunDependencies(ge),0==ge&&(null!==Pe&&(clearInterval(Pe),Pe=null),Ae&&(e=Ae,Ae=null,e()))}function n(n){e(n.instance)}function t(e){return(ee||"function"!=typeof fetch?new Promise((function(e){e(f())})):fetch(Te,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Te+"'";return e.arrayBuffer()})).catch((function(){return f()}))).then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(e){J("failed to asynchronously prepare wasm: "+e),u(e)}))}var r={env:Ge,wasi_unstable:Ge,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:te};if(ge++,K.monitorRunDependencies&&K.monitorRunDependencies(ge),K.instantiateWasm)try{return K.instantiateWasm(r,e)}catch(e){return J("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(ee||"function"!=typeof WebAssembly.instantiateStreaming||c()||"function"!=typeof fetch)return t(n);fetch(Te,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(n,(function(e){J("wasm streaming compile failed: "+e),J("falling back to ArrayBuffer instantiation"),t(n)}))}))}(),{}};var Ne,Be,Me,Se,xe,ke,Re,Ce=[],Ue={open:function(e){var n=Ce[e.node.eb];if(!n)throw new Ve(43);e.Pa=n,e.seekable=!1},close:function(e){e.Pa.Ya.flush(e.Pa)},flush:function(e){e.Pa.Ya.flush(e.Pa)},read:function(e,n,t,r){if(!e.Pa||!e.Pa.Ya.pb)throw new Ve(60);for(var a=0,i=0;i<r;i++){try{var o=e.Pa.Ya.pb(e.Pa)}catch(e){throw new Ve(29)}if(void 0===o&&0===a)throw new Ve(6);if(null==o)break;a++,n[t+i]=o}return a&&(e.node.timestamp=Date.now()),a},write:function(e,n,t,r){if(!e.Pa||!e.Pa.Ya.ib)throw new Ve(60);try{for(var a=0;a<r;a++)e.Pa.Ya.ib(e.Pa,n[t+a])}catch(e){throw new Ve(29)}return r&&(e.node.timestamp=Date.now()),a}},He={pb:function(e){if(!e.input.length){var n=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(n=window.prompt("Input: "))&&(n+="\n"):"function"==typeof readline&&(null!==(n=readline())&&(n+="\n")),!n)return null;for(var t=0,r=0;r<n.length;++r){var a=n.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&n.charCodeAt(++r)),127>=a?++t:t=2047>=a?t+2:65535>=a?t+3:t+4}var i=(t=Array(t+1)).length;if(r=0,0<i){a=r,i=r+i-1;for(var o=0;o<n.length;++o){var s=n.charCodeAt(o);if(55296<=s&&57343>=s)s=65536+((1023&s)<<10)|1023&n.charCodeAt(++o);if(127>=s){if(r>=i)break;t[r++]=s}else{if(2047>=s){if(r+1>=i)break;t[r++]=192|s>>6}else{if(65535>=s){if(r+2>=i)break;t[r++]=224|s>>12}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63}t[r++]=128|s>>6&63}t[r++]=128|63&s}}t[r]=0,n=r-a}else n=0;t.length=n,e.input=t}return e.input.shift()},ib:function(e,n){null===n||10===n?(G(r(e.Qa,0)),e.Qa=[]):0!=n&&e.Qa.push(n)},flush:function(e){e.Qa&&0<e.Qa.length&&(G(r(e.Qa,0)),e.Qa=[])}},ze={ib:function(e,n){null===n||10===n?(J(r(e.Qa,0)),e.Qa=[]):0!=n&&e.Qa.push(n)},flush:function(e){e.Qa&&0<e.Qa.length&&(J(r(e.Qa,0)),e.Qa=[])}},Oe={Ra:null,Ta:function(){return Oe.createNode(null,"/",16895,0)},createNode:function(e,n,t,r){if(24576==(61440&t)||4096==(61440&t))throw new Ve(63);return Oe.Ra||(Oe.Ra={dir:{node:{Wa:Oe.Ma.Wa,Sa:Oe.Ma.Sa,$a:Oe.Ma.$a,bb:Oe.Ma.bb,ub:Oe.Ma.ub,wb:Oe.Ma.wb,vb:Oe.Ma.vb,tb:Oe.Ma.tb,fb:Oe.Ma.fb},stream:{Xa:Oe.Na.Xa}},file:{node:{Wa:Oe.Ma.Wa,Sa:Oe.Ma.Sa},stream:{Xa:Oe.Na.Xa,read:Oe.Na.read,write:Oe.Na.write,kb:Oe.Na.kb,qb:Oe.Na.qb,sb:Oe.Na.sb}},link:{node:{Wa:Oe.Ma.Wa,Sa:Oe.Ma.Sa,ab:Oe.Ma.ab},stream:{}},lb:{node:{Wa:Oe.Ma.Wa,Sa:Oe.Ma.Sa},stream:Xe}}),16384==(61440&(t=E(e,n,t,r)).mode)?(t.Ma=Oe.Ra.dir.node,t.Na=Oe.Ra.dir.stream,t.La={}):32768==(61440&t.mode)?(t.Ma=Oe.Ra.file.node,t.Na=Oe.Ra.file.stream,t.Oa=0,t.La=null):40960==(61440&t.mode)?(t.Ma=Oe.Ra.link.node,t.Na=Oe.Ra.link.stream):8192==(61440&t.mode)&&(t.Ma=Oe.Ra.lb.node,t.Na=Oe.Ra.lb.stream),t.timestamp=Date.now(),e&&(e.La[n]=t),t},Kb:function(e){if(e.La&&e.La.subarray){for(var n=[],t=0;t<e.Oa;++t)n.push(e.La[t]);return n}return e.La},Lb:function(e){return e.La?e.La.subarray?e.La.subarray(0,e.Oa):new Uint8Array(e.La):new Uint8Array},mb:function(e,n){var t=e.La?e.La.length:0;t>=n||(n=Math.max(n,t*(1048576>t?2:1.125)|0),0!=t&&(n=Math.max(n,256)),t=e.La,e.La=new Uint8Array(n),0<e.Oa&&e.La.set(t.subarray(0,e.Oa),0))},Bb:function(e,n){if(e.Oa!=n)if(0==n)e.La=null,e.Oa=0;else{if(!e.La||e.La.subarray){var t=e.La;e.La=new Uint8Array(new ArrayBuffer(n)),t&&e.La.set(t.subarray(0,Math.min(n,e.Oa)))}else if(e.La||(e.La=[]),e.La.length>n)e.La.length=n;else for(;e.La.length<n;)e.La.push(0);e.Oa=n}},Ma:{Wa:function(e){var n={};return n.Ib=8192==(61440&e.mode)?e.id:1,n.Nb=e.id,n.mode=e.mode,n.Pb=1,n.uid=0,n.Mb=0,n.eb=e.eb,16384==(61440&e.mode)?n.size=4096:32768==(61440&e.mode)?n.size=e.Oa:40960==(61440&e.mode)?n.size=e.link.length:n.size=0,n.Fb=new Date(e.timestamp),n.Ob=new Date(e.timestamp),n.Hb=new Date(e.timestamp),n.xb=4096,n.Gb=Math.ceil(n.size/n.xb),n},Sa:function(e,n){void 0!==n.mode&&(e.mode=n.mode),void 0!==n.timestamp&&(e.timestamp=n.timestamp),void 0!==n.size&&Oe.Bb(e,n.size)},$a:function(){throw Ke[44]},bb:function(e,n,t,r){return Oe.createNode(e,n,t,r)},ub:function(e,n,t){if(16384==(61440&e.mode)){try{var r=w(n,t)}catch(e){}if(r)for(var a in r.La)throw new Ve(55)}delete e.parent.La[e.name],e.name=t,n.La[t]=e,e.parent=n},wb:function(e,n){delete e.La[n]},vb:function(e,n){var t,r=w(e,n);for(t in r.La)throw new Ve(55);delete e.La[n]},tb:function(e){var n,t=[".",".."];for(n in e.La)e.La.hasOwnProperty(n)&&t.push(n);return t},fb:function(e,n,t){return(e=Oe.createNode(e,n,41471,0)).link=t,e},ab:function(e){if(40960!=(61440&e.mode))throw new Ve(28);return e.link}},Na:{read:function(e,n,t,r,a){var i=e.node.La;if(a>=e.node.Oa)return 0;if(8<(e=Math.min(e.node.Oa-a,r))&&i.subarray)n.set(i.subarray(a,a+e),t);else for(r=0;r<e;r++)n[t+r]=i[a+r];return e},write:function(e,n,t,r,a,i){if(i=!1,!r)return 0;if((e=e.node).timestamp=Date.now(),n.subarray&&(!e.La||e.La.subarray)){if(i)return e.La=n.subarray(t,t+r),e.Oa=r;if(0===e.Oa&&0===a)return e.La=new Uint8Array(n.subarray(t,t+r)),e.Oa=r;if(a+r<=e.Oa)return e.La.set(n.subarray(t,t+r),a),r}if(Oe.mb(e,a+r),e.La.subarray&&n.subarray)e.La.set(n.subarray(t,t+r),a);else for(i=0;i<r;i++)e.La[a+i]=n[t+i];return e.Oa=Math.max(e.Oa,a+r),r},Xa:function(e,n,t){if(1===t?n+=e.position:2===t&&32768==(61440&e.node.mode)&&(n+=e.node.Oa),0>n)throw new Ve(28);return n},kb:function(e,n,t){Oe.mb(e.node,n+t),e.node.Oa=Math.max(e.node.Oa,n+t)},qb:function(e,n,t,r,a,i,o){if(32768!=(61440&e.node.mode))throw new Ve(43);if(t=e.node.La,2&o||t.buffer!==n&&t.buffer!==n.buffer){if((0<a||a+r<e.node.Oa)&&(t=t.subarray?t.subarray(a,a+r):Array.prototype.slice.call(t,a,a+r)),e=!0,a=n.buffer==ce.buffer,!(r=en(r)))throw new Ve(48);(a?ce:n).set(t,r)}else e=!1,r=t.byteOffset;return{Rb:r,Eb:e}},sb:function(e,n,t,r,a){if(32768!=(61440&e.node.mode))throw new Ve(43);return 2&a?0:(Oe.Na.write(e,n,0,r,t,!1),0)}}},Ie=null,je={},Ye=[],De=1,We=null,Fe=!0,$e={},Ve=null,Ke={},Qe={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},Xe={open:function(e){e.Na=je[e.node.eb].Na,e.Na.open&&e.Na.open(e)},Xa:function(){throw new Ve(70)}},qe={},Ze=0;H(),We=Array(4096),N(Oe,"/"),M("/tmp"),M("/home"),M("/home/web_user"),function(){if(M("/dev"),L(259,{read:function(){return 0},write:function(e,n,t,r){return r}}),S("/dev/null",259),h(1280,He),h(1536,ze),S("/dev/tty",1280),S("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var e=new Uint8Array(1),n=function(){return crypto.getRandomValues(e),e[0]};n||(n=function(){u("random_device")}),z("random",n),z("urandom",n),M("/dev/shm"),M("/dev/shm/tmp")}(),M("/proc"),M("/proc/self"),M("/proc/self/fd"),N({Ta:function(){var e=E("/proc/self","fd",16895,73);return e.Ma={$a:function(e,n){var t=Ye[+n];if(!t)throw new Ve(8);return(e={parent:null,Ta:{rb:"fake"},Ma:{ab:function(){return t.path}}}).parent=e}},e}},"/proc/self/fd");var Ge={u:function(){},J:function(e,n){Ze=n;try{var t=I(),r=O(),a=O(),i=O(),o=O();return-9007199254740992>=(e=4294967296*r+(a>>>0))||9007199254740992<=e?-61:(C(t,e,o),Be=[t.position>>>0,(Ne=t.position,1<=+ve(Ne)?0<Ne?(0|Ee(+we(Ne/4294967296),4294967295))>>>0:~~+be((Ne-+(~~Ne>>>0))/4294967296)>>>0:0)],_e[i>>2]=Be[0],_e[i+4>>2]=Be[1],t.hb&&0===e&&0===o&&(t.hb=null),0)}catch(e){return void 0!==qe&&e instanceof Ve||u(e),-e.Ua}},I:function(e,n){Ze=n;try{var t=I(),r=O();e:{var a=O();for(n=e=0;n<a;n++){var i=_e[r+(8*n+4)>>2],o=U(t,_e[r+8*n>>2],i,void 0);if(0>o){var s=-1;break e}if(e+=o,o<i)break}s=e}return s}catch(e){return void 0!==qe&&e instanceof Ve||u(e),-e.Ua}},x:function(e,n){Ze=n;try{var t=I();switch(O()){case 0:var r=O();return 0>r?-28:R(t.path,t.flags,0,r).Va;case 1:case 2:return 0;case 3:return t.flags;case 4:return r=O(),t.flags|=r,0;case 12:return r=O(),le[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return K.___errno_location&&(_e[K.___errno_location()>>2]=28),-1;default:return-28}}catch(e){return void 0!==qe&&e instanceof Ve||u(e),-e.Ua}},H:function(e,n){Ze=n;try{return U(I(),O(),O())}catch(e){return void 0!==qe&&e instanceof Ve||u(e),-e.Ua}},w:function(e,n){Ze=n;try{var t=O();return R(t?r(fe,t,void 0):"",O(),O()).Va}catch(e){return void 0!==qe&&e instanceof Ve||u(e),-e.Ua}},G:function(e,n){Ze=n;try{var t=I(),r=O();switch(r){case 21509:case 21505:return t.Pa?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.Pa?0:-59;case 21519:if(!t.Pa)return-59;var a=O();return _e[a>>2]=0;case 21520:return t.Pa?-28:-59;case 21531:if(e=O(),!t.Na.yb)throw new Ve(59);return t.Na.yb(t,r,e);case 21523:case 21524:return t.Pa?0:-59;default:u("bad ioctl syscall "+r)}}catch(e){return void 0!==qe&&e instanceof Ve||u(e),-e.Ua}},t:function(){},s:function(){return j.apply(null,arguments)},F:function(){return Y.apply(null,arguments)},__memory_base:1024,__table_base:0,E:function(){u()},D:D,C:function(e,n){W(e,n)},B:function(e,n,t){fe.set(fe.subarray(n,n+t),e)},A:function(e){if(2147418112<e)return!1;for(var n=Math.max(D(),16777216);n<e;)n=536870912>=n?a(2*n):Math.min(a((3*n+2147483648)/4),2147418112);e:{try{ae.grow(n-ue.byteLength+65535>>16),i(ae.buffer),e=1;break e}catch(e){}e=void 0}return!!e},j:function(e){!ne&&(oe=!0,K.onExit)&&K.onExit(e),t(e,new $(e))},v:function(e){var n=Date.now();return _e[e>>2]=n/1e3|0,_e[e+4>>2]=n%1e3*1e3|0,0},o:function(e){var n=F.Za[e];F.Za.splice(e,1),rn(n)},q:F,b:W,m:u,a:function(){return re},g:function(e){var n=an();try{return on(e)}catch(e){if(rn(n),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},i:function(e,n){var t=an();try{return sn(e,n)}catch(e){if(rn(t),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},h:function(e,n,t){var r=an();try{return un(e,n,t)}catch(e){if(rn(r),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},p:function(e,n,t,r){var a=an();try{return cn(e,n,t,r)}catch(e){if(rn(a),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},z:function(e,n,t,r,a){var i=an();try{return fn(e,n,t,r,a)}catch(e){if(rn(i),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},l:function(e){var n=an();try{ln(e)}catch(e){if(rn(n),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},d:function(e,n){var t=an();try{_n(e,n)}catch(e){if(rn(t),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},e:function(e,n,t){var r=an();try{dn(e,n,t)}catch(e){if(rn(r),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},f:function(e,n,t,r){var a=an();try{pn(e,n,t,r)}catch(e){if(rn(a),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},k:function(e,n,t,r,a){var i=an();try{yn(e,n,t,r,a)}catch(e){if(rn(i),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},r:function(e,n,t,r,a,i){var o=an();try{hn(e,n,t,r,a,i)}catch(e){if(rn(o),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},n:function(e,n,t,r,a,i,o){var s=an();try{mn(e,n,t,r,a,i,o)}catch(e){if(rn(s),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},K:function(e,n,t,r,a,i,o,s){var u=an();try{vn(e,n,t,r,a,i,o,s)}catch(e){if(rn(u),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},y:function(e,n,t,r,a,i,o,s,u){var c=an();try{bn(e,n,t,r,a,i,o,s,u)}catch(e){if(rn(c),e!==e+0&&"longjmp"!==e)throw e;nn(1,0)}},memory:ae,c:function(e){re=e},table:ie},Je=K.asm({},Ge,ue);K.asm=Je,K.___errno_location=function(){return K.asm.L.apply(null,arguments)},K._free=function(){return K.asm.M.apply(null,arguments)};var en=K._malloc=function(){return K.asm.N.apply(null,arguments)},nn=K._setThrew=function(){return K.asm.O.apply(null,arguments)};K._vsc_buffer_bytes=function(){return K.asm.P.apply(null,arguments)},K._vsc_buffer_data=function(){return K.asm.Q.apply(null,arguments)},K._vsc_buffer_delete=function(){return K.asm.R.apply(null,arguments)},K._vsc_buffer_len=function(){return K.asm.S.apply(null,arguments)},K._vsc_buffer_make_secure=function(){return K.asm.T.apply(null,arguments)},K._vsc_buffer_new=function(){return K.asm.U.apply(null,arguments)},K._vsc_buffer_new_with_capacity=function(){return K.asm.V.apply(null,arguments)},K._vsc_data=function(){return K.asm.W.apply(null,arguments)},K._vsc_data_bytes=function(){return K.asm.X.apply(null,arguments)},K._vsc_data_ctx_size=function(){return K.asm.Y.apply(null,arguments)},K._vsc_data_len=function(){return K.asm.Z.apply(null,arguments)},K._vscp_error_ctx_size=function(){return K.asm._.apply(null,arguments)},K._vscp_error_reset=function(){return K.asm.$.apply(null,arguments)},K._vscp_error_status=function(){return K.asm.aa.apply(null,arguments)},K._vscp_pythia_blind=function(){return K.asm.ba.apply(null,arguments)},K._vscp_pythia_blinded_password_buf_len=function(){return K.asm.ca.apply(null,arguments)},K._vscp_pythia_blinding_secret_buf_len=function(){return K.asm.da.apply(null,arguments)},K._vscp_pythia_cleanup=function(){return K.asm.ea.apply(null,arguments)},K._vscp_pythia_compute_transformation_key_pair=function(){return K.asm.fa.apply(null,arguments)},K._vscp_pythia_configure=function(){return K.asm.ga.apply(null,arguments)},K._vscp_pythia_deblind=function(){return K.asm.ha.apply(null,arguments)},K._vscp_pythia_deblinded_password_buf_len=function(){return K.asm.ia.apply(null,arguments)},K._vscp_pythia_get_password_update_token=function(){return K.asm.ja.apply(null,arguments)},K._vscp_pythia_password_update_token_buf_len=function(){return K.asm.ka.apply(null,arguments)},K._vscp_pythia_proof_value_buf_len=function(){return K.asm.la.apply(null,arguments)},K._vscp_pythia_prove=function(){return K.asm.ma.apply(null,arguments)},K._vscp_pythia_transform=function(){return K.asm.na.apply(null,arguments)},K._vscp_pythia_transformation_private_key_buf_len=function(){return K.asm.oa.apply(null,arguments)},K._vscp_pythia_transformation_public_key_buf_len=function(){return K.asm.pa.apply(null,arguments)},K._vscp_pythia_transformed_password_buf_len=function(){return K.asm.qa.apply(null,arguments)},K._vscp_pythia_transformed_tweak_buf_len=function(){return K.asm.ra.apply(null,arguments)},K._vscp_pythia_update_deblinded_with_token=function(){return K.asm.sa.apply(null,arguments)},K._vscp_pythia_verify=function(){return K.asm.ta.apply(null,arguments)},K.stackAlloc=function(){return K.asm.Ia.apply(null,arguments)};var tn,rn=K.stackRestore=function(){return K.asm.Ja.apply(null,arguments)},an=K.stackSave=function(){return K.asm.Ka.apply(null,arguments)},on=K.dynCall_i=function(){return K.asm.ua.apply(null,arguments)},sn=K.dynCall_ii=function(){return K.asm.va.apply(null,arguments)},un=K.dynCall_iii=function(){return K.asm.wa.apply(null,arguments)},cn=K.dynCall_iiii=function(){return K.asm.xa.apply(null,arguments)},fn=K.dynCall_iiiii=function(){return K.asm.ya.apply(null,arguments)},ln=K.dynCall_v=function(){return K.asm.za.apply(null,arguments)},_n=K.dynCall_vi=function(){return K.asm.Aa.apply(null,arguments)},dn=K.dynCall_vii=function(){return K.asm.Ba.apply(null,arguments)},pn=K.dynCall_viii=function(){return K.asm.Ca.apply(null,arguments)},yn=K.dynCall_viiii=function(){return K.asm.Da.apply(null,arguments)},hn=K.dynCall_viiiii=function(){return K.asm.Ea.apply(null,arguments)},mn=K.dynCall_viiiiii=function(){return K.asm.Fa.apply(null,arguments)},vn=K.dynCall_viiiiiii=function(){return K.asm.Ga.apply(null,arguments)},bn=K.dynCall_viiiiiiii=function(){return K.asm.Ha.apply(null,arguments)};if(K.asm=Je,K.then=function(e){if(tn)e(K);else{var n=K.onRuntimeInitialized;K.onRuntimeInitialized=function(){n&&n(),e(K)}}return K},Ae=function e(){tn||V(),tn||(Ae=e)},K.run=V,K.preInit)for("function"==typeof K.preInit&&(K.preInit=[K.preInit]);0<K.preInit.length;)K.preInit.pop()();return ne=!0,V(),n}}(),e.exports=n}));let initPythiaError=(e,n)=>{class t extends Error{constructor(e){super(e),this.name="PythiaError",this.message=e}static handleStatusCode(e){if(0!=e){if(-1==e)throw new t("This error should not be returned if assertions is enabled.");if(-200==e)throw new t("Underlying pythia library returns -1.");if(-202==e)throw new t("Underlying random number generator failed.");throw new t("Unexpected status code:"+e)}}}return t};var PythiaError=initPythiaError;function ensureNumber(e,n){if(!("number"==typeof n||n instanceof Number))throw new TypeError(`'${e}' is not a number`);if(Number.isNaN(n))throw new TypeError(`'${e}' is NaN`);if(1/0===n)throw new TypeError(`'${e}' is Infinity`);if(-1/0===n)throw new TypeError(`'${e}' is -Infinity`)}function ensureNotNull(e,n){if(ensureNumber(e,n),0==n)throw new TypeError(`'${e}' is NULL`)}function ensureString(e,n){if(!("string"==typeof n||n instanceof String))throw new TypeError(`'${e}' is not a string`)}function ensureBoolean(e,n){if("boolean"!=typeof n)throw new TypeError(`'${e}' is not a boolean`)}function ensureByteArray(e,n){if(!(n instanceof Uint8Array))throw new TypeError(`'${e}' is not an Uint8Array`)}function ensureClass(e,n,t){if(!(n instanceof t))throw new TypeError(`'${e}' is not an instance of the class ${t.name}`);ensureNotNull(e,n.ctxPtr)}function ensureImplementInterface(e,n,t,r,a){if(ensureNotNull(e,n.ctxPtr),!a.isImplemented(n.ctxPtr,r))throw new TypeError(`'${e}' does not implement interface '${t}'`)}var ensureNumber_1=ensureNumber,ensureString_1=ensureString,ensureBoolean_1=ensureBoolean,ensureByteArray_1=ensureByteArray,ensureClass_1=ensureClass,ensureNotNull_1=ensureNotNull,ensureImplementInterface_1=ensureImplementInterface,precondition={ensureNumber:ensureNumber_1,ensureString:ensureString_1,ensureBoolean:ensureBoolean_1,ensureByteArray:ensureByteArray_1,ensureClass:ensureClass_1,ensureNotNull:ensureNotNull_1,ensureImplementInterface:ensureImplementInterface_1};let initPythia=(e,n)=>{class t{static configure(){const t=e._vscp_pythia_configure();n.PythiaError.handleStatusCode(t)}static cleanup(){e._vscp_pythia_cleanup()}static blindedPasswordBufLen(){return e._vscp_pythia_blinded_password_buf_len()}static deblindedPasswordBufLen(){return e._vscp_pythia_deblinded_password_buf_len()}static blindingSecretBufLen(){return e._vscp_pythia_blinding_secret_buf_len()}static transformationPrivateKeyBufLen(){return e._vscp_pythia_transformation_private_key_buf_len()}static transformationPublicKeyBufLen(){return e._vscp_pythia_transformation_public_key_buf_len()}static transformedPasswordBufLen(){return e._vscp_pythia_transformed_password_buf_len()}static transformedTweakBufLen(){return e._vscp_pythia_transformed_tweak_buf_len()}static proofValueBufLen(){return e._vscp_pythia_proof_value_buf_len()}static passwordUpdateTokenBufLen(){return e._vscp_pythia_password_update_token_buf_len()}static blind(r){precondition.ensureByteArray("password",r);var a=r.length*r.BYTES_PER_ELEMENT;const i=e._malloc(a);e.HEAP8.set(r,i),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,i,a),a=t.blindedPasswordBufLen(),a=e._vsc_buffer_new_with_capacity(a);var o=t.blindingSecretBufLen();o=e._vsc_buffer_new_with_capacity(o);try{const t=e._vscp_pythia_blind(r,a,o);n.PythiaError.handleStatusCode(t);const i=e._vsc_buffer_bytes(a),s=e._vsc_buffer_len(a),u=e.HEAPU8.slice(i,i+s),c=e._vsc_buffer_bytes(o),f=e._vsc_buffer_len(o);return{blindedPassword:u,blindingSecret:e.HEAPU8.slice(c,c+f)}}finally{e._free(t),e._free(r),e._vsc_buffer_delete(a),e._vsc_buffer_delete(o)}}static deblind(r,a){precondition.ensureByteArray("transformedPassword",r),precondition.ensureByteArray("blindingSecret",a);var i=r.length*r.BYTES_PER_ELEMENT;const o=e._malloc(i);e.HEAP8.set(r,o),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,o,i);var s=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(s),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,s),s=t.deblindedPasswordBufLen(),s=e._vsc_buffer_new_with_capacity(s);try{const t=e._vscp_pythia_deblind(r,a,s);n.PythiaError.handleStatusCode(t);const i=e._vsc_buffer_bytes(s),o=e._vsc_buffer_len(s);return e.HEAPU8.slice(i,i+o)}finally{e._free(i),e._free(r),e._free(t),e._free(a),e._vsc_buffer_delete(s)}}static computeTransformationKeyPair(r,a,i){precondition.ensureByteArray("transformationKeyId",r),precondition.ensureByteArray("pythiaSecret",a),precondition.ensureByteArray("pythiaScopeSecret",i);var o=r.length*r.BYTES_PER_ELEMENT;const s=e._malloc(o);e.HEAP8.set(r,s),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,s,o);var u=a.length*a.BYTES_PER_ELEMENT;o=e._malloc(u),e.HEAP8.set(a,o),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,o,u);var c=i.length*i.BYTES_PER_ELEMENT;u=e._malloc(c),e.HEAP8.set(i,u),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,u,c),c=t.transformationPrivateKeyBufLen(),c=e._vsc_buffer_new_with_capacity(c);var f=t.transformationPublicKeyBufLen();f=e._vsc_buffer_new_with_capacity(f);try{const t=e._vscp_pythia_compute_transformation_key_pair(r,a,i,c,f);n.PythiaError.handleStatusCode(t);const o=e._vsc_buffer_bytes(c),s=e._vsc_buffer_len(c),u=e.HEAPU8.slice(o,o+s),l=e._vsc_buffer_bytes(f),_=e._vsc_buffer_len(f);return{transformationPrivateKey:u,transformationPublicKey:e.HEAPU8.slice(l,l+_)}}finally{e._free(t),e._free(r),e._free(o),e._free(a),e._free(s),e._free(i),e._vsc_buffer_delete(c),e._vsc_buffer_delete(f)}}static transform(r,a,i){precondition.ensureByteArray("blindedPassword",r),precondition.ensureByteArray("tweak",a),precondition.ensureByteArray("transformationPrivateKey",i);var o=r.length*r.BYTES_PER_ELEMENT;const s=e._malloc(o);e.HEAP8.set(r,s),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,s,o);var u=a.length*a.BYTES_PER_ELEMENT;o=e._malloc(u),e.HEAP8.set(a,o),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,o,u);var c=i.length*i.BYTES_PER_ELEMENT;u=e._malloc(c),e.HEAP8.set(i,u),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,u,c),c=t.transformedPasswordBufLen(),c=e._vsc_buffer_new_with_capacity(c);var f=t.transformedTweakBufLen();f=e._vsc_buffer_new_with_capacity(f);try{const t=e._vscp_pythia_transform(r,a,i,c,f);n.PythiaError.handleStatusCode(t);const o=e._vsc_buffer_bytes(c),s=e._vsc_buffer_len(c),u=e.HEAPU8.slice(o,o+s),l=e._vsc_buffer_bytes(f),_=e._vsc_buffer_len(f);return{transformedPassword:u,transformedTweak:e.HEAPU8.slice(l,l+_)}}finally{e._free(t),e._free(r),e._free(o),e._free(a),e._free(s),e._free(i),e._vsc_buffer_delete(c),e._vsc_buffer_delete(f)}}static prove(r,a,i,o,s){precondition.ensureByteArray("transformedPassword",r),precondition.ensureByteArray("blindedPassword",a),precondition.ensureByteArray("transformedTweak",i),precondition.ensureByteArray("transformationPrivateKey",o),precondition.ensureByteArray("transformationPublicKey",s);var u=r.length*r.BYTES_PER_ELEMENT;const c=e._malloc(u);e.HEAP8.set(r,c),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,c,u);var f=a.length*a.BYTES_PER_ELEMENT;u=e._malloc(f),e.HEAP8.set(a,u),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,u,f);var l=i.length*i.BYTES_PER_ELEMENT;f=e._malloc(l),e.HEAP8.set(i,f),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,f,l);var _=o.length*o.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(o,l),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,l,_);var d=s.length*s.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(s,_),s=e._vsc_data_ctx_size(),s=e._malloc(s),e._vsc_data(s,_,d),d=t.proofValueBufLen(),d=e._vsc_buffer_new_with_capacity(d);var p=t.proofValueBufLen();p=e._vsc_buffer_new_with_capacity(p);try{const t=e._vscp_pythia_prove(r,a,i,o,s,d,p);n.PythiaError.handleStatusCode(t);const u=e._vsc_buffer_bytes(d),c=e._vsc_buffer_len(d),f=e.HEAPU8.slice(u,u+c),l=e._vsc_buffer_bytes(p),_=e._vsc_buffer_len(p);return{proofValueC:f,proofValueU:e.HEAPU8.slice(l,l+_)}}finally{e._free(c),e._free(r),e._free(t),e._free(a),e._free(u),e._free(i),e._free(_),e._free(o),e._free(l),e._free(s),e._vsc_buffer_delete(d),e._vsc_buffer_delete(p)}}static verify(t,r,a,i,o,s){precondition.ensureByteArray("transformedPassword",t),precondition.ensureByteArray("blindedPassword",r),precondition.ensureByteArray("tweak",a),precondition.ensureByteArray("transformationPublicKey",i),precondition.ensureByteArray("proofValueC",o),precondition.ensureByteArray("proofValueU",s);var u=t.length*t.BYTES_PER_ELEMENT;const c=e._malloc(u);e.HEAP8.set(t,c),t=e._vsc_data_ctx_size(),t=e._malloc(t),e._vsc_data(t,c,u);var f=r.length*r.BYTES_PER_ELEMENT;u=e._malloc(f),e.HEAP8.set(r,u),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,u,f);var l=a.length*a.BYTES_PER_ELEMENT;f=e._malloc(l),e.HEAP8.set(a,f),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,f,l);var _=i.length*i.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(i,l),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,l,_);var d=o.length*o.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(o,_),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,_,d);var p=s.length*s.BYTES_PER_ELEMENT;let y;d=e._malloc(p),e.HEAP8.set(s,d),s=e._vsc_data_ctx_size(),s=e._malloc(s),e._vsc_data(s,d,p),p=e._vscp_error_ctx_size(),p=e._malloc(p),e._vscp_error_reset(p);try{y=e._vscp_pythia_verify(t,r,a,i,o,s,p);const c=e._vscp_error_status(p);return n.PythiaError.handleStatusCode(c),!!y}finally{e._free(c),e._free(t),e._free(u),e._free(r),e._free(f),e._free(a),e._free(l),e._free(i),e._free(_),e._free(o),e._free(d),e._free(s),e._free(p)}}static getPasswordUpdateToken(r,a){precondition.ensureByteArray("previousTransformationPrivateKey",r),precondition.ensureByteArray("newTransformationPrivateKey",a);var i=r.length*r.BYTES_PER_ELEMENT;const o=e._malloc(i);e.HEAP8.set(r,o),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,o,i);var s=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(s),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,s),s=t.passwordUpdateTokenBufLen(),s=e._vsc_buffer_new_with_capacity(s);try{const t=e._vscp_pythia_get_password_update_token(r,a,s);n.PythiaError.handleStatusCode(t);const i=e._vsc_buffer_bytes(s),o=e._vsc_buffer_len(s);return e.HEAPU8.slice(i,i+o)}finally{e._free(i),e._free(r),e._free(t),e._free(a),e._vsc_buffer_delete(s)}}static updateDeblindedWithToken(r,a){precondition.ensureByteArray("deblindedPassword",r),precondition.ensureByteArray("passwordUpdateToken",a);var i=r.length*r.BYTES_PER_ELEMENT;const o=e._malloc(i);e.HEAP8.set(r,o),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,o,i);var s=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(s),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,s),s=t.deblindedPasswordBufLen(),s=e._vsc_buffer_new_with_capacity(s);try{const t=e._vscp_pythia_update_deblinded_with_token(r,a,s);n.PythiaError.handleStatusCode(t);const i=e._vsc_buffer_bytes(s),o=e._vsc_buffer_len(s);return e.HEAPU8.slice(i,i+o)}finally{e._free(i),e._free(r),e._free(t),e._free(a),e._vsc_buffer_delete(s)}}}return t};var Pythia=initPythia;let initProject=()=>{const e=new libpythia_worker;return new Promise((n,t)=>{e.onRuntimeInitialized=()=>{const t={};t.PythiaError=PythiaError(),t.Pythia=Pythia(e,t),n(t)},e.onAbort=e=>{t(Error(e))}})};var pythia=initProject;module.exports=pythia;
