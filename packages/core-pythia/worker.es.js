var e,t,n,r;n=t={exports:{}},r=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){function n(e,t){throw t}function r(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&oe)return oe.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var i=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function a(e){return 0<e%65536&&(e+=65536-e%65536),e}function i(e){se=e,V.HEAP8=ue=new Int8Array(e),V.HEAP16=ce=new Int16Array(e),V.HEAP32=le=new Int32Array(e),V.HEAPU8=fe=new Uint8Array(e),V.HEAPU16=new Uint16Array(e),V.HEAPU32=new Uint32Array(e),V.HEAPF32=new Float32Array(e),V.HEAPF64=new Float64Array(e)}function o(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.Mb;"number"==typeof n?void 0===t.jb?V.dynCall_v(n):V.dynCall_vi(n,t.jb):n(void 0===t.jb?null:t.jb)}}}function s(){var e=V.preRun.shift();de.unshift(e)}function u(){var e=Ae;return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}function f(){try{if(ee)return new Uint8Array(ee);if(q)return q(Ae);throw"both async and sync fetching of the wasm failed"}catch(e){$(e)}}function c(e){function t(e){V.asm=e.exports,Ee--,V.monitorRunDependencies&&V.monitorRunDependencies(Ee),0==Ee&&(null!==Pe&&(clearInterval(Pe),Pe=null),ge&&(e=ge,ge=null,e()))}function n(e){t(e.instance)}function r(e){return(ee||"function"!=typeof fetch?new Promise((function(e){e(f())})):fetch(Ae,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Ae+"'";return e.arrayBuffer()})).catch((function(){return f()}))).then((function(e){return WebAssembly.instantiate(e,a)})).then(e,(function(e){J("failed to asynchronously prepare wasm: "+e),$(e)}))}var a={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:ne};if(Ee++,V.monitorRunDependencies&&V.monitorRunDependencies(Ee),V.instantiateWasm)try{return V.instantiateWasm(a,t)}catch(e){return J("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(ee||"function"!=typeof WebAssembly.instantiateStreaming||u()||"function"!=typeof fetch)return r(n);fetch(Ae,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(n,(function(e){J("wasm streaming compile failed: "+e),J("falling back to ArrayBuffer instantiation"),r(n)}))}))}(),{}}function l(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function _(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=l(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function d(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function p(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function y(e){return V.___errno_location&&(le[V.___errno_location()>>2]=e),e}function h(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=l(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}function v(e,t){Ue[e]={input:[],Ta:[],ab:t},B(e,Me)}function b(e,t){if(t=t||{},!(e=h("/",e)))return{path:"",node:null};var n,r={rb:!0,mb:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.mb)throw new Fe(40);e=l(e.split("/").filter((function(e){return!!e})),!1);var a=ze;for(r="/",n=0;n<e.length;n++){var i=n===e.length-1;if(i&&t.parent)break;if(a=E(a,e[n]),r=_(r+"/"+e[n]),a.gb&&(!i||i&&t.rb)&&(a=a.gb.root),!i||t.qb)for(i=0;40960==(61440&a.mode);)if(a=U(r),a=b(r=h(d(r),a),{mb:t.mb}).node,40<i++)throw new Fe(40)}return{path:r,node:a}}function m(e){for(var t;;){if(e===e.parent)return e=e.Wa.ub,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function w(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%je.length}function E(e,t){var n;if(n=(n=A(e,"x"))?n:e.Pa.cb?0:13)throw new Fe(n,e);for(n=je[w(e.id,t)];n;n=n.Db){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.Pa.cb(e,t)}function P(e,t,n,r){return ke||((ke=function(e,t,n,r){e||(e=this),this.parent=e,this.Wa=e.Wa,this.gb=null,this.id=Ie++,this.name=t,this.mode=n,this.Pa={},this.Qa={},this.hb=r}).prototype={},Object.defineProperties(ke.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}})),function(e){var t=w(e.parent.id,e.name);e.Db=je[t],je[t]=e}(e=new ke(e,t,n,r)),e}function g(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function A(e,t){return De?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:13}function T(e,t){try{return E(e,t),17}catch(e){}return A(e,"wx")}function S(e,t){Oe||((Oe=function(){}).prototype={},Object.defineProperties(Oe.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var n,r=new Oe;for(n in e)r[n]=e[n];return e=r,t=function(e){for(e=e||0;4096>=e;e++)if(!Ye[e])return e;throw new Fe(24)}(t),e.Ya=t,Ye[t]=e}function B(e,t){Qe[e]={Qa:t}}function x(e,t){var n="/"===t,r=!t;if(n&&ze)throw new Fe(16);if(!n&&!r){var a=b(t,{rb:!1});if(t=a.path,(a=a.node).gb)throw new Fe(16);if(16384!=(61440&a.mode))throw new Fe(20)}t={type:e,Tb:{},ub:t,Cb:[]},(e=e.Wa(t)).Wa=t,t.root=e,n?ze=e:a&&(a.gb=t,a.Wa&&a.Wa.Cb.push(t))}function R(e,t,n){var r=b(e,{parent:!0}).node;if(!(e=p(e))||"."===e||".."===e)throw new Fe(22);var a=T(r,e);if(a)throw new Fe(a);if(!r.Pa.fb)throw new Fe(1);return r.Pa.fb(r,e,t,n)}function k(e){R(e,16895,0)}function O(e,t,n){void 0===n&&(n=t,t=438),R(e,8192|t,n)}function L(e,t){if(!h(e))throw new Fe(2);var n=b(t,{parent:!0}).node;if(!n)throw new Fe(2);var r=T(n,t=p(t));if(r)throw new Fe(r);if(!n.Pa.ib)throw new Fe(1);n.Pa.ib(n,t,e)}function U(e){if(!(e=b(e).node))throw new Fe(2);if(!e.Pa.eb)throw new Fe(22);return h(m(e.parent),e.Pa.eb(e))}function M(e,t,n,r){if(""===e)throw new Fe(2);if("string"==typeof t){var a=Ve[t];if(void 0===a)throw Error("Unknown file open mode: "+t);t=a}if(n=64&t?4095&(void 0===n?438:n)|32768:0,"object"==typeof e)var i=e;else{e=_(e);try{i=b(e,{qb:!(131072&t)}).node}catch(e){}}if(a=!1,64&t)if(i){if(128&t)throw new Fe(17)}else i=R(e,n,0),a=!0;if(!i)throw new Fe(2);if(8192==(61440&i.mode)&&(t&=-513),65536&t&&16384!=(61440&i.mode))throw new Fe(20);if(!a&&(n=i?40960==(61440&i.mode)?40:16384==(61440&i.mode)&&("r"!==g(t)||512&t)?21:A(i,g(t)):2))throw new Fe(n);if(512&t){var o;if(!(o="string"==typeof(n=i)?b(n,{qb:!0}).node:n).Pa.Va)throw new Fe(1);if(16384==(61440&o.mode))throw new Fe(21);if(32768!=(61440&o.mode))throw new Fe(22);if(n=A(o,"w"))throw new Fe(n);o.Pa.Va(o,{size:0,timestamp:Date.now()})}t&=-641,(r=S({node:i,path:m(i),flags:t,seekable:!0,position:0,Qa:i.Qa,Gb:[],error:!1},r)).Qa.open&&r.Qa.open(r),!V.logReadFiles||1&t||(Le||(Le={}),e in Le||(Le[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{We.onOpenFile&&(i=0,1!=(2097155&t)&&(i|=1),0!=(2097155&t)&&(i|=2),We.onOpenFile(e,i))}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return r}function H(e,t,n){if(null===e.Ya)throw new Fe(9);if(!e.seekable||!e.Qa.$a)throw new Fe(29);if(0!=n&&1!=n&&2!=n)throw new Fe(22);e.position=e.Qa.$a(e,t,n),e.Gb=[]}function C(e,t,n,r){var a=ue;if(0>n||0>r)throw new Fe(22);if(null===e.Ya)throw new Fe(9);if(1==(2097155&e.flags))throw new Fe(9);if(16384==(61440&e.node.mode))throw new Fe(21);if(!e.Qa.read)throw new Fe(22);var i=void 0!==r;if(i){if(!e.seekable)throw new Fe(29)}else r=e.position;return t=e.Qa.read(e,a,t,n,r),i||(e.position+=t),t}function N(){Fe||((Fe=function(e,t){this.node=t,this.Fb=function(e){this.Xa=e},this.Fb(e),this.message="FS error"}).prototype=Error(),Fe.prototype.constructor=Fe,[2].forEach((function(e){$e[e]=new Fe(e),$e[e].stack="<generic error, no stack>"})))}function z(e,t,n){e=_("/dev/"+e);var r=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}(!!t,!!n);Re||(Re=64);var a=Re++<<8|0;B(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,r,a){for(var i=0,o=0;o<a;o++){try{var s=t()}catch(e){throw new Fe(5)}if(void 0===s&&0===i)throw new Fe(11);if(null==s)break;i++,n[r+o]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,a){for(var i=0;i<a;i++)try{n(t[r+i])}catch(e){throw new Fe(5)}return a&&(e.node.timestamp=Date.now()),i}}),O(e,r,a)}function Q(){return le[(Ze+=4)-4>>2]}function Y(){var e=Ye[Q()];if(!e)throw new Fe(9);return e}function I(){return ue.length}function j(e,t){throw Je(e,t||1),"longjmp"}function D(){return D.bb||(D.bb=[]),D.bb.push(nt()),D.bb.length-1}function W(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function F(){function e(){if(!et&&(et=!0,!ie)){if(V.noFSInit||xe||(xe=!0,N(),V.stdin=V.stdin,V.stdout=V.stdout,V.stderr=V.stderr,V.stdin?z("stdin",V.stdin):L("/dev/tty","/dev/stdin"),V.stdout?z("stdout",null,V.stdout):L("/dev/tty","/dev/stdout"),V.stderr?z("stderr",null,V.stderr):L("/dev/tty1","/dev/stderr"),M("/dev/stdin","r"),M("/dev/stdout","w"),M("/dev/stderr","w")),o(pe),De=!1,o(ye),V.onRuntimeInitialized&&V.onRuntimeInitialized(),V.postRun)for("function"==typeof V.postRun&&(V.postRun=[V.postRun]);V.postRun.length;){var e=V.postRun.shift();he.unshift(e)}o(he)}}if(!(0<Ee)){if(V.preRun)for("function"==typeof V.preRun&&(V.preRun=[V.preRun]);V.preRun.length;)s();o(de),0<Ee||(V.setStatus?(V.setStatus("Running..."),setTimeout((function(){setTimeout((function(){V.setStatus("")}),1),e()}),1)):e())}}function $(e){throw V.onAbort&&V.onAbort(e),G(e),J(e),ie=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var V;t=t||{},V||(V=void 0!==t?t:{});var K,X={};for(K in V)V.hasOwnProperty(K)&&(X[K]=V[K]);var Z="";Z=self.location.href,e&&(Z=e),Z=0!==Z.indexOf("blob:")?Z.substr(0,Z.lastIndexOf("/")+1):"";var q=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},G=V.print||console.log.bind(console),J=V.printErr||console.warn.bind(console);for(K in X)X.hasOwnProperty(K)&&(V[K]=X[K]);X=null,V.quit&&(n=V.quit);var ee,te,ne={"f64-rem":function(e,t){return e%t},debugger:function(){}},re=0;V.wasmBinary&&(ee=V.wasmBinary),V.noExitRuntime&&(te=V.noExitRuntime),"object"!=typeof WebAssembly&&J("no native wasm support detected");var ae,ie=!1,oe="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var se,ue,fe,ce,le,_e=V.TOTAL_MEMORY||16777216;(ae=V.wasmMemory?V.wasmMemory:new WebAssembly.Memory({initial:_e/65536}))&&(se=ae.buffer),_e=se.byteLength,i(se),le[15716]=5305776;var de=[],pe=[],ye=[],he=[],ve=Math.abs,be=Math.ceil,me=Math.floor,we=Math.min,Ee=0,Pe=null,ge=null;V.preloadedImages={},V.preloadedAudios={};var Ae="libpythia.worker.wasm";if(!u()){var Te=Ae;Ae=V.locateFile?V.locateFile(Te,Z):Z+Te}V.asm=function(e,t){return t.memory=ae,t.table=new WebAssembly.Table({initial:460,maximum:460,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,c(t)};var Se,Be,xe,Re,ke,Oe,Le,Ue=[],Me={open:function(e){var t=Ue[e.node.hb];if(!t)throw new Fe(19);e.Sa=t,e.seekable=!1},close:function(e){e.Sa.ab.flush(e.Sa)},flush:function(e){e.Sa.ab.flush(e.Sa)},read:function(e,t,n,r){if(!e.Sa||!e.Sa.ab.sb)throw new Fe(6);for(var a=0,i=0;i<r;i++){try{var o=e.Sa.ab.sb(e.Sa)}catch(e){throw new Fe(5)}if(void 0===o&&0===a)throw new Fe(11);if(null==o)break;a++,t[n+i]=o}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.Sa||!e.Sa.ab.lb)throw new Fe(6);try{for(var a=0;a<r;a++)e.Sa.ab.lb(e.Sa,t[n+a])}catch(e){throw new Fe(5)}return r&&(e.node.timestamp=Date.now()),a}},He={sb:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;for(var n=0,r=0;r<t.length;++r){var a=t.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++r)),127>=a?++n:n=2047>=a?n+2:65535>=a?n+3:n+4}var i=(n=Array(n+1)).length;if(r=0,0<i){a=r,i=r+i-1;for(var o=0;o<t.length;++o){var s=t.charCodeAt(o);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++o)),127>=s){if(r>=i)break;n[r++]=s}else{if(2047>=s){if(r+1>=i)break;n[r++]=192|s>>6}else{if(65535>=s){if(r+2>=i)break;n[r++]=224|s>>12}else{if(r+3>=i)break;n[r++]=240|s>>18,n[r++]=128|s>>12&63}n[r++]=128|s>>6&63}n[r++]=128|63&s}}n[r]=0,t=r-a}else t=0;n.length=t,e.input=n}return e.input.shift()},lb:function(e,t){null===t||10===t?(G(r(e.Ta,0)),e.Ta=[]):0!=t&&e.Ta.push(t)},flush:function(e){e.Ta&&0<e.Ta.length&&(G(r(e.Ta,0)),e.Ta=[])}},Ce={lb:function(e,t){null===t||10===t?(J(r(e.Ta,0)),e.Ta=[]):0!=t&&e.Ta.push(t)},flush:function(e){e.Ta&&0<e.Ta.length&&(J(r(e.Ta,0)),e.Ta=[])}},Ne={Ua:null,Wa:function(){return Ne.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576==(61440&n)||4096==(61440&n))throw new Fe(1);return Ne.Ua||(Ne.Ua={dir:{node:{Za:Ne.Pa.Za,Va:Ne.Pa.Va,cb:Ne.Pa.cb,fb:Ne.Pa.fb,xb:Ne.Pa.xb,zb:Ne.Pa.zb,yb:Ne.Pa.yb,wb:Ne.Pa.wb,ib:Ne.Pa.ib},stream:{$a:Ne.Qa.$a}},file:{node:{Za:Ne.Pa.Za,Va:Ne.Pa.Va},stream:{$a:Ne.Qa.$a,read:Ne.Qa.read,write:Ne.Qa.write,nb:Ne.Qa.nb,tb:Ne.Qa.tb,vb:Ne.Qa.vb}},link:{node:{Za:Ne.Pa.Za,Va:Ne.Pa.Va,eb:Ne.Pa.eb},stream:{}},ob:{node:{Za:Ne.Pa.Za,Va:Ne.Pa.Va},stream:Ke}}),16384==(61440&(n=P(e,t,n,r)).mode)?(n.Pa=Ne.Ua.dir.node,n.Qa=Ne.Ua.dir.stream,n.Oa={}):32768==(61440&n.mode)?(n.Pa=Ne.Ua.file.node,n.Qa=Ne.Ua.file.stream,n.Ra=0,n.Oa=null):40960==(61440&n.mode)?(n.Pa=Ne.Ua.link.node,n.Qa=Ne.Ua.link.stream):8192==(61440&n.mode)&&(n.Pa=Ne.Ua.ob.node,n.Qa=Ne.Ua.ob.stream),n.timestamp=Date.now(),e&&(e.Oa[t]=n),n},Nb:function(e){if(e.Oa&&e.Oa.subarray){for(var t=[],n=0;n<e.Ra;++n)t.push(e.Oa[n]);return t}return e.Oa},Ob:function(e){return e.Oa?e.Oa.subarray?e.Oa.subarray(0,e.Ra):new Uint8Array(e.Oa):new Uint8Array},pb:function(e,t){var n=e.Oa?e.Oa.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.Oa,e.Oa=new Uint8Array(t),0<e.Ra&&e.Oa.set(n.subarray(0,e.Ra),0))},Eb:function(e,t){if(e.Ra!=t)if(0==t)e.Oa=null,e.Ra=0;else{if(!e.Oa||e.Oa.subarray){var n=e.Oa;e.Oa=new Uint8Array(new ArrayBuffer(t)),n&&e.Oa.set(n.subarray(0,Math.min(t,e.Ra)))}else if(e.Oa||(e.Oa=[]),e.Oa.length>t)e.Oa.length=t;else for(;e.Oa.length<t;)e.Oa.push(0);e.Ra=t}},Pa:{Za:function(e){var t={};return t.Lb=8192==(61440&e.mode)?e.id:1,t.Qb=e.id,t.mode=e.mode,t.Sb=1,t.uid=0,t.Pb=0,t.hb=e.hb,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.Ra:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.Ib=new Date(e.timestamp),t.Rb=new Date(e.timestamp),t.Kb=new Date(e.timestamp),t.Ab=4096,t.Jb=Math.ceil(t.size/t.Ab),t},Va:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ne.Eb(e,t.size)},cb:function(){throw $e[2]},fb:function(e,t,n,r){return Ne.createNode(e,t,n,r)},xb:function(e,t,n){if(16384==(61440&e.mode)){try{var r=E(t,n)}catch(e){}if(r)for(var a in r.Oa)throw new Fe(39)}delete e.parent.Oa[e.name],e.name=n,t.Oa[n]=e,e.parent=t},zb:function(e,t){delete e.Oa[t]},yb:function(e,t){var n,r=E(e,t);for(n in r.Oa)throw new Fe(39);delete e.Oa[t]},wb:function(e){var t,n=[".",".."];for(t in e.Oa)e.Oa.hasOwnProperty(t)&&n.push(t);return n},ib:function(e,t,n){return(e=Ne.createNode(e,t,41471,0)).link=n,e},eb:function(e){if(40960!=(61440&e.mode))throw new Fe(22);return e.link}},Qa:{read:function(e,t,n,r,a){var i=e.node.Oa;if(a>=e.node.Ra)return 0;if(8<(e=Math.min(e.node.Ra-a,r))&&i.subarray)t.set(i.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=i[a+r];return e},write:function(e,t,n,r,a,i){if(i=!1,!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.Oa||e.Oa.subarray)){if(i)return e.Oa=t.subarray(n,n+r),e.Ra=r;if(0===e.Ra&&0===a)return e.Oa=new Uint8Array(t.subarray(n,n+r)),e.Ra=r;if(a+r<=e.Ra)return e.Oa.set(t.subarray(n,n+r),a),r}if(Ne.pb(e,a+r),e.Oa.subarray&&t.subarray)e.Oa.set(t.subarray(n,n+r),a);else for(i=0;i<r;i++)e.Oa[a+i]=t[n+i];return e.Ra=Math.max(e.Ra,a+r),r},$a:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.node.mode)&&(t+=e.node.Ra),0>t)throw new Fe(22);return t},nb:function(e,t,n){Ne.pb(e.node,t+n),e.node.Ra=Math.max(e.node.Ra,t+n)},tb:function(e,t,n,r,a,i,o){if(32768!=(61440&e.node.mode))throw new Fe(19);if(n=e.node.Oa,2&o||n.buffer!==t&&n.buffer!==t.buffer){if((0<a||a+r<e.node.Ra)&&(n=n.subarray?n.subarray(a,a+r):Array.prototype.slice.call(n,a,a+r)),e=!0,a=t.buffer==ue.buffer,!(r=Ge(r)))throw new Fe(12);(a?ue:t).set(n,r)}else e=!1,r=n.byteOffset;return{Ub:r,Hb:e}},vb:function(e,t,n,r,a){if(32768!=(61440&e.node.mode))throw new Fe(19);return 2&a?0:(Ne.Qa.write(e,t,0,r,n,!1),0)}}},ze=null,Qe={},Ye=[],Ie=1,je=null,De=!0,We={},Fe=null,$e={},Ve={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},Ke={open:function(e){e.Qa=Qe[e.node.hb].Qa,e.Qa.open&&e.Qa.open(e)},$a:function(){throw new Fe(29)}},Xe={},Ze=0;N(),je=Array(4096),x(Ne,"/"),k("/tmp"),k("/home"),k("/home/web_user"),function(){if(k("/dev"),B(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),O("/dev/null",259),v(1280,He),v(1536,Ce),O("/dev/tty",1280),O("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};t||(t=function(){$("random_device")}),z("random",t),z("urandom",t),k("/dev/shm"),k("/dev/shm/tmp")}(),k("/proc"),k("/proc/self"),k("/proc/self/fd"),x({Wa:function(){var e=P("/proc/self","fd",16895,73);return e.Pa={cb:function(e,t){var n=Ye[+t];if(!n)throw new Fe(9);return(e={parent:null,Wa:{ub:"fake"},Pa:{eb:function(){return n.path}}}).parent=e}},e}},"/proc/self/fd");var qe=V.asm({},{n:$,d:function(e){re=e},b:function(){return re},h:function(e){var t=nt();try{return rt(e)}catch(e){if(tt(t),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},j:function(e,t){var n=nt();try{return at(e,t)}catch(e){if(tt(n),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},i:function(e,t,n){var r=nt();try{return it(e,t,n)}catch(e){if(tt(r),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},q:function(e,t,n,r){var a=nt();try{return ot(e,t,n,r)}catch(e){if(tt(a),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},D:function(e,t,n,r,a){var i=nt();try{return st(e,t,n,r,a)}catch(e){if(tt(i),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},m:function(e){var t=nt();try{ut(e)}catch(e){if(tt(t),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},e:function(e,t){var n=nt();try{ft(e,t)}catch(e){if(tt(n),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},f:function(e,t,n){var r=nt();try{ct(e,t,n)}catch(e){if(tt(r),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},g:function(e,t,n,r){var a=nt();try{lt(e,t,n,r)}catch(e){if(tt(a),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},l:function(e,t,n,r,a){var i=nt();try{_t(e,t,n,r,a)}catch(e){if(tt(i),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},s:function(e,t,n,r,a,i){var o=nt();try{dt(e,t,n,r,a,i)}catch(e){if(tt(o),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},o:function(e,t,n,r,a,i,o){var s=nt();try{pt(e,t,n,r,a,i,o)}catch(e){if(tt(s),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},N:function(e,t,n,r,a,i,o,s){var u=nt();try{yt(e,t,n,r,a,i,o,s)}catch(e){if(tt(u),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},C:function(e,t,n,r,a,i,o,s,u){var f=nt();try{ht(e,t,n,r,a,i,o,s,u)}catch(e){if(tt(f),e!==e+0&&"longjmp"!==e)throw e;Je(1,0)}},v:function(){},B:y,M:function(e,t){Ze=t;try{var n=Y(),r=Q(),a=Q(),i=Q(),o=Q();return-9007199254740992>=(e=4294967296*r+(a>>>0))||9007199254740992<=e?-75:(H(n,e,o),Be=[n.position>>>0,(Se=n.position,1<=+ve(Se)?0<Se?(0|we(+me(Se/4294967296),4294967295))>>>0:~~+be((Se-+(~~Se>>>0))/4294967296)>>>0:0)],le[i>>2]=Be[0],le[i+4>>2]=Be[1],n.kb&&0===e&&0===o&&(n.kb=null),0)}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},L:function(e,t){Ze=t;try{var n=Y(),r=Q();e:{var a=Q();for(t=e=0;t<a;t++){var i=le[r+(8*t+4)>>2],o=C(n,le[r+8*t>>2],i,void 0);if(0>o){var s=-1;break e}if(e+=o,o<i)break}s=e}return s}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},A:function(e,t){Ze=t;try{var n=Y(),r=Q();e:{var a=Q();for(t=e=0;t<a;t++){var i=n,o=le[r+8*t>>2],s=le[r+(8*t+4)>>2],u=void 0,f=ue;if(0>s||0>u)throw new Fe(22);if(null===i.Ya)throw new Fe(9);if(0==(2097155&i.flags))throw new Fe(9);if(16384==(61440&i.node.mode))throw new Fe(21);if(!i.Qa.write)throw new Fe(22);1024&i.flags&&H(i,0,2);var c=void 0!==u;if(c){if(!i.seekable)throw new Fe(29)}else u=i.position;var l=i.Qa.write(i,f,o,s,u,void 0);c||(i.position+=l);try{i.path&&We.onWriteToFile&&We.onWriteToFile(i.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+i.path+"') threw an exception: "+e.message)}if(0>(i=l)){var _=-1;break e}e+=i}_=e}return _}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},z:function(e,t){Ze=t;try{var n=Y();switch(Q()){case 0:var r=Q();return 0>r?-22:M(n.path,n.flags,0,r).Ya;case 1:case 2:return 0;case 3:return n.flags;case 4:return r=Q(),n.flags|=r,0;case 12:return r=Q(),ce[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-22;case 9:return y(22),-1;default:return-22}}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},K:function(e,t){Ze=t;try{return C(Y(),Q(),Q())}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},y:function(e,t){Ze=t;try{var n=Q();return M(n?r(fe,n,void 0):"",Q(),Q()).Ya}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},x:function(e,t){Ze=t;try{var n=Y(),r=Q();switch(r){case 21509:case 21505:return n.Sa?0:-25;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.Sa?0:-25;case 21519:if(!n.Sa)return-25;var a=Q();return le[a>>2]=0;case 21520:return n.Sa?-22:-25;case 21531:if(e=Q(),!n.Qa.Bb)throw new Fe(25);return n.Qa.Bb(n,r,e);case 21523:case 21524:return n.Sa?0:-25;default:$("bad ioctl syscall "+r)}}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},u:function(e,t){Ze=t;try{var n=Y();if(null===n.Ya)throw new Fe(9);n.kb&&(n.kb=null);try{n.Qa.close&&n.Qa.close(n)}catch(e){throw e}finally{Ye[n.Ya]=null}return n.Ya=null,0}catch(e){return void 0!==Xe&&e instanceof Fe||$(e),-e.Xa}},t:function(){},J:function(){V.abort()},I:I,H:function(e,t){j(e,t)},G:function(e,t,n){fe.set(fe.subarray(t,t+n),e)},F:function(e){if(2147418112<e)return!1;for(var t=Math.max(I(),16777216);t<e;)t=536870912>=t?a(2*t):Math.min(a((3*t+2147483648)/4),2147418112);e:{try{ae.grow(t-se.byteLength+65535>>16),i(ae.buffer),e=1;break e}catch(e){}e=void 0}return!!e},k:function(e){!te&&(ie=!0,V.onExit)&&V.onExit(e),n(e,new W(e))},w:function(e){var t=Date.now();return le[e>>2]=t/1e3|0,le[e+4>>2]=t%1e3*1e3|0,0},p:function(e){var t=D.bb[e];D.bb.splice(e,1),tt(t)},r:D,c:j,E:function(){$("OOM")},a:62864},se);V.asm=qe,V.___errno_location=function(){return V.asm.O.apply(null,arguments)},V._free=function(){return V.asm.P.apply(null,arguments)};var Ge=V._malloc=function(){return V.asm.Q.apply(null,arguments)},Je=V._setThrew=function(){return V.asm.R.apply(null,arguments)};V._vsc_buffer_bytes=function(){return V.asm.S.apply(null,arguments)},V._vsc_buffer_data=function(){return V.asm.T.apply(null,arguments)},V._vsc_buffer_delete=function(){return V.asm.U.apply(null,arguments)},V._vsc_buffer_len=function(){return V.asm.V.apply(null,arguments)},V._vsc_buffer_make_secure=function(){return V.asm.W.apply(null,arguments)},V._vsc_buffer_new=function(){return V.asm.X.apply(null,arguments)},V._vsc_buffer_new_with_capacity=function(){return V.asm.Y.apply(null,arguments)},V._vsc_data=function(){return V.asm.Z.apply(null,arguments)},V._vsc_data_bytes=function(){return V.asm._.apply(null,arguments)},V._vsc_data_ctx_size=function(){return V.asm.$.apply(null,arguments)},V._vsc_data_len=function(){return V.asm.aa.apply(null,arguments)},V._vscp_error_ctx_size=function(){return V.asm.ba.apply(null,arguments)},V._vscp_error_reset=function(){return V.asm.ca.apply(null,arguments)},V._vscp_error_status=function(){return V.asm.da.apply(null,arguments)},V._vscp_pythia_blind=function(){return V.asm.ea.apply(null,arguments)},V._vscp_pythia_blinded_password_buf_len=function(){return V.asm.fa.apply(null,arguments)},V._vscp_pythia_blinding_secret_buf_len=function(){return V.asm.ga.apply(null,arguments)},V._vscp_pythia_cleanup=function(){return V.asm.ha.apply(null,arguments)},V._vscp_pythia_compute_transformation_key_pair=function(){return V.asm.ia.apply(null,arguments)},V._vscp_pythia_configure=function(){return V.asm.ja.apply(null,arguments)},V._vscp_pythia_deblind=function(){return V.asm.ka.apply(null,arguments)},V._vscp_pythia_deblinded_password_buf_len=function(){return V.asm.la.apply(null,arguments)},V._vscp_pythia_get_password_update_token=function(){return V.asm.ma.apply(null,arguments)},V._vscp_pythia_password_update_token_buf_len=function(){return V.asm.na.apply(null,arguments)},V._vscp_pythia_proof_value_buf_len=function(){return V.asm.oa.apply(null,arguments)},V._vscp_pythia_prove=function(){return V.asm.pa.apply(null,arguments)},V._vscp_pythia_transform=function(){return V.asm.qa.apply(null,arguments)},V._vscp_pythia_transformation_private_key_buf_len=function(){return V.asm.ra.apply(null,arguments)},V._vscp_pythia_transformation_public_key_buf_len=function(){return V.asm.sa.apply(null,arguments)},V._vscp_pythia_transformed_password_buf_len=function(){return V.asm.ta.apply(null,arguments)},V._vscp_pythia_transformed_tweak_buf_len=function(){return V.asm.ua.apply(null,arguments)},V._vscp_pythia_update_deblinded_with_token=function(){return V.asm.va.apply(null,arguments)},V._vscp_pythia_verify=function(){return V.asm.wa.apply(null,arguments)},V.stackAlloc=function(){return V.asm.La.apply(null,arguments)};var et,tt=V.stackRestore=function(){return V.asm.Ma.apply(null,arguments)},nt=V.stackSave=function(){return V.asm.Na.apply(null,arguments)},rt=V.dynCall_i=function(){return V.asm.xa.apply(null,arguments)},at=V.dynCall_ii=function(){return V.asm.ya.apply(null,arguments)},it=V.dynCall_iii=function(){return V.asm.za.apply(null,arguments)},ot=V.dynCall_iiii=function(){return V.asm.Aa.apply(null,arguments)},st=V.dynCall_iiiii=function(){return V.asm.Ba.apply(null,arguments)},ut=V.dynCall_v=function(){return V.asm.Ca.apply(null,arguments)},ft=V.dynCall_vi=function(){return V.asm.Da.apply(null,arguments)},ct=V.dynCall_vii=function(){return V.asm.Ea.apply(null,arguments)},lt=V.dynCall_viii=function(){return V.asm.Fa.apply(null,arguments)},_t=V.dynCall_viiii=function(){return V.asm.Ga.apply(null,arguments)},dt=V.dynCall_viiiii=function(){return V.asm.Ha.apply(null,arguments)},pt=V.dynCall_viiiiii=function(){return V.asm.Ia.apply(null,arguments)},yt=V.dynCall_viiiiiii=function(){return V.asm.Ja.apply(null,arguments)},ht=V.dynCall_viiiiiiii=function(){return V.asm.Ka.apply(null,arguments)};if(V.asm=qe,V.then=function(e){if(et)e(V);else{var t=V.onRuntimeInitialized;V.onRuntimeInitialized=function(){t&&t(),e(V)}}return V},ge=function e(){et||F(),et||(ge=e)},V.run=F,V.abort=$,V.preInit)for("function"==typeof V.preInit&&(V.preInit=[V.preInit]);0<V.preInit.length;)V.preInit.pop()();return te=!0,F(),t}}(),n.exports=r,e=t.exports;var a=()=>{class e extends Error{constructor(e){super(e),this.name="PythiaError",this.message=e}static handleStatusCode(t){if(0!=t){if(-1==t)throw new e("This error should not be returned if assertions is enabled.");if(-200==t)throw new e("Underlying pythia library returns -1.");if(-202==t)throw new e("Underlying random number generator failed.");throw new e("Unexpected status code:"+t)}}}return e};function i(e,t){if(!("number"==typeof t||t instanceof Number))throw new TypeError(`'${e}' is not a number`);if(Number.isNaN(t))throw new TypeError(`'${e}' is NaN`);if(1/0===t)throw new TypeError(`'${e}' is Infinity`);if(-1/0===t)throw new TypeError(`'${e}' is -Infinity`)}function o(e,t){if(i(e,t),0==t)throw new TypeError(`'${e}' is NULL`)}var s={ensureNumber:i,ensureString:function(e,t){if(!("string"==typeof t||t instanceof String))throw new TypeError(`'${e}' is not a string`)},ensureBoolean:function(e,t){if("boolean"!=typeof t)throw new TypeError(`'${e}' is not a boolean`)},ensureByteArray:function(e,t){if(!(t instanceof Uint8Array))throw new TypeError(`'${e}' is not an Uint8Array`)},ensureClass:function(e,t,n){if(!(t instanceof n))throw new TypeError(`'${e}' is not an instance of the class ${n.name}`);o(e,t.ctxPtr)},ensureNotNull:o,ensureImplementInterface:function(e,t,n,r,a){if(o(e,t.ctxPtr),!a.isImplemented(t.ctxPtr,r))throw new TypeError(`'${e}' does not implement interface '${n}'`)}};export default()=>{const t=new e;return new Promise((e,n)=>{t.onRuntimeInitialized=()=>{const n={};n.PythiaError=a(),n.Pythia=((e,t)=>{class n{static configure(){const n=e._vscp_pythia_configure();t.PythiaError.handleStatusCode(n)}static cleanup(){e._vscp_pythia_cleanup()}static blindedPasswordBufLen(){return e._vscp_pythia_blinded_password_buf_len()}static deblindedPasswordBufLen(){return e._vscp_pythia_deblinded_password_buf_len()}static blindingSecretBufLen(){return e._vscp_pythia_blinding_secret_buf_len()}static transformationPrivateKeyBufLen(){return e._vscp_pythia_transformation_private_key_buf_len()}static transformationPublicKeyBufLen(){return e._vscp_pythia_transformation_public_key_buf_len()}static transformedPasswordBufLen(){return e._vscp_pythia_transformed_password_buf_len()}static transformedTweakBufLen(){return e._vscp_pythia_transformed_tweak_buf_len()}static proofValueBufLen(){return e._vscp_pythia_proof_value_buf_len()}static passwordUpdateTokenBufLen(){return e._vscp_pythia_password_update_token_buf_len()}static blind(r){s.ensureByteArray("password",r);var a=r.length*r.BYTES_PER_ELEMENT;const i=e._malloc(a);e.HEAP8.set(r,i),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,i,a),a=n.blindedPasswordBufLen(),a=e._vsc_buffer_new_with_capacity(a);var o=n.blindingSecretBufLen();o=e._vsc_buffer_new_with_capacity(o);try{const n=e._vscp_pythia_blind(r,a,o);t.PythiaError.handleStatusCode(n);const i=e._vsc_buffer_bytes(a),s=e._vsc_buffer_len(a),u=e.HEAPU8.slice(i,i+s),f=e._vsc_buffer_bytes(o),c=e._vsc_buffer_len(o);return{blindedPassword:u,blindingSecret:e.HEAPU8.slice(f,f+c)}}finally{e._free(n),e._free(r),e._vsc_buffer_delete(a),e._vsc_buffer_delete(o)}}static deblind(r,a){s.ensureByteArray("transformedPassword",r),s.ensureByteArray("blindingSecret",a);var i=r.length*r.BYTES_PER_ELEMENT;const o=e._malloc(i);e.HEAP8.set(r,o),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,o,i);var u=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(u),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,u),u=n.deblindedPasswordBufLen(),u=e._vsc_buffer_new_with_capacity(u);try{const n=e._vscp_pythia_deblind(r,a,u);t.PythiaError.handleStatusCode(n);const i=e._vsc_buffer_bytes(u),o=e._vsc_buffer_len(u);return e.HEAPU8.slice(i,i+o)}finally{e._free(i),e._free(r),e._free(n),e._free(a),e._vsc_buffer_delete(u)}}static computeTransformationKeyPair(r,a,i){s.ensureByteArray("transformationKeyId",r),s.ensureByteArray("pythiaSecret",a),s.ensureByteArray("pythiaScopeSecret",i);var o=r.length*r.BYTES_PER_ELEMENT;const u=e._malloc(o);e.HEAP8.set(r,u),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,u,o);var f=a.length*a.BYTES_PER_ELEMENT;o=e._malloc(f),e.HEAP8.set(a,o),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,o,f);var c=i.length*i.BYTES_PER_ELEMENT;f=e._malloc(c),e.HEAP8.set(i,f),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,f,c),c=n.transformationPrivateKeyBufLen(),c=e._vsc_buffer_new_with_capacity(c);var l=n.transformationPublicKeyBufLen();l=e._vsc_buffer_new_with_capacity(l);try{const n=e._vscp_pythia_compute_transformation_key_pair(r,a,i,c,l);t.PythiaError.handleStatusCode(n);const o=e._vsc_buffer_bytes(c),s=e._vsc_buffer_len(c),u=e.HEAPU8.slice(o,o+s),f=e._vsc_buffer_bytes(l),_=e._vsc_buffer_len(l);return{transformationPrivateKey:u,transformationPublicKey:e.HEAPU8.slice(f,f+_)}}finally{e._free(n),e._free(r),e._free(o),e._free(a),e._free(s),e._free(i),e._vsc_buffer_delete(c),e._vsc_buffer_delete(l)}}static transform(r,a,i){s.ensureByteArray("blindedPassword",r),s.ensureByteArray("tweak",a),s.ensureByteArray("transformationPrivateKey",i);var o=r.length*r.BYTES_PER_ELEMENT;const u=e._malloc(o);e.HEAP8.set(r,u),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,u,o);var f=a.length*a.BYTES_PER_ELEMENT;o=e._malloc(f),e.HEAP8.set(a,o),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,o,f);var c=i.length*i.BYTES_PER_ELEMENT;f=e._malloc(c),e.HEAP8.set(i,f),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,f,c),c=n.transformedPasswordBufLen(),c=e._vsc_buffer_new_with_capacity(c);var l=n.transformedTweakBufLen();l=e._vsc_buffer_new_with_capacity(l);try{const n=e._vscp_pythia_transform(r,a,i,c,l);t.PythiaError.handleStatusCode(n);const o=e._vsc_buffer_bytes(c),s=e._vsc_buffer_len(c),u=e.HEAPU8.slice(o,o+s),f=e._vsc_buffer_bytes(l),_=e._vsc_buffer_len(l);return{transformedPassword:u,transformedTweak:e.HEAPU8.slice(f,f+_)}}finally{e._free(n),e._free(r),e._free(o),e._free(a),e._free(s),e._free(i),e._vsc_buffer_delete(c),e._vsc_buffer_delete(l)}}static prove(r,a,i,o,u){s.ensureByteArray("transformedPassword",r),s.ensureByteArray("blindedPassword",a),s.ensureByteArray("transformedTweak",i),s.ensureByteArray("transformationPrivateKey",o),s.ensureByteArray("transformationPublicKey",u);var f=r.length*r.BYTES_PER_ELEMENT;const c=e._malloc(f);e.HEAP8.set(r,c),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,c,f);var l=a.length*a.BYTES_PER_ELEMENT;f=e._malloc(l),e.HEAP8.set(a,f),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,f,l);var _=i.length*i.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(i,l),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,l,_);var d=o.length*o.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(o,_),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,_,d);var p=u.length*u.BYTES_PER_ELEMENT;d=e._malloc(p),e.HEAP8.set(u,d),u=e._vsc_data_ctx_size(),u=e._malloc(u),e._vsc_data(u,d,p),p=n.proofValueBufLen(),p=e._vsc_buffer_new_with_capacity(p);var y=n.proofValueBufLen();y=e._vsc_buffer_new_with_capacity(y);try{const n=e._vscp_pythia_prove(r,a,i,o,u,p,y);t.PythiaError.handleStatusCode(n);const s=e._vsc_buffer_bytes(p),f=e._vsc_buffer_len(p),c=e.HEAPU8.slice(s,s+f),l=e._vsc_buffer_bytes(y),_=e._vsc_buffer_len(y);return{proofValueC:c,proofValueU:e.HEAPU8.slice(l,l+_)}}finally{e._free(s),e._free(r),e._free(n),e._free(a),e._free(f),e._free(i),e._free(l),e._free(o),e._free(_),e._free(u),e._vsc_buffer_delete(p),e._vsc_buffer_delete(y)}}static verify(n,r,a,i,o,u){s.ensureByteArray("transformedPassword",n),s.ensureByteArray("blindedPassword",r),s.ensureByteArray("tweak",a),s.ensureByteArray("transformationPublicKey",i),s.ensureByteArray("proofValueC",o),s.ensureByteArray("proofValueU",u);var f=n.length*n.BYTES_PER_ELEMENT;const c=e._malloc(f);e.HEAP8.set(n,c),n=e._vsc_data_ctx_size(),n=e._malloc(n),e._vsc_data(n,c,f);var l=r.length*r.BYTES_PER_ELEMENT;f=e._malloc(l),e.HEAP8.set(r,f),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,f,l);var _=a.length*a.BYTES_PER_ELEMENT;l=e._malloc(_),e.HEAP8.set(a,l),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,l,_);var d=i.length*i.BYTES_PER_ELEMENT;_=e._malloc(d),e.HEAP8.set(i,_),i=e._vsc_data_ctx_size(),i=e._malloc(i),e._vsc_data(i,_,d);var p=o.length*o.BYTES_PER_ELEMENT;d=e._malloc(p),e.HEAP8.set(o,d),o=e._vsc_data_ctx_size(),o=e._malloc(o),e._vsc_data(o,d,p);var y=u.length*u.BYTES_PER_ELEMENT;let h;p=e._malloc(y),e.HEAP8.set(u,p),u=e._vsc_data_ctx_size(),u=e._malloc(u),e._vsc_data(u,p,y),y=e._vscp_error_ctx_size(),y=e._malloc(y),e._vscp_error_reset(y);try{h=e._vscp_pythia_verify(n,r,a,i,o,u,y);const s=e._vscp_error_status(y);return t.PythiaError.handleStatusCode(s),!!h}finally{e._free(c),e._free(n),e._free(s),e._free(r),e._free(l),e._free(a),e._free(_),e._free(i),e._free(d),e._free(o),e._free(p),e._free(u),e._free(y)}}static getPasswordUpdateToken(r,a){s.ensureByteArray("previousTransformationPrivateKey",r),s.ensureByteArray("newTransformationPrivateKey",a);var i=r.length*r.BYTES_PER_ELEMENT;const o=e._malloc(i);e.HEAP8.set(r,o),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,o,i);var u=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(u),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,u),u=n.passwordUpdateTokenBufLen(),u=e._vsc_buffer_new_with_capacity(u);try{const n=e._vscp_pythia_get_password_update_token(r,a,u);t.PythiaError.handleStatusCode(n);const i=e._vsc_buffer_bytes(u),o=e._vsc_buffer_len(u);return e.HEAPU8.slice(i,i+o)}finally{e._free(i),e._free(r),e._free(n),e._free(a),e._vsc_buffer_delete(u)}}static updateDeblindedWithToken(r,a){s.ensureByteArray("deblindedPassword",r),s.ensureByteArray("passwordUpdateToken",a);var i=r.length*r.BYTES_PER_ELEMENT;const o=e._malloc(i);e.HEAP8.set(r,o),r=e._vsc_data_ctx_size(),r=e._malloc(r),e._vsc_data(r,o,i);var u=a.length*a.BYTES_PER_ELEMENT;i=e._malloc(u),e.HEAP8.set(a,i),a=e._vsc_data_ctx_size(),a=e._malloc(a),e._vsc_data(a,i,u),u=n.deblindedPasswordBufLen(),u=e._vsc_buffer_new_with_capacity(u);try{const n=e._vscp_pythia_update_deblinded_with_token(r,a,u);t.PythiaError.handleStatusCode(n);const i=e._vsc_buffer_bytes(u),o=e._vsc_buffer_len(u);return e.HEAPU8.slice(i,i+o)}finally{e._free(i),e._free(r),e._free(n),e._free(a),e._vsc_buffer_delete(u)}}}return n})(t,n),e(n)},t.onAbort=e=>{n(Error(e))}})};
