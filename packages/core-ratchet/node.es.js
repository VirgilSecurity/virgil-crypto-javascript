var t;t={exports:{}}.exports=function(t){function e(t,e,r){var n=e+r;for(r=e;t[r]&&!(r>=n);)++r;if(16<r-e&&t.subarray&&J)return J.decode(t.subarray(e,r));for(n="";e<r;){var s=t[e++];if(128&s){var c=63&t[e++];if(192==(224&s))n+=String.fromCharCode((31&s)<<6|c);else{var a=63&t[e++];65536>(s=224==(240&s)?(15&s)<<12|c<<6|a:(7&s)<<18|c<<12|a<<6|63&t[e++])?n+=String.fromCharCode(s):(s-=65536,n+=String.fromCharCode(55296|s>>10,56320|1023&s))}}else n+=String.fromCharCode(s)}return n}function r(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e();else{var r=e.ad;"number"==typeof r?void 0===e.Ac?D.dynCall_v(r):D.dynCall_vi(r,e.Ac):r(void 0===e.Ac?null:e.Ac)}}}function n(){var t=D.preRun.shift();ct.unshift(t)}function s(){var t=mt;return String.prototype.startsWith?t.startsWith("data:application/octet-stream;base64,"):0===t.indexOf("data:application/octet-stream;base64,")}function c(t){function e(t){D.asm=t.exports,ht--,D.monitorRunDependencies&&D.monitorRunDependencies(ht),0==ht&&(null!==dt&&(clearInterval(dt),dt=null),pt&&(t=pt,pt=null,t()))}function r(t){e(t.instance)}function n(t){return new Promise(function(t){t:{try{if(D.wasmBinary){var e=new Uint8Array(D.wasmBinary);break t}if($){e=$(mt);break t}throw"both async and sync fetching of the wasm failed"}catch(t){H(t)}e=void 0}t(e)}).then(function(t){return WebAssembly.instantiate(t,c)}).then(t,function(t){q("failed to asynchronously prepare wasm: "+t),H(t)})}var c={env:t,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:X};if(ht++,D.monitorRunDependencies&&D.monitorRunDependencies(ht),D.instantiateWasm)try{return D.instantiateWasm(c,e)}catch(t){return q("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(D.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||s()||"function"!=typeof fetch)return n(r);fetch(mt,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,c).then(r,function(t){q("wasm streaming compile failed: "+t),q("falling back to ArrayBuffer instantiation"),n(r)})})}(),{}}function a(t,e){for(var r=0,n=t.length-1;0<=n;n--){var s=t[n];"."===s?t.splice(n,1):".."===s?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t}function _(t){var e="/"===t.charAt(0),r="/"===t.substr(-1);return(t=a(t.split("/").filter(function(t){return!!t}),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function i(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."}function o(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)}function u(t,e){return _(t+"/"+e)}function l(t){return D.___errno_location&&(nt[D.___errno_location()>>2]=t),t}function f(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){if("string"!=typeof(e=0<=r?arguments[r]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=a(t.split("/").filter(function(t){return!!t}),!e).join("/"))||"."}function h(t,e){Nt[t]={input:[],output:[],vc:e},E(t,bt)}function d(t,e){if(e=e||{},!(t=f("/",t)))return{path:"",node:null};var r,n={Lc:!0,Ec:0};for(r in n)void 0===e[r]&&(e[r]=n[r]);if(8<e.Ec)throw new Ot(40);t=a(t.split("/").filter(function(t){return!!t}),!1);var s=St;for(n="/",r=0;r<t.length;r++){var c=r===t.length-1;if(c&&e.parent)break;if(s=v(s,t[r]),n=u(n,t[r]),s.zc&&(!c||c&&e.Lc)&&(s=s.zc.root),!c||e.Kc)for(c=0;40960==(61440&s.mode);)if(s=k(n),s=d(n=f(i(n),s),{Ec:e.Ec}).node,40<c++)throw new Ot(40)}return{path:n,node:s}}function p(t){for(var e;;){if(t===t.parent)return t=t.oc.Qc,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}}function m(t,e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%Ft.length}function v(t,e){var r;if(r=(r=g(t,"x"))?r:t.kc.lookup?0:13)throw new Ot(r,t);for(r=Ft[m(t.id,e)];r;r=r.Vc){var n=r.name;if(r.parent.id===t.id&&n===e)return r}return t.kc.lookup(t,e)}function y(t,e,r,n){return xt||((xt=function(t,e,r,n){t||(t=this),this.parent=t,this.oc=t.oc,this.zc=null,this.id=zt++,this.name=e,this.mode=r,this.kc={},this.lc={},this.rdev=n}).prototype={},Object.defineProperties(xt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}})),function(t){var e=m(t.parent.id,t.name);t.Vc=Ft[e],Ft[e]=t}(t=new xt(t,e,r,n)),t}function w(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e}function g(t,e){return Mt?0:(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:13}function P(t,e){try{return v(t,e),17}catch(t){}return g(t,"wx")}function x(t,e){Et||((Et=function(){}).prototype={},Object.defineProperties(Et.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}}}));var r,n=new Et;for(r in t)n[r]=t[r];return t=n,e=function(t){for(t=t||0;4096>=t;t++)if(!Lt[t])return t;throw new Ot(24)}(e),t.fd=e,Lt[e]=t}function E(t,e){Rt[t]={lc:e}}function A(t,e){var r="/"===e,n=!e;if(r&&St)throw new Ot(16);if(!r&&!n){var s=d(e,{Lc:!1});if(e=s.path,(s=s.node).zc)throw new Ot(16);if(16384!=(61440&s.mode))throw new Ot(20)}e={type:t,Cc:{},Qc:e,Uc:[]},(t=t.oc(e)).oc=e,e.root=t,r?St=t:s&&(s.zc=e,s.oc&&s.oc.Uc.push(e))}function N(t,e,r){var n=d(t,{parent:!0}).node;if(!(t=o(t))||"."===t||".."===t)throw new Ot(22);var s=P(n,t);if(s)throw new Ot(s);if(!n.kc.wc)throw new Ot(1);return n.kc.wc(n,t,e,r)}function b(t){N(t,16895,0)}function T(t,e,r){void 0===r&&(r=e,e=438),N(t,8192|e,r)}function C(t,e){if(!f(t))throw new Ot(2);var r=d(e,{parent:!0}).node;if(!r)throw new Ot(2);var n=P(r,e=o(e));if(n)throw new Ot(n);if(!r.kc.symlink)throw new Ot(1);r.kc.symlink(r,e,t)}function k(t){if(!(t=d(t).node))throw new Ot(2);if(!t.kc.readlink)throw new Ot(22);return f(p(t.parent),t.kc.readlink(t))}function I(t,e,r,n){if(""===t)throw new Ot(2);if("string"==typeof e){var s=Dt[e];if(void 0===s)throw Error("Unknown file open mode: "+e);e=s}if(r=64&e?4095&(void 0===r?438:r)|32768:0,"object"==typeof t)var c=t;else{t=_(t);try{c=d(t,{Kc:!(131072&e)}).node}catch(t){}}if(s=!1,64&e)if(c){if(128&e)throw new Ot(17)}else c=N(t,r,0),s=!0;if(!c)throw new Ot(2);if(8192==(61440&c.mode)&&(e&=-513),65536&e&&16384!=(61440&c.mode))throw new Ot(20);if(!s&&(r=c?40960==(61440&c.mode)?40:16384==(61440&c.mode)&&("r"!==w(e)||512&e)?21:g(c,w(e)):2))throw new Ot(r);if(512&e){var a;if(!(a="string"==typeof(r=c)?d(r,{Kc:!0}).node:r).kc.qc)throw new Ot(1);if(16384==(61440&a.mode))throw new Ot(21);if(32768!=(61440&a.mode))throw new Ot(22);if(r=g(a,"w"))throw new Ot(r);a.kc.qc(a,{size:0,timestamp:Date.now()})}e&=-641,(n=x({node:c,path:p(c),flags:e,seekable:!0,position:0,lc:c.lc,Zc:[],error:!1},n)).lc.open&&n.lc.open(n),!D.logReadFiles||1&e||(At||(At={}),t in At||(At[t]=1,console.log("FS.trackingDelegate error on read file: "+t)));try{Bt.onOpenFile&&(c=0,1!=(2097155&e)&&(c|=1),0!=(2097155&e)&&(c|=2),Bt.onOpenFile(t,c))}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return n}function S(t,e,r){if(null===t.fd)throw new Ot(9);if(!t.seekable||!t.lc.tc)throw new Ot(29);if(0!=r&&1!=r&&2!=r)throw new Ot(22);t.position=t.lc.tc(t,e,r),t.Zc=[]}function R(){Ot||((Ot=function(t,e){this.node=e,this.Xc=function(t){this.mc=t},this.Xc(t),this.message="FS error",this.stack&&Object.defineProperty(this,"stack",{value:Error().stack,writable:!0})}).prototype=Error(),Ot.prototype.constructor=Ot,[2].forEach(function(t){Ht[t]=new Ot(t),Ht[t].stack="<generic error, no stack>"}))}function L(t,e,r){t=u("/dev",t);var n=function(t,e){var r=0;return t&&(r|=365),e&&(r|=146),r}(!!e,!!r);Pt||(Pt=64);var s=Pt++<<8|0;E(s,{open:function(t){t.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(t,r,n,s){for(var c=0,a=0;a<s;a++){try{var _=e()}catch(t){throw new Ot(5)}if(void 0===_&&0===c)throw new Ot(11);if(null==_)break;c++,r[n+a]=_}return c&&(t.node.timestamp=Date.now()),c},write:function(t,e,n,s){for(var c=0;c<s;c++)try{r(e[n+c])}catch(t){throw new Ot(5)}return s&&(t.node.timestamp=Date.now()),c}}),T(t,n,s)}function z(){return nt[(jt+=4)-4>>2]}function F(){var t=Lt[z()];if(!t)throw new Ot(9);return t}function M(){H("OOM")}function B(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function O(){function t(){if(!D.calledRun&&(D.calledRun=!0,!Z)){if(D.noFSInit||gt||(gt=!0,R(),D.stdin=D.stdin,D.stdout=D.stdout,D.stderr=D.stderr,D.stdin?L("stdin",D.stdin):C("/dev/tty","/dev/stdin"),D.stdout?L("stdout",null,D.stdout):C("/dev/tty","/dev/stdout"),D.stderr?L("stderr",null,D.stderr):C("/dev/tty1","/dev/stderr"),I("/dev/stdin","r"),I("/dev/stdout","w"),I("/dev/stderr","w")),r(at),Mt=!1,r(_t),D.onRuntimeInitialized&&D.onRuntimeInitialized(),D.postRun)for("function"==typeof D.postRun&&(D.postRun=[D.postRun]);D.postRun.length;){var t=D.postRun.shift();it.unshift(t)}r(it)}}if(!(0<ht)){if(D.preRun)for("function"==typeof D.preRun&&(D.preRun=[D.preRun]);D.preRun.length;)n();r(ct),0<ht||D.calledRun||(D.setStatus?(D.setStatus("Running..."),setTimeout(function(){setTimeout(function(){D.setStatus("")},1),t()},1)):t())}}function H(t){throw D.onAbort&&D.onAbort(t),W(t),q(t),Z=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}var D;t=t||{},D||(D=void 0!==t?t:{});var U,K,j,G,Y={};for(U in D)D.hasOwnProperty(U)&&(Y[U]=D[U]);D.arguments=[],D.thisProgram="./this.program",D.quit=function(t,e){throw e},D.preRun=[],D.postRun=[],K=__dirname+"/";var $=function(t){return(t=function(t){return j||(j=require("fs")),G||(G=require("path")),t=G.normalize(t),j.readFileSync(t)}(t)).buffer||(t=new Uint8Array(t)),t.buffer||H("Assertion failed: undefined"),t};1<process.argv.length&&(D.thisProgram=process.argv[1].replace(/\\/g,"/")),D.arguments=process.argv.slice(2),process.on("uncaughtException",function(t){if(!(t instanceof B))throw t}),process.on("unhandledRejection",H),D.quit=function(t){process.exit(t)},D.inspect=function(){return"[Emscripten Module object]"};var W=D.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),q=D.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||W);for(U in Y)Y.hasOwnProperty(U)&&(D[U]=Y[U]);Y=void 0;var X={"f64-rem":function(t,e){return t%e},debugger:function(){}};"object"!=typeof WebAssembly&&q("no native wasm support detected");var V,Z=!1,J="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var Q,tt,et,rt,nt,st=D.TOTAL_MEMORY||16777216;5242880>st&&q("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+st+"! (TOTAL_STACK=5242880)"),(V=D.wasmMemory?D.wasmMemory:new WebAssembly.Memory({initial:st/65536,maximum:st/65536}))&&(Q=V.buffer),st=Q.byteLength,D.HEAP8=tt=new Int8Array(Q),D.HEAP16=rt=new Int16Array(Q),D.HEAP32=nt=new Int32Array(Q),D.HEAPU8=et=new Uint8Array(Q),D.HEAPU16=new Uint16Array(Q),D.HEAPU32=new Uint32Array(Q),D.HEAPF32=new Float32Array(Q),D.HEAPF64=new Float64Array(Q),nt[17812]=5314160;var ct=[],at=[],_t=[],it=[],ot=Math.abs,ut=Math.ceil,lt=Math.floor,ft=Math.min,ht=0,dt=null,pt=null;D.preloadedImages={},D.preloadedAudios={};var mt="libratchet.wasm";if(!s()){var vt=mt;mt=D.locateFile?D.locateFile(vt,K):K+vt}D.asm=function(t,e){return e.memory=V,e.table=new WebAssembly.Table({initial:356,maximum:356,element:"anyfunc"}),e.__memory_base=1024,e.__table_base=0,c(e)};var yt,wt,gt,Pt,xt,Et,At,Nt=[],bt={open:function(t){var e=Nt[t.node.rdev];if(!e)throw new Ot(19);t.tty=e,t.seekable=!1},close:function(t){t.tty.vc.flush(t.tty)},flush:function(t){t.tty.vc.flush(t.tty)},read:function(t,e,r,n){if(!t.tty||!t.tty.vc.Nc)throw new Ot(6);for(var s=0,c=0;c<n;c++){try{var a=t.tty.vc.Nc(t.tty)}catch(t){throw new Ot(5)}if(void 0===a&&0===s)throw new Ot(11);if(null==a)break;s++,e[r+c]=a}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,r,n){if(!t.tty||!t.tty.vc.Dc)throw new Ot(6);try{for(var s=0;s<n;s++)t.tty.vc.Dc(t.tty,e[r+s])}catch(t){throw new Ot(5)}return n&&(t.node.timestamp=Date.now()),s}},Tt={Nc:function(t){if(!t.input.length){var e=null,r=Buffer.Oc?Buffer.Oc(256):new Buffer(256),n=0,s=process.stdin.fd;if("win32"!=process.platform){var c=!1;try{s=Gt.openSync("/dev/stdin","r"),c=!0}catch(t){}}try{n=Gt.readSync(s,r,0,256,null)}catch(t){if(-1==t.toString().indexOf("EOF"))throw t;n=0}if(c&&Gt.closeSync(s),!(e=0<n?r.slice(0,n).toString("utf-8"):null))return null;for(n=r=0;n<e.length;++n)55296<=(s=e.charCodeAt(n))&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++n)),127>=s?++r:r=2047>=s?r+2:65535>=s?r+3:r+4;if(n=0,0<(c=(r=Array(r+1)).length)){s=n,c=n+c-1;for(var a=0;a<e.length;++a){var _=e.charCodeAt(a);if(55296<=_&&57343>=_&&(_=65536+((1023&_)<<10)|1023&e.charCodeAt(++a)),127>=_){if(n>=c)break;r[n++]=_}else{if(2047>=_){if(n+1>=c)break;r[n++]=192|_>>6}else{if(65535>=_){if(n+2>=c)break;r[n++]=224|_>>12}else{if(n+3>=c)break;r[n++]=240|_>>18,r[n++]=128|_>>12&63}r[n++]=128|_>>6&63}r[n++]=128|63&_}}r[n]=0,e=n-s}else e=0;r.length=e,t.input=r}return t.input.shift()},Dc:function(t,r){null===r||10===r?(W(e(t.output,0)),t.output=[]):0!=r&&t.output.push(r)},flush:function(t){t.output&&0<t.output.length&&(W(e(t.output,0)),t.output=[])}},Ct={Dc:function(t,r){null===r||10===r?(q(e(t.output,0)),t.output=[]):0!=r&&t.output.push(r)},flush:function(t){t.output&&0<t.output.length&&(q(e(t.output,0)),t.output=[])}},kt={rc:null,oc:function(){return kt.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(24576==(61440&r)||4096==(61440&r))throw new Ot(1);return kt.rc||(kt.rc={dir:{node:{sc:kt.kc.sc,qc:kt.kc.qc,lookup:kt.kc.lookup,wc:kt.kc.wc,rename:kt.kc.rename,unlink:kt.kc.unlink,rmdir:kt.kc.rmdir,readdir:kt.kc.readdir,symlink:kt.kc.symlink},stream:{tc:kt.lc.tc}},file:{node:{sc:kt.kc.sc,qc:kt.kc.qc},stream:{tc:kt.lc.tc,read:kt.lc.read,write:kt.lc.write,Fc:kt.lc.Fc,Pc:kt.lc.Pc,Rc:kt.lc.Rc}},link:{node:{sc:kt.kc.sc,qc:kt.kc.qc,readlink:kt.kc.readlink},stream:{}},Hc:{node:{sc:kt.kc.sc,qc:kt.kc.qc},stream:Ut}}),16384==(61440&(r=y(t,e,r,n)).mode)?(r.kc=kt.rc.dir.node,r.lc=kt.rc.dir.stream,r.jc={}):32768==(61440&r.mode)?(r.kc=kt.rc.file.node,r.lc=kt.rc.file.stream,r.nc=0,r.jc=null):40960==(61440&r.mode)?(r.kc=kt.rc.link.node,r.lc=kt.rc.link.stream):8192==(61440&r.mode)&&(r.kc=kt.rc.Hc.node,r.lc=kt.rc.Hc.stream),r.timestamp=Date.now(),t&&(t.jc[e]=r),r},bd:function(t){if(t.jc&&t.jc.subarray){for(var e=[],r=0;r<t.nc;++r)e.push(t.jc[r]);return e}return t.jc},cd:function(t){return t.jc?t.jc.subarray?t.jc.subarray(0,t.nc):new Uint8Array(t.jc):new Uint8Array},Ic:function(t,e){var r=t.jc?t.jc.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)|0),0!=r&&(e=Math.max(e,256)),r=t.jc,t.jc=new Uint8Array(e),0<t.nc&&t.jc.set(r.subarray(0,t.nc),0))},Wc:function(t,e){if(t.nc!=e)if(0==e)t.jc=null,t.nc=0;else{if(!t.jc||t.jc.subarray){var r=t.jc;t.jc=new Uint8Array(new ArrayBuffer(e)),r&&t.jc.set(r.subarray(0,Math.min(e,t.nc)))}else if(t.jc||(t.jc=[]),t.jc.length>e)t.jc.length=e;else for(;t.jc.length<e;)t.jc.push(0);t.nc=e}},kc:{sc:function(t){var e={};return e.dev=8192==(61440&t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,16384==(61440&t.mode)?e.size=4096:32768==(61440&t.mode)?e.size=t.nc:40960==(61440&t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.uc=4096,e.blocks=Math.ceil(e.size/e.uc),e},qc:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&kt.Wc(t,e.size)},lookup:function(){throw Ht[2]},wc:function(t,e,r,n){return kt.createNode(t,e,r,n)},rename:function(t,e,r){if(16384==(61440&t.mode)){try{var n=v(e,r)}catch(t){}if(n)for(var s in n.jc)throw new Ot(39)}delete t.parent.jc[t.name],t.name=r,e.jc[r]=t,t.parent=e},unlink:function(t,e){delete t.jc[e]},rmdir:function(t,e){var r,n=v(t,e);for(r in n.jc)throw new Ot(39);delete t.jc[e]},readdir:function(t){var e,r=[".",".."];for(e in t.jc)t.jc.hasOwnProperty(e)&&r.push(e);return r},symlink:function(t,e,r){return(t=kt.createNode(t,e,41471,0)).link=r,t},readlink:function(t){if(40960!=(61440&t.mode))throw new Ot(22);return t.link}},lc:{read:function(t,e,r,n,s){var c=t.node.jc;if(s>=t.node.nc)return 0;if(8<(t=Math.min(t.node.nc-s,n))&&c.subarray)e.set(c.subarray(s,s+t),r);else for(n=0;n<t;n++)e[r+n]=c[s+n];return t},write:function(t,e,r,n,s,c){if(!n)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.jc||t.jc.subarray)){if(c)return t.jc=e.subarray(r,r+n),t.nc=n;if(0===t.nc&&0===s)return t.jc=new Uint8Array(e.subarray(r,r+n)),t.nc=n;if(s+n<=t.nc)return t.jc.set(e.subarray(r,r+n),s),n}if(kt.Ic(t,s+n),t.jc.subarray&&e.subarray)t.jc.set(e.subarray(r,r+n),s);else for(c=0;c<n;c++)t.jc[s+c]=e[r+c];return t.nc=Math.max(t.nc,s+n),n},tc:function(t,e,r){if(1===r?e+=t.position:2===r&&32768==(61440&t.node.mode)&&(e+=t.node.nc),0>e)throw new Ot(22);return e},Fc:function(t,e,r){kt.Ic(t.node,e+r),t.node.nc=Math.max(t.node.nc,e+r)},Pc:function(t,e,r,n,s,c,a){if(32768!=(61440&t.node.mode))throw new Ot(19);if(r=t.node.jc,2&a||r.buffer!==e&&r.buffer!==e.buffer){if((0<s||s+n<t.node.nc)&&(r=r.subarray?r.subarray(s,s+n):Array.prototype.slice.call(r,s,s+n)),t=!0,!(n=Wt(n)))throw new Ot(12);e.set(r,n)}else t=!1,n=r.byteOffset;return{dd:n,$c:t}},Rc:function(t,e,r,n,s){if(32768!=(61440&t.node.mode))throw new Ot(19);return 2&s?0:(kt.lc.write(t,e,0,n,r,!1),0)}}},It={yc:!1,Yc:function(){It.yc=!!process.platform.match(/^win/);var t=process.binding("constants");t.fs&&(t=t.fs),It.Jc={1024:t.O_APPEND,64:t.O_CREAT,128:t.O_EXCL,0:t.O_RDONLY,2:t.O_RDWR,4096:t.O_SYNC,512:t.O_TRUNC,1:t.O_WRONLY}},Gc:function(t){return Buffer.Oc?Buffer.from(t):new Buffer(t)},oc:function(t){return It.createNode(null,"/",It.Mc(t.Cc.root),0)},createNode:function(t,e,r){if(16384!=(61440&r)&&32768!=(61440&r)&&40960!=(61440&r))throw new Ot(22);return(t=y(t,e,r)).kc=It.kc,t.lc=It.lc,t},Mc:function(t){try{var e=Gt.lstatSync(t);It.yc&&(e.mode|=(292&e.mode)>>2)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}return e.mode},pc:function(t){for(var e=[];t.parent!==t;)e.push(t.name),t=t.parent;return e.push(t.oc.Cc.root),e.reverse(),function(){return _(Array.prototype.slice.call(arguments,0).join("/"))}.apply(null,e)},Sc:function(t){t&=-2656257;var e,r=0;for(e in It.Jc)t&e&&(r|=It.Jc[e],t^=e);if(t)throw new Ot(22);return r},kc:{sc:function(t){t=It.pc(t);try{var e=Gt.lstatSync(t)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}return It.yc&&!e.uc&&(e.uc=4096),It.yc&&!e.blocks&&(e.blocks=(e.size+e.uc-1)/e.uc|0),{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,uc:e.uc,blocks:e.blocks}},qc:function(t,e){var r=It.pc(t);try{void 0!==e.mode&&(Gt.chmodSync(r,e.mode),t.mode=e.mode),void 0!==e.size&&Gt.truncateSync(r,e.size)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},lookup:function(t,e){var r=u(It.pc(t),e);return r=It.Mc(r),It.createNode(t,e,r)},wc:function(t,e,r,n){t=It.createNode(t,e,r,n),e=It.pc(t);try{16384==(61440&t.mode)?Gt.mkdirSync(e,t.mode):Gt.writeFileSync(e,"",{mode:t.mode})}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}return t},rename:function(t,e,r){t=It.pc(t),e=u(It.pc(e),r);try{Gt.renameSync(t,e)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},unlink:function(t,e){t=u(It.pc(t),e);try{Gt.unlinkSync(t)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},rmdir:function(t,e){t=u(It.pc(t),e);try{Gt.rmdirSync(t)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},readdir:function(t){t=It.pc(t);try{return Gt.readdirSync(t)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},symlink:function(t,e,r){t=u(It.pc(t),e);try{Gt.symlinkSync(r,t)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},readlink:function(t){var e=It.pc(t);try{return e=Gt.readlinkSync(e),Yt.relative(Yt.resolve(t.oc.Cc.root),e)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}}},lc:{open:function(t){var e=It.pc(t.node);try{32768==(61440&t.node.mode)&&(t.xc=Gt.openSync(e,It.Sc(t.flags)))}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},close:function(t){try{32768==(61440&t.node.mode)&&t.xc&&Gt.closeSync(t.xc)}catch(t){if(!t.code)throw t;throw new Ot(-t.mc)}},read:function(t,e,r,n,s){if(0===n)return 0;try{return Gt.readSync(t.xc,It.Gc(e.buffer),r,n,s)}catch(t){throw new Ot(-t.mc)}},write:function(t,e,r,n,s){try{return Gt.writeSync(t.xc,It.Gc(e.buffer),r,n,s)}catch(t){throw new Ot(-t.mc)}},tc:function(t,e,r){if(1===r)e+=t.position;else if(2===r&&32768==(61440&t.node.mode))try{e+=Gt.fstatSync(t.xc).size}catch(t){throw new Ot(-t.mc)}if(0>e)throw new Ot(22);return e}}},St=null,Rt={},Lt=[],zt=1,Ft=null,Mt=!0,Bt={},Ot=null,Ht={},Dt={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},Ut={open:function(t){t.lc=Rt[t.node.rdev].lc,t.lc.open&&t.lc.open(t)},tc:function(){throw new Ot(29)}},Kt={},jt=0;R(),Ft=Array(4096),A(kt,"/"),b("/tmp"),b("/home"),b("/home/web_user"),function(){if(b("/dev"),E(259,{read:function(){return 0},write:function(t,e,r,n){return n}}),T("/dev/null",259),h(1280,Tt),h(1536,Ct),T("/dev/tty",1280),T("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var t=new Uint8Array(1),e=function(){return crypto.getRandomValues(t),t[0]};else try{var r=require("crypto");e=function(){return r.randomBytes(1)[0]}}catch(t){}e||(e=function(){H("random_device")}),L("random",e),L("urandom",e),b("/dev/shm"),b("/dev/shm/tmp")}(),b("/proc"),b("/proc/self"),b("/proc/self/fd"),A({oc:function(){var t=y("/proc/self","fd",16895,73);return t.kc={lookup:function(t,e){var r=Lt[+e];if(!r)throw new Ot(9);return(t={parent:null,oc:{Qc:"fake"},kc:{readlink:function(){return r.path}}}).parent=t}},t}},"/proc/self/fd");var Gt=require("fs"),Yt=require("path");It.Yc();var $t=D.asm({},{b:H,d:function(){},i:l,m:function(t,e){jt=e;try{var r=F(),n=z(),s=z(),c=z(),a=z();return-9007199254740992>=(t=4294967296*n+(s>>>0))||9007199254740992<=t?-75:(S(r,t,a),wt=[r.position>>>0,(yt=r.position,1<=+ot(yt)?0<yt?(0|ft(+lt(yt/4294967296),4294967295))>>>0:~~+ut((yt-+(~~yt>>>0))/4294967296)>>>0:0)],nt[c>>2]=wt[0],nt[c+4>>2]=wt[1],r.Bc&&0===t&&0===a&&(r.Bc=null),0)}catch(t){return void 0!==Kt&&t instanceof Ot||H(t),-t.mc}},l:function(t,e){jt=e;try{var r=F(),n=z();t:{var s=z();for(e=t=0;e<s;e++){var c=nt[n+(8*e+4)>>2],a=r,_=nt[n+8*e>>2],i=c,o=void 0;if(0>i||0>o)throw new Ot(22);if(null===a.fd)throw new Ot(9);if(1==(2097155&a.flags))throw new Ot(9);if(16384==(61440&a.node.mode))throw new Ot(21);if(!a.lc.read)throw new Ot(22);var u=void 0!==o;if(u){if(!a.seekable)throw new Ot(29)}else o=a.position;var l=a.lc.read(a,tt,_,i,o);if(u||(a.position+=l),0>(a=l)){var f=-1;break t}if(t+=a,a<c)break}f=t}return f}catch(t){return void 0!==Kt&&t instanceof Ot||H(t),-t.mc}},h:function(t,e){jt=e;try{var r=F(),n=z();t:{var s=z();for(e=t=0;e<s;e++){var c=r,a=nt[n+8*e>>2],_=nt[n+(8*e+4)>>2],i=void 0;if(0>_||0>i)throw new Ot(22);if(null===c.fd)throw new Ot(9);if(0==(2097155&c.flags))throw new Ot(9);if(16384==(61440&c.node.mode))throw new Ot(21);if(!c.lc.write)throw new Ot(22);1024&c.flags&&S(c,0,2);var o=void 0!==i;if(o){if(!c.seekable)throw new Ot(29)}else i=c.position;var u=c.lc.write(c,tt,a,_,i,void 0);o||(c.position+=u);try{c.path&&Bt.onWriteToFile&&Bt.onWriteToFile(c.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+c.path+"') threw an exception: "+t.message)}if(0>(c=u)){var l=-1;break t}t+=c}l=t}return l}catch(t){return void 0!==Kt&&t instanceof Ot||H(t),-t.mc}},g:function(t,e){jt=e;try{var r=F();switch(z()){case 0:var n=z();return 0>n?-22:I(r.path,r.flags,0,n).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:return n=z(),r.flags|=n,0;case 12:return n=z(),rt[n+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-22;case 9:return l(22),-1;default:return-22}}catch(t){return void 0!==Kt&&t instanceof Ot||H(t),-t.mc}},k:function(t,r){jt=r;try{var n=z();return I(n?e(et,n,void 0):"",z(),z()).fd}catch(t){return void 0!==Kt&&t instanceof Ot||H(t),-t.mc}},f:function(t,e){jt=e;try{var r=F(),n=z();switch(n){case 21509:case 21505:return r.tty?0:-25;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-25;case 21519:if(!r.tty)return-25;var s=z();return nt[s>>2]=0;case 21520:return r.tty?-22:-25;case 21531:if(t=z(),!r.lc.Tc)throw new Ot(25);return r.lc.Tc(r,n,t);case 21523:case 21524:return r.tty?0:-25;default:H("bad ioctl syscall "+n)}}catch(t){return void 0!==Kt&&t instanceof Ot||H(t),-t.mc}},e:function(t,e){jt=e;try{var r=F();if(null===r.fd)throw new Ot(9);r.Bc&&(r.Bc=null);try{r.lc.close&&r.lc.close(r)}catch(t){throw t}finally{Lt[r.fd]=null}return r.fd=null,0}catch(t){return void 0!==Kt&&t instanceof Ot||H(t),-t.mc}},c:function(){},r:function(){D.abort()},q:function(){return tt.length},p:function(t,e,r){et.set(et.subarray(e,e+r),t)},o:function(){M()},j:function(t){var e=Date.now();return nt[t>>2]=e/1e3|0,nt[t+4>>2]=e%1e3*1e3|0,0},n:M,a:71248},Q);D.asm=$t,D.___errno_location=function(){return D.asm.s.apply(null,arguments)},D._free=function(){return D.asm.t.apply(null,arguments)};var Wt=D._malloc=function(){return D.asm.u.apply(null,arguments)};if(D._vsc_buffer_bytes=function(){return D.asm.v.apply(null,arguments)},D._vsc_buffer_data=function(){return D.asm.w.apply(null,arguments)},D._vsc_buffer_delete=function(){return D.asm.x.apply(null,arguments)},D._vsc_buffer_len=function(){return D.asm.y.apply(null,arguments)},D._vsc_buffer_make_secure=function(){return D.asm.z.apply(null,arguments)},D._vsc_buffer_new=function(){return D.asm.A.apply(null,arguments)},D._vsc_buffer_new_with_capacity=function(){return D.asm.B.apply(null,arguments)},D._vsc_data=function(){return D.asm.C.apply(null,arguments)},D._vsc_data_bytes=function(){return D.asm.D.apply(null,arguments)},D._vsc_data_ctx_size=function(){return D.asm.E.apply(null,arguments)},D._vsc_data_len=function(){return D.asm.F.apply(null,arguments)},D._vscf_ctr_drbg_delete=function(){return D.asm.G.apply(null,arguments)},D._vscf_ctr_drbg_enable_prediction_resistance=function(){return D.asm.H.apply(null,arguments)},D._vscf_ctr_drbg_new=function(){return D.asm.I.apply(null,arguments)},D._vscf_ctr_drbg_random=function(){return D.asm.J.apply(null,arguments)},D._vscf_ctr_drbg_release_entropy_source=function(){return D.asm.K.apply(null,arguments)},D._vscf_ctr_drbg_reseed=function(){return D.asm.L.apply(null,arguments)},D._vscf_ctr_drbg_set_entropy_len=function(){return D.asm.M.apply(null,arguments)},D._vscf_ctr_drbg_set_reseed_interval=function(){return D.asm.N.apply(null,arguments)},D._vscf_ctr_drbg_setup_defaults=function(){return D.asm.O.apply(null,arguments)},D._vscf_ctr_drbg_shallow_copy=function(){return D.asm.P.apply(null,arguments)},D._vscf_ctr_drbg_use_entropy_source=function(){return D.asm.Q.apply(null,arguments)},D._vscf_error_ctx_size=function(){return D.asm.R.apply(null,arguments)},D._vscf_error_reset=function(){return D.asm.S.apply(null,arguments)},D._vscf_error_status=function(){return D.asm.T.apply(null,arguments)},D._vscf_hkdf_alg_id=function(){return D.asm.U.apply(null,arguments)},D._vscf_hkdf_delete=function(){return D.asm.V.apply(null,arguments)},D._vscf_hkdf_derive=function(){return D.asm.W.apply(null,arguments)},D._vscf_hkdf_new=function(){return D.asm.X.apply(null,arguments)},D._vscf_hkdf_produce_alg_info=function(){return D.asm.Y.apply(null,arguments)},D._vscf_hkdf_release_hash=function(){return D.asm.Z.apply(null,arguments)},D._vscf_hkdf_reset=function(){return D.asm._.apply(null,arguments)},D._vscf_hkdf_restore_alg_info=function(){return D.asm.$.apply(null,arguments)},D._vscf_hkdf_set_info=function(){return D.asm.aa.apply(null,arguments)},D._vscf_hkdf_shallow_copy=function(){return D.asm.ba.apply(null,arguments)},D._vscf_hkdf_use_hash=function(){return D.asm.ca.apply(null,arguments)},D._vscf_hmac_alg_id=function(){return D.asm.da.apply(null,arguments)},D._vscf_hmac_delete=function(){return D.asm.ea.apply(null,arguments)},D._vscf_hmac_digest_len=function(){return D.asm.fa.apply(null,arguments)},D._vscf_hmac_finish=function(){return D.asm.ga.apply(null,arguments)},D._vscf_hmac_mac=function(){return D.asm.ha.apply(null,arguments)},D._vscf_hmac_new=function(){return D.asm.ia.apply(null,arguments)},D._vscf_hmac_produce_alg_info=function(){return D.asm.ja.apply(null,arguments)},D._vscf_hmac_release_hash=function(){return D.asm.ka.apply(null,arguments)},D._vscf_hmac_reset=function(){return D.asm.la.apply(null,arguments)},D._vscf_hmac_restore_alg_info=function(){return D.asm.ma.apply(null,arguments)},D._vscf_hmac_shallow_copy=function(){return D.asm.na.apply(null,arguments)},D._vscf_hmac_start=function(){return D.asm.oa.apply(null,arguments)},D._vscf_hmac_update=function(){return D.asm.pa.apply(null,arguments)},D._vscf_hmac_use_hash=function(){return D.asm.qa.apply(null,arguments)},D._vscf_impl_api=function(){return D.asm.ra.apply(null,arguments)},D._vscf_impl_shallow_copy=function(){return D.asm.sa.apply(null,arguments)},D._vscf_impl_tag=function(){return D.asm.ta.apply(null,arguments)},D._vscf_sha512_alg_id=function(){return D.asm.ua.apply(null,arguments)},D._vscf_sha512_delete=function(){return D.asm.va.apply(null,arguments)},D._vscf_sha512_finish=function(){return D.asm.wa.apply(null,arguments)},D._vscf_sha512_hash=function(){return D.asm.xa.apply(null,arguments)},D._vscf_sha512_new=function(){return D.asm.ya.apply(null,arguments)},D._vscf_sha512_produce_alg_info=function(){return D.asm.za.apply(null,arguments)},D._vscf_sha512_restore_alg_info=function(){return D.asm.Aa.apply(null,arguments)},D._vscf_sha512_shallow_copy=function(){return D.asm.Ba.apply(null,arguments)},D._vscf_sha512_start=function(){return D.asm.Ca.apply(null,arguments)},D._vscf_sha512_update=function(){return D.asm.Da.apply(null,arguments)},D._vscr_error_ctx_size=function(){return D.asm.Ea.apply(null,arguments)},D._vscr_error_reset=function(){return D.asm.Fa.apply(null,arguments)},D._vscr_error_status=function(){return D.asm.Ga.apply(null,arguments)},D._vscr_ratchet_group_message_delete=function(){return D.asm.Ha.apply(null,arguments)},D._vscr_ratchet_group_message_deserialize=function(){return D.asm.Ia.apply(null,arguments)},D._vscr_ratchet_group_message_get_counter=function(){return D.asm.Ja.apply(null,arguments)},D._vscr_ratchet_group_message_get_epoch=function(){return D.asm.Ka.apply(null,arguments)},D._vscr_ratchet_group_message_get_sender_id=function(){return D.asm.La.apply(null,arguments)},D._vscr_ratchet_group_message_get_session_id=function(){return D.asm.Ma.apply(null,arguments)},D._vscr_ratchet_group_message_get_type=function(){return D.asm.Na.apply(null,arguments)},D._vscr_ratchet_group_message_new=function(){return D.asm.Oa.apply(null,arguments)},D._vscr_ratchet_group_message_serialize=function(){return D.asm.Pa.apply(null,arguments)},D._vscr_ratchet_group_message_serialize_len=function(){return D.asm.Qa.apply(null,arguments)},D._vscr_ratchet_group_message_shallow_copy=function(){return D.asm.Ra.apply(null,arguments)},D._vscr_ratchet_group_participants_ids_add_id=function(){return D.asm.Sa.apply(null,arguments)},D._vscr_ratchet_group_participants_ids_delete=function(){return D.asm.Ta.apply(null,arguments)},D._vscr_ratchet_group_participants_ids_new=function(){return D.asm.Ua.apply(null,arguments)},D._vscr_ratchet_group_participants_ids_new_size=function(){return D.asm.Va.apply(null,arguments)},D._vscr_ratchet_group_participants_ids_shallow_copy=function(){return D.asm.Wa.apply(null,arguments)},D._vscr_ratchet_group_participants_info_add_participant=function(){return D.asm.Xa.apply(null,arguments)},D._vscr_ratchet_group_participants_info_delete=function(){return D.asm.Ya.apply(null,arguments)},D._vscr_ratchet_group_participants_info_new=function(){return D.asm.Za.apply(null,arguments)},D._vscr_ratchet_group_participants_info_new_size=function(){return D.asm._a.apply(null,arguments)},D._vscr_ratchet_group_participants_info_shallow_copy=function(){return D.asm.$a.apply(null,arguments)},D._vscr_ratchet_group_session_create_group_ticket=function(){return D.asm.ab.apply(null,arguments)},D._vscr_ratchet_group_session_decrypt=function(){return D.asm.bb.apply(null,arguments)},D._vscr_ratchet_group_session_decrypt_len=function(){return D.asm.cb.apply(null,arguments)},D._vscr_ratchet_group_session_delete=function(){return D.asm.db.apply(null,arguments)},D._vscr_ratchet_group_session_deserialize=function(){return D.asm.eb.apply(null,arguments)},D._vscr_ratchet_group_session_encrypt=function(){return D.asm.fb.apply(null,arguments)},D._vscr_ratchet_group_session_get_current_epoch=function(){return D.asm.gb.apply(null,arguments)},D._vscr_ratchet_group_session_get_my_id=function(){return D.asm.hb.apply(null,arguments)},D._vscr_ratchet_group_session_get_participants_count=function(){return D.asm.ib.apply(null,arguments)},D._vscr_ratchet_group_session_get_session_id=function(){return D.asm.jb.apply(null,arguments)},D._vscr_ratchet_group_session_is_initialized=function(){return D.asm.kb.apply(null,arguments)},D._vscr_ratchet_group_session_is_my_id_set=function(){return D.asm.lb.apply(null,arguments)},D._vscr_ratchet_group_session_is_private_key_set=function(){return D.asm.mb.apply(null,arguments)},D._vscr_ratchet_group_session_new=function(){return D.asm.nb.apply(null,arguments)},D._vscr_ratchet_group_session_release_rng=function(){return D.asm.ob.apply(null,arguments)},D._vscr_ratchet_group_session_serialize=function(){return D.asm.pb.apply(null,arguments)},D._vscr_ratchet_group_session_set_my_id=function(){return D.asm.qb.apply(null,arguments)},D._vscr_ratchet_group_session_set_private_key=function(){return D.asm.rb.apply(null,arguments)},D._vscr_ratchet_group_session_setup_defaults=function(){return D.asm.sb.apply(null,arguments)},D._vscr_ratchet_group_session_setup_session_state=function(){return D.asm.tb.apply(null,arguments)},D._vscr_ratchet_group_session_shallow_copy=function(){return D.asm.ub.apply(null,arguments)},D._vscr_ratchet_group_session_update_session_state=function(){return D.asm.vb.apply(null,arguments)},D._vscr_ratchet_group_session_use_rng=function(){return D.asm.wb.apply(null,arguments)},D._vscr_ratchet_group_ticket_delete=function(){return D.asm.xb.apply(null,arguments)},D._vscr_ratchet_group_ticket_get_ticket_message=function(){return D.asm.yb.apply(null,arguments)},D._vscr_ratchet_group_ticket_new=function(){return D.asm.zb.apply(null,arguments)},D._vscr_ratchet_group_ticket_release_rng=function(){return D.asm.Ab.apply(null,arguments)},D._vscr_ratchet_group_ticket_setup_defaults=function(){return D.asm.Bb.apply(null,arguments)},D._vscr_ratchet_group_ticket_setup_ticket_as_new=function(){return D.asm.Cb.apply(null,arguments)},D._vscr_ratchet_group_ticket_shallow_copy=function(){return D.asm.Db.apply(null,arguments)},D._vscr_ratchet_group_ticket_use_rng=function(){return D.asm.Eb.apply(null,arguments)},D._vscr_ratchet_key_id_compute_public_key_id=function(){return D.asm.Fb.apply(null,arguments)},D._vscr_ratchet_key_id_delete=function(){return D.asm.Gb.apply(null,arguments)},D._vscr_ratchet_key_id_new=function(){return D.asm.Hb.apply(null,arguments)},D._vscr_ratchet_key_id_shallow_copy=function(){return D.asm.Ib.apply(null,arguments)},D._vscr_ratchet_message_delete=function(){return D.asm.Jb.apply(null,arguments)},D._vscr_ratchet_message_deserialize=function(){return D.asm.Kb.apply(null,arguments)},D._vscr_ratchet_message_get_counter=function(){return D.asm.Lb.apply(null,arguments)},D._vscr_ratchet_message_get_long_term_public_key=function(){return D.asm.Mb.apply(null,arguments)},D._vscr_ratchet_message_get_one_time_public_key=function(){return D.asm.Nb.apply(null,arguments)},D._vscr_ratchet_message_get_type=function(){return D.asm.Ob.apply(null,arguments)},D._vscr_ratchet_message_new=function(){return D.asm.Pb.apply(null,arguments)},D._vscr_ratchet_message_serialize=function(){return D.asm.Qb.apply(null,arguments)},D._vscr_ratchet_message_serialize_len=function(){return D.asm.Rb.apply(null,arguments)},D._vscr_ratchet_message_shallow_copy=function(){return D.asm.Sb.apply(null,arguments)},D._vscr_ratchet_session_decrypt=function(){return D.asm.Tb.apply(null,arguments)},D._vscr_ratchet_session_decrypt_len=function(){return D.asm.Ub.apply(null,arguments)},D._vscr_ratchet_session_delete=function(){return D.asm.Vb.apply(null,arguments)},D._vscr_ratchet_session_deserialize=function(){return D.asm.Wb.apply(null,arguments)},D._vscr_ratchet_session_encrypt=function(){return D.asm.Xb.apply(null,arguments)},D._vscr_ratchet_session_initiate=function(){return D.asm.Yb.apply(null,arguments)},D._vscr_ratchet_session_is_initiator=function(){return D.asm.Zb.apply(null,arguments)},D._vscr_ratchet_session_new=function(){return D.asm._b.apply(null,arguments)},D._vscr_ratchet_session_received_first_response=function(){return D.asm.$b.apply(null,arguments)},D._vscr_ratchet_session_receiver_has_one_time_public_key=function(){return D.asm.ac.apply(null,arguments)},D._vscr_ratchet_session_release_rng=function(){return D.asm.bc.apply(null,arguments)},D._vscr_ratchet_session_respond=function(){return D.asm.cc.apply(null,arguments)},D._vscr_ratchet_session_serialize=function(){return D.asm.dc.apply(null,arguments)},D._vscr_ratchet_session_setup_defaults=function(){return D.asm.ec.apply(null,arguments)},D._vscr_ratchet_session_shallow_copy=function(){return D.asm.fc.apply(null,arguments)},D._vscr_ratchet_session_use_rng=function(){return D.asm.gc.apply(null,arguments)},D.stackAlloc=function(){return D.asm.ic.apply(null,arguments)},D.dynCall_vi=function(){return D.asm.hc.apply(null,arguments)},D.asm=$t,D.then=function(t){if(D.calledRun)t(D);else{var e=D.onRuntimeInitialized;D.onRuntimeInitialized=function(){e&&e(),t(D)}}return D},B.prototype=Error(),B.prototype.constructor=B,pt=function t(){D.calledRun||O(),D.calledRun||(pt=t)},D.run=O,D.abort=H,D.preInit)for("function"==typeof D.preInit&&(D.preInit=[D.preInit]);0<D.preInit.length;)D.preInit.pop()();return D.noExitRuntime=!0,O(),t};function e(t,e){if(!("number"==typeof e||e instanceof Number))throw new TypeError(`'${t}' is not a number`);if(Number.isNaN(e))throw new TypeError(`'${t}' is NaN`);if(1/0===e)throw new TypeError(`'${t}' is Infinity`);if(-1/0===e)throw new TypeError(`'${t}' is -Infinity`)}function r(t,r){if(e(t,r),0==r)throw new TypeError(`'${t}' is NULL`)}var n={ensureNumber:e,ensureString:function(t,e){if(!("string"==typeof e||e instanceof String))throw new TypeError(`'${t}' is not a string`)},ensureBoolean:function(t,e){if("boolean"!=typeof e)throw new TypeError(`'${t}' is not a boolean`)},ensureByteArray:function(t,e){if(!(e instanceof Uint8Array))throw new TypeError(`'${t}' is not an Uint8Array`)},ensureClass:function(t,e,n){if(!(e instanceof n))throw new TypeError(`'${t}' is not an instance of the class ${n.name}`);r(t,e.ctxPtr)},ensureNotNull:r,ensureImplementInterface:function(t,e,n,s,c){if(r(t,e.ctxPtr),!c.isImplemented(e.ctxPtr,s))throw new TypeError(`'${t}' does not implement interface '${n}'`)}},s=(t,e)=>{class r{static get RESEED_INTERVAL(){return 1e4}get RESEED_INTERVAL(){return r.RESEED_INTERVAL}static get ENTROPY_LEN(){return 48}get ENTROPY_LEN(){return r.ENTROPY_LEN}constructor(e){this.name="CtrDrbg",this.ctxPtr=void 0===e?t._vscf_ctr_drbg_new():e}static newAndUseCContext(e){return new r(t._vscf_ctr_drbg_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ctr_drbg_delete(this.ctxPtr),this.ctxPtr=null)}set entropySource(r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureImplementInterface("entropySource",r,"Foundation.EntropySource",e.FoundationInterfaceTag.ENTROPY_SOURCE,e.FoundationInterface),t._vscf_ctr_drbg_release_entropy_source(this.ctxPtr),r=t._vscf_ctr_drbg_use_entropy_source(this.ctxPtr,r.ctxPtr),e.FoundationError.handleStatusCode(r)}random(r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureNumber("dataLen",r);const s=t._vsc_buffer_new_with_capacity(r);try{const n=t._vscf_ctr_drbg_random(this.ctxPtr,r,s);e.FoundationError.handleStatusCode(n);const c=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s);return t.HEAPU8.slice(c,c+a)}finally{t._vsc_buffer_delete(s)}}reseed(){n.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ctr_drbg_reseed(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setupDefaults(){n.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ctr_drbg_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}enablePredictionResistance(){n.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_ctr_drbg_enable_prediction_resistance(this.ctxPtr)}setReseedInterval(e){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureNumber("interval",e),t._vscf_ctr_drbg_set_reseed_interval(this.ctxPtr,e)}setEntropyLen(e){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureNumber("len",e),t._vscf_ctr_drbg_set_entropy_len(this.ctxPtr,e)}}return r},c=(t,e)=>{class r{constructor(e){this.name="Hmac",this.ctxPtr=void 0===e?t._vscf_hmac_new():e}static newAndUseCContext(e){return new r(t._vscf_hmac_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hmac_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hmac_release_hash(this.ctxPtr),t._vscf_hmac_use_hash(this.ctxPtr,r.ctxPtr)}algId(){return n.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_hmac_alg_id(this.ctxPtr)}produceAlgInfo(){let r;return n.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hmac_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),r=t._vscf_hmac_restore_alg_info(this.ctxPtr,r.ctxPtr),e.FoundationError.handleStatusCode(r)}digestLen(){return n.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_hmac_digest_len(this.ctxPtr)}mac(e,r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureByteArray("key",e),n.ensureByteArray("data",r);var s=e.length*e.BYTES_PER_ELEMENT;const c=t._malloc(s);t.HEAP8.set(e,c),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,c,s);var a=r.length*r.BYTES_PER_ELEMENT;s=t._malloc(a),t.HEAP8.set(r,s),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,s,a),a=this.digestLen(),a=t._vsc_buffer_new_with_capacity(a);try{t._vscf_hmac_mac(this.ctxPtr,e,r,a);const n=t._vsc_buffer_bytes(a),s=t._vsc_buffer_len(a);return t.HEAPU8.slice(n,n+s)}finally{t._free(c),t._free(e),t._free(n),t._free(r),t._vsc_buffer_delete(a)}}start(e){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureByteArray("key",e);const r=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(r);t.HEAP8.set(e,s),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,s,r);try{t._vscf_hmac_start(this.ctxPtr,e)}finally{t._free(s),t._free(e)}}update(e){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(r);t.HEAP8.set(e,s),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,s,r);try{t._vscf_hmac_update(this.ctxPtr,e)}finally{t._free(s),t._free(e)}}finish(){n.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=this.digestLen();e=t._vsc_buffer_new_with_capacity(e);try{t._vscf_hmac_finish(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}reset(){n.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_hmac_reset(this.ctxPtr)}}return r},a=(t,e)=>{class r{constructor(e){this.name="Hkdf",this.ctxPtr=void 0===e?t._vscf_hkdf_new():e}static newAndUseCContext(e){return new r(t._vscf_hkdf_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hkdf_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hkdf_release_hash(this.ctxPtr),t._vscf_hkdf_use_hash(this.ctxPtr,r.ctxPtr)}algId(){return n.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_hkdf_alg_id(this.ctxPtr)}produceAlgInfo(){let r;return n.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hkdf_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),r=t._vscf_hkdf_restore_alg_info(this.ctxPtr,r.ctxPtr),e.FoundationError.handleStatusCode(r)}derive(e,r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureByteArray("data",e),n.ensureNumber("keyLen",r);var s=e.length*e.BYTES_PER_ELEMENT;const c=t._malloc(s);t.HEAP8.set(e,c),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,c,s),s=t._vsc_buffer_new_with_capacity(r);try{t._vscf_hkdf_derive(this.ctxPtr,e,r,s);const n=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(n,n+c)}finally{t._free(c),t._free(e),t._vsc_buffer_delete(s)}}reset(e,r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureByteArray("salt",e),n.ensureNumber("iterationCount",r);const s=e.length*e.BYTES_PER_ELEMENT,c=t._malloc(s);t.HEAP8.set(e,c),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,c,s);try{t._vscf_hkdf_reset(this.ctxPtr,e,r)}finally{t._free(c),t._free(e)}}setInfo(e){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureByteArray("info",e);const r=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(r);t.HEAP8.set(e,s),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,s,r);try{t._vscf_hkdf_set_info(this.ctxPtr,e)}finally{t._free(s),t._free(e)}}}return r},_=(t,e)=>{class r{static get DIGEST_LEN(){return 64}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 128}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha512",this.ctxPtr=void 0===e?t._vscf_sha512_new():e}static newAndUseCContext(e){return new r(t._vscf_sha512_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_sha512_delete(this.ctxPtr),this.ctxPtr=null)}algId(){return n.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha512_alg_id(this.ctxPtr)}produceAlgInfo(){let r;return n.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha512_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),r=t._vscf_sha512_restore_alg_info(this.ctxPtr,r.ctxPtr),e.FoundationError.handleStatusCode(r)}hash(e){n.ensureByteArray("data",e);var r=e.length*e.BYTES_PER_ELEMENT;const s=t._malloc(r);t.HEAP8.set(e,s),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,s,r),r=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha512_hash(e,r);const n=t._vsc_buffer_bytes(r),s=t._vsc_buffer_len(r);return t.HEAPU8.slice(n,n+s)}finally{t._free(s),t._free(e),t._vsc_buffer_delete(r)}}start(){n.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha512_start(this.ctxPtr)}update(e){n.ensureNotNull("this.ctxPtr",this.ctxPtr),n.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(r);t.HEAP8.set(e,s),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,s,r);try{t._vscf_sha512_update(this.ctxPtr,e)}finally{t._free(s),t._free(e)}}finish(){n.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha512_finish(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}}return r},i=()=>{class t extends Error{constructor(t){super(t),this.name="RatchetError",this.message=t}static handleStatusCode(e){if(0!=e){if(-1==e)throw new t("Error during protobuf deserialization.");if(-2==e)throw new t("Bad message type.");if(-3==e)throw new t("AES error.");if(-4==e)throw new t("RNG failed.");if(-5==e)throw new t("Curve25519 error.");if(-6==e)throw new t("Curve25519 error.");if(-7==e)throw new t("Key deserialization failed.");if(-8==e)throw new t("Invalid key type.");if(-9==e)throw new t("Identity key doesn't match.");if(-10==e)throw new t("Message already decrypted.");if(-11==e)throw new t("Too many lost messages.");if(-12==e)throw new t("Sender chain missing.");if(-13==e)throw new t("Skipped message missing.");if(-14==e)throw new t("Session is not initialized.");if(-15==e)throw new t("Exceeded max plain text len.");if(-16==e)throw new t("Too many messages for sender chain.");if(-17==e)throw new t("Too many messages for receiver chain.");if(-18==e)throw new t("Invalid padding.");if(-19==e)throw new t("Too many participants.");if(-20==e)throw new t("Too few participants.");if(-21==e)throw new t("Sender not found.");if(-22==e)throw new t("Cannot decrypt own messages.");if(-23==e)throw new t("Invalid signature.");if(-24==e)throw new t("Cannot remove myself.");if(-25==e)throw new t("Epoch mismatch.");if(-26==e)throw new t("Epoch not found.");if(-27==e)throw new t("Session id mismatch.");if(-28==e)throw new t("Simultaneous group user operation.");if(-29==e)throw new t("Myself is included in info.");throw new t("Unexpected status code:"+e)}}}return t};function o(t,e){if(!("number"==typeof e||e instanceof Number))throw new TypeError(`'${t}' is not a number`);if(Number.isNaN(e))throw new TypeError(`'${t}' is NaN`);if(1/0===e)throw new TypeError(`'${t}' is Infinity`);if(-1/0===e)throw new TypeError(`'${t}' is -Infinity`)}function u(t,e){if(o(t,e),0==e)throw new TypeError(`'${t}' is NULL`)}var l={ensureNumber:o,ensureString:function(t,e){if(!("string"==typeof e||e instanceof String))throw new TypeError(`'${t}' is not a string`)},ensureBoolean:function(t,e){if("boolean"!=typeof e)throw new TypeError(`'${t}' is not a boolean`)},ensureByteArray:function(t,e){if(!(e instanceof Uint8Array))throw new TypeError(`'${t}' is not an Uint8Array`)},ensureClass:function(t,e,r){if(!(e instanceof r))throw new TypeError(`'${t}' is not an instance of the class ${r.name}`);u(t,e.ctxPtr)},ensureNotNull:u,ensureImplementInterface:function(t,e,r,n,s){if(u(t,e.ctxPtr),!s.isImplemented(e.ctxPtr,n))throw new TypeError(`'${t}' does not implement interface '${r}'`)}},f=(t,e)=>{class r{constructor(e){this.name="RatchetKeyId",this.ctxPtr=void 0===e?t._vscr_ratchet_key_id_new():e}static newAndUseCContext(e){return new r(t._vscr_ratchet_key_id_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_key_id_delete(this.ctxPtr),this.ctxPtr=null)}computePublicKeyId(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("publicKey",r);var n=r.length*r.BYTES_PER_ELEMENT;const s=t._malloc(n);t.HEAP8.set(r,s),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,s,n),n=t._vsc_buffer_new_with_capacity(e.RatchetCommon.KEY_ID_LEN);try{const s=t._vscr_ratchet_key_id_compute_public_key_id(this.ctxPtr,r,n);e.RatchetError.handleStatusCode(s);const c=t._vsc_buffer_bytes(n),a=t._vsc_buffer_len(n);return t.HEAPU8.slice(c,c+a)}finally{t._free(s),t._free(r),t._vsc_buffer_delete(n)}}}return r},h=(t,e)=>{class r{constructor(e){this.name="RatchetMessage",this.ctxPtr=void 0===e?t._vscr_ratchet_message_new():e}static newAndUseCContext(e){return new r(t._vscr_ratchet_message_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_message_delete(this.ctxPtr),this.ctxPtr=null)}getType(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_message_get_type(this.ctxPtr)}getCounter(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_message_get_counter(this.ctxPtr)}getLongTermPublicKey(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=t._vsc_data_ctx_size();e=t._malloc(e);try{t._vscr_ratchet_message_get_long_term_public_key(e,this.ctxPtr);const r=t._vsc_data_len(e),n=t._vsc_data_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._free(e)}}getOneTimePublicKey(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=t._vsc_data_ctx_size();e=t._malloc(e);try{t._vscr_ratchet_message_get_one_time_public_key(e,this.ctxPtr);const r=t._vsc_data_len(e),n=t._vsc_data_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._free(e)}}serializeLen(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_message_serialize_len(this.ctxPtr)}serialize(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=this.serializeLen();e=t._vsc_buffer_new_with_capacity(e);try{t._vscr_ratchet_message_serialize(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}static deserialize(n){l.ensureByteArray("input",n);var s=n.length*n.BYTES_PER_ELEMENT;const c=t._malloc(s);let a;t.HEAP8.set(n,c),n=t._vsc_data_ctx_size(),n=t._malloc(n),t._vsc_data(n,c,s),s=t._vscr_error_ctx_size(),s=t._malloc(s),t._vscr_error_reset(s);try{a=t._vscr_ratchet_message_deserialize(n,s);const c=t._vscr_error_status(s);return e.RatchetError.handleStatusCode(c),r.newAndTakeCContext(a)}finally{t._free(c),t._free(n),t._free(s)}}}return r},d=(t,e)=>{class r{constructor(e){this.name="RatchetSession",this.ctxPtr=void 0===e?t._vscr_ratchet_session_new():e}static newAndUseCContext(e){return new r(t._vscr_ratchet_session_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_session_delete(this.ctxPtr),this.ctxPtr=null)}set rng(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureImplementInterface("rng",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscr_ratchet_session_release_rng(this.ctxPtr),t._vscr_ratchet_session_use_rng(this.ctxPtr,r.ctxPtr)}setupDefaults(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscr_ratchet_session_setup_defaults(this.ctxPtr);e.RatchetError.handleStatusCode(r)}initiate(r,n,s,c){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("senderIdentityPrivateKey",r),l.ensureByteArray("receiverIdentityPublicKey",n),l.ensureByteArray("receiverLongTermPublicKey",s),l.ensureByteArray("receiverOneTimePublicKey",c);var a=r.length*r.BYTES_PER_ELEMENT;const _=t._malloc(a);t.HEAP8.set(r,_),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,_,a);var i=n.length*n.BYTES_PER_ELEMENT;a=t._malloc(i),t.HEAP8.set(n,a),n=t._vsc_data_ctx_size(),n=t._malloc(n),t._vsc_data(n,a,i);var o=s.length*s.BYTES_PER_ELEMENT;i=t._malloc(o),t.HEAP8.set(s,i),s=t._vsc_data_ctx_size(),s=t._malloc(s),t._vsc_data(s,i,o),o=c.length*c.BYTES_PER_ELEMENT;const u=t._malloc(o);t.HEAP8.set(c,u),c=t._vsc_data_ctx_size(),c=t._malloc(c),t._vsc_data(c,u,o);try{const a=t._vscr_ratchet_session_initiate(this.ctxPtr,r,n,s,c);e.RatchetError.handleStatusCode(a)}finally{t._free(_),t._free(r),t._free(a),t._free(n),t._free(i),t._free(s),t._free(u),t._free(c)}}respond(r,n,s,c,a){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("senderIdentityPublicKey",r),l.ensureByteArray("receiverIdentityPrivateKey",n),l.ensureByteArray("receiverLongTermPrivateKey",s),l.ensureByteArray("receiverOneTimePrivateKey",c),l.ensureClass("message",a,e.RatchetMessage);var _=r.length*r.BYTES_PER_ELEMENT;const i=t._malloc(_);t.HEAP8.set(r,i),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,i,_);var o=n.length*n.BYTES_PER_ELEMENT;_=t._malloc(o),t.HEAP8.set(n,_),n=t._vsc_data_ctx_size(),n=t._malloc(n),t._vsc_data(n,_,o);var u=s.length*s.BYTES_PER_ELEMENT;o=t._malloc(u),t.HEAP8.set(s,o),s=t._vsc_data_ctx_size(),s=t._malloc(s),t._vsc_data(s,o,u),u=c.length*c.BYTES_PER_ELEMENT;const f=t._malloc(u);t.HEAP8.set(c,f),c=t._vsc_data_ctx_size(),c=t._malloc(c),t._vsc_data(c,f,u);try{const _=t._vscr_ratchet_session_respond(this.ctxPtr,r,n,s,c,a.ctxPtr);e.RatchetError.handleStatusCode(_)}finally{t._free(i),t._free(r),t._free(_),t._free(n),t._free(o),t._free(s),t._free(f),t._free(c)}}isInitiator(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),!!t._vscr_ratchet_session_is_initiator(this.ctxPtr)}receivedFirstResponse(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),!!t._vscr_ratchet_session_received_first_response(this.ctxPtr)}receiverHasOneTimePublicKey(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),!!t._vscr_ratchet_session_receiver_has_one_time_public_key(this.ctxPtr)}encrypt(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("plainText",r);var n=r.length*r.BYTES_PER_ELEMENT;const s=t._malloc(n);let c;t.HEAP8.set(r,s),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,s,n),n=t._vscr_error_ctx_size(),n=t._malloc(n),t._vscr_error_reset(n);try{c=t._vscr_ratchet_session_encrypt(this.ctxPtr,r,n);const s=t._vscr_error_status(n);return e.RatchetError.handleStatusCode(s),e.RatchetMessage.newAndTakeCContext(c)}finally{t._free(s),t._free(r),t._free(n)}}decryptLen(r){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureClass("message",r,e.RatchetMessage),t._vscr_ratchet_session_decrypt_len(this.ctxPtr,r.ctxPtr)}decrypt(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureClass("message",r,e.RatchetMessage);var n=this.decryptLen(r);n=t._vsc_buffer_new_with_capacity(n);try{const s=t._vscr_ratchet_session_decrypt(this.ctxPtr,r.ctxPtr,n);e.RatchetError.handleStatusCode(s);const c=t._vsc_buffer_bytes(n),a=t._vsc_buffer_len(n);return t.HEAPU8.slice(c,c+a)}finally{t._vsc_buffer_delete(n)}}serialize(){let e;l.ensureNotNull("this.ctxPtr",this.ctxPtr);try{e=t._vscr_ratchet_session_serialize(this.ctxPtr);const r=t._vsc_buffer_len(e),n=t._vsc_buffer_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._vsc_buffer_delete(e)}}static deserialize(n){l.ensureByteArray("input",n);var s=n.length*n.BYTES_PER_ELEMENT;const c=t._malloc(s);let a;t.HEAP8.set(n,c),n=t._vsc_data_ctx_size(),n=t._malloc(n),t._vsc_data(n,c,s),s=t._vscr_error_ctx_size(),s=t._malloc(s),t._vscr_error_reset(s);try{a=t._vscr_ratchet_session_deserialize(n,s);const c=t._vscr_error_status(s);return e.RatchetError.handleStatusCode(c),r.newAndTakeCContext(a)}finally{t._free(c),t._free(n),t._free(s)}}}return r},p=(t,e)=>{class r{constructor(e){this.name="RatchetGroupParticipantsInfo",this.ctxPtr=void 0===e?t._vscr_ratchet_group_participants_info_new():e}static newAndUseCContext(e){return new r(t._vscr_ratchet_group_participants_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_group_participants_info_delete(this.ctxPtr),this.ctxPtr=null)}static newSize(e){return l.ensureNumber("size",e),e=t._vscr_ratchet_group_participants_info_new_size(e),r.newAndTakeCContext(e)}addParticipant(r,n){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("id",r),l.ensureByteArray("pubKey",n);var s=r.length*r.BYTES_PER_ELEMENT;const c=t._malloc(s);t.HEAP8.set(r,c),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,c,s),s=n.length*n.BYTES_PER_ELEMENT;const a=t._malloc(s);t.HEAP8.set(n,a),n=t._vsc_data_ctx_size(),n=t._malloc(n),t._vsc_data(n,a,s);try{const s=t._vscr_ratchet_group_participants_info_add_participant(this.ctxPtr,r,n);e.RatchetError.handleStatusCode(s)}finally{t._free(c),t._free(r),t._free(a),t._free(n)}}}return r},m=(t,e)=>{class r{constructor(e){this.name="RatchetGroupMessage",this.ctxPtr=void 0===e?t._vscr_ratchet_group_message_new():e}static newAndUseCContext(e){return new r(t._vscr_ratchet_group_message_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_group_message_delete(this.ctxPtr),this.ctxPtr=null)}getType(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_group_message_get_type(this.ctxPtr)}getSessionId(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=t._vsc_data_ctx_size();e=t._malloc(e);try{t._vscr_ratchet_group_message_get_session_id(e,this.ctxPtr);const r=t._vsc_data_len(e),n=t._vsc_data_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._free(e)}}getSenderId(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=t._vsc_data_ctx_size();e=t._malloc(e);try{t._vscr_ratchet_group_message_get_sender_id(e,this.ctxPtr);const r=t._vsc_data_len(e),n=t._vsc_data_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._free(e)}}getCounter(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_group_message_get_counter(this.ctxPtr)}getEpoch(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_group_message_get_epoch(this.ctxPtr)}serializeLen(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_group_message_serialize_len(this.ctxPtr)}serialize(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=this.serializeLen();e=t._vsc_buffer_new_with_capacity(e);try{t._vscr_ratchet_group_message_serialize(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}static deserialize(n){l.ensureByteArray("input",n);var s=n.length*n.BYTES_PER_ELEMENT;const c=t._malloc(s);let a;t.HEAP8.set(n,c),n=t._vsc_data_ctx_size(),n=t._malloc(n),t._vsc_data(n,c,s),s=t._vscr_error_ctx_size(),s=t._malloc(s),t._vscr_error_reset(s);try{a=t._vscr_ratchet_group_message_deserialize(n,s);const c=t._vscr_error_status(s);return e.RatchetError.handleStatusCode(c),r.newAndTakeCContext(a)}finally{t._free(c),t._free(n),t._free(s)}}}return r},v=(t,e)=>{class r{constructor(e){this.name="RatchetGroupTicket",this.ctxPtr=void 0===e?t._vscr_ratchet_group_ticket_new():e}static newAndUseCContext(e){return new r(t._vscr_ratchet_group_ticket_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_group_ticket_delete(this.ctxPtr),this.ctxPtr=null)}set rng(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureImplementInterface("rng",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscr_ratchet_group_ticket_release_rng(this.ctxPtr),t._vscr_ratchet_group_ticket_use_rng(this.ctxPtr,r.ctxPtr)}setupDefaults(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscr_ratchet_group_ticket_setup_defaults(this.ctxPtr);e.RatchetError.handleStatusCode(r)}setupTicketAsNew(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("sessionId",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,s,n);try{const n=t._vscr_ratchet_group_ticket_setup_ticket_as_new(this.ctxPtr,r);e.RatchetError.handleStatusCode(n)}finally{t._free(s),t._free(r)}}getTicketMessage(){let r;return l.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscr_ratchet_group_ticket_get_ticket_message(this.ctxPtr),e.RatchetGroupMessage.newAndUseCContext(r)}}return r},y=t=>{class e{constructor(e){this.name="RatchetGroupParticipantsIds",this.ctxPtr=void 0===e?t._vscr_ratchet_group_participants_ids_new():e}static newAndUseCContext(r){return new e(t._vscr_ratchet_group_participants_ids_shallow_copy(r))}static newAndTakeCContext(t){return new e(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_group_participants_ids_delete(this.ctxPtr),this.ctxPtr=null)}static newSize(r){return l.ensureNumber("size",r),r=t._vscr_ratchet_group_participants_ids_new_size(r),e.newAndTakeCContext(r)}addId(e){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("id",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,n,r);try{t._vscr_ratchet_group_participants_ids_add_id(this.ctxPtr,e)}finally{t._free(n),t._free(e)}}}return e},w=(t,e)=>{class r{constructor(e){this.name="RatchetGroupSession",this.ctxPtr=void 0===e?t._vscr_ratchet_group_session_new():e}static newAndUseCContext(e){return new r(t._vscr_ratchet_group_session_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscr_ratchet_group_session_delete(this.ctxPtr),this.ctxPtr=null)}set rng(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureImplementInterface("rng",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscr_ratchet_group_session_release_rng(this.ctxPtr),t._vscr_ratchet_group_session_use_rng(this.ctxPtr,r.ctxPtr)}isInitialized(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),!!t._vscr_ratchet_group_session_is_initialized(this.ctxPtr)}isPrivateKeySet(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),!!t._vscr_ratchet_group_session_is_private_key_set(this.ctxPtr)}isMyIdSet(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),!!t._vscr_ratchet_group_session_is_my_id_set(this.ctxPtr)}getCurrentEpoch(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_group_session_get_current_epoch(this.ctxPtr)}setupDefaults(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscr_ratchet_group_session_setup_defaults(this.ctxPtr);e.RatchetError.handleStatusCode(r)}setPrivateKey(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("myPrivateKey",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,s,n);try{const n=t._vscr_ratchet_group_session_set_private_key(this.ctxPtr,r);e.RatchetError.handleStatusCode(n)}finally{t._free(s),t._free(r)}}setMyId(e){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("myId",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n),e=t._vsc_data_ctx_size(),e=t._malloc(e),t._vsc_data(e,n,r);try{t._vscr_ratchet_group_session_set_my_id(this.ctxPtr,e)}finally{t._free(n),t._free(e)}}getMyId(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=t._vsc_data_ctx_size();e=t._malloc(e);try{t._vscr_ratchet_group_session_get_my_id(e,this.ctxPtr);const r=t._vsc_data_len(e),n=t._vsc_data_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._free(e)}}getSessionId(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var e=t._vsc_data_ctx_size();e=t._malloc(e);try{t._vscr_ratchet_group_session_get_session_id(e,this.ctxPtr);const r=t._vsc_data_len(e),n=t._vsc_data_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._free(e)}}getParticipantsCount(){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscr_ratchet_group_session_get_participants_count(this.ctxPtr)}setupSessionState(r,n){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureClass("message",r,e.RatchetGroupMessage),l.ensureClass("participants",n,e.RatchetGroupParticipantsInfo),r=t._vscr_ratchet_group_session_setup_session_state(this.ctxPtr,r.ctxPtr,n.ctxPtr),e.RatchetError.handleStatusCode(r)}updateSessionState(r,n,s){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureClass("message",r,e.RatchetGroupMessage),l.ensureClass("addParticipants",n,e.RatchetGroupParticipantsInfo),l.ensureClass("removeParticipants",s,e.RatchetGroupParticipantsIds),r=t._vscr_ratchet_group_session_update_session_state(this.ctxPtr,r.ctxPtr,n.ctxPtr,s.ctxPtr),e.RatchetError.handleStatusCode(r)}encrypt(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureByteArray("plainText",r);var n=r.length*r.BYTES_PER_ELEMENT;const s=t._malloc(n);let c;t.HEAP8.set(r,s),r=t._vsc_data_ctx_size(),r=t._malloc(r),t._vsc_data(r,s,n),n=t._vscr_error_ctx_size(),n=t._malloc(n),t._vscr_error_reset(n);try{c=t._vscr_ratchet_group_session_encrypt(this.ctxPtr,r,n);const s=t._vscr_error_status(n);return e.RatchetError.handleStatusCode(s),e.RatchetGroupMessage.newAndTakeCContext(c)}finally{t._free(s),t._free(r),t._free(n)}}decryptLen(r){return l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureClass("message",r,e.RatchetGroupMessage),t._vscr_ratchet_group_session_decrypt_len(this.ctxPtr,r.ctxPtr)}decrypt(r){l.ensureNotNull("this.ctxPtr",this.ctxPtr),l.ensureClass("message",r,e.RatchetGroupMessage);var n=this.decryptLen(r);n=t._vsc_buffer_new_with_capacity(n);try{const s=t._vscr_ratchet_group_session_decrypt(this.ctxPtr,r.ctxPtr,n);e.RatchetError.handleStatusCode(s);const c=t._vsc_buffer_bytes(n),a=t._vsc_buffer_len(n);return t.HEAPU8.slice(c,c+a)}finally{t._vsc_buffer_delete(n)}}serialize(){let e;l.ensureNotNull("this.ctxPtr",this.ctxPtr);try{e=t._vscr_ratchet_group_session_serialize(this.ctxPtr);const r=t._vsc_buffer_len(e),n=t._vsc_buffer_bytes(e);return t.HEAPU8.slice(n,n+r)}finally{t._vsc_buffer_delete(e)}}static deserialize(n){l.ensureByteArray("input",n);var s=n.length*n.BYTES_PER_ELEMENT;const c=t._malloc(s);let a;t.HEAP8.set(n,c),n=t._vsc_data_ctx_size(),n=t._malloc(n),t._vsc_data(n,c,s),s=t._vscr_error_ctx_size(),s=t._malloc(s),t._vscr_error_reset(s);try{a=t._vscr_ratchet_group_session_deserialize(n,s);const c=t._vscr_error_status(s);return e.RatchetError.handleStatusCode(c),r.newAndTakeCContext(a)}finally{t._free(c),t._free(n),t._free(s)}}createGroupTicket(){l.ensureNotNull("this.ctxPtr",this.ctxPtr);var r=t._vscr_error_ctx_size();let n;r=t._malloc(r),t._vscr_error_reset(r);try{n=t._vscr_ratchet_group_session_create_group_ticket(this.ctxPtr,r);const s=t._vscr_error_status(r);return e.RatchetError.handleStatusCode(s),e.RatchetGroupTicket.newAndTakeCContext(n)}finally{t._free(r)}}}return r};export default()=>{const e=new t;return new Promise((t,r)=>{e.onRuntimeInitialized=()=>{const r={};r.FoundationInterface=((t,e)=>{return class{static newAndTakeCContext(r){const n=t._vscf_impl_tag(r);switch(n){case e.FoundationImplTag.SHA224:return e.Sha224.newAndTakeCContext(r);case e.FoundationImplTag.SHA256:return e.Sha256.newAndTakeCContext(r);case e.FoundationImplTag.SHA384:return e.Sha384.newAndTakeCContext(r);case e.FoundationImplTag.SHA512:return e.Sha512.newAndTakeCContext(r);case e.FoundationImplTag.AES256_GCM:return e.Aes256Gcm.newAndTakeCContext(r);case e.FoundationImplTag.AES256_CBC:return e.Aes256Cbc.newAndTakeCContext(r);case e.FoundationImplTag.ASN1RD:return e.Asn1rd.newAndTakeCContext(r);case e.FoundationImplTag.ASN1WR:return e.Asn1wr.newAndTakeCContext(r);case e.FoundationImplTag.RSA_PUBLIC_KEY:return e.RsaPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.RSA_PRIVATE_KEY:return e.RsaPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.RSA:return e.Rsa.newAndTakeCContext(r);case e.FoundationImplTag.ECC_PUBLIC_KEY:return e.EccPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.ECC_PRIVATE_KEY:return e.EccPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.ECC:return e.Ecc.newAndTakeCContext(r);case e.FoundationImplTag.ENTROPY_ACCUMULATOR:return e.EntropyAccumulator.newAndTakeCContext(r);case e.FoundationImplTag.CTR_DRBG:return e.CtrDrbg.newAndTakeCContext(r);case e.FoundationImplTag.HMAC:return e.Hmac.newAndTakeCContext(r);case e.FoundationImplTag.HKDF:return e.Hkdf.newAndTakeCContext(r);case e.FoundationImplTag.KDF1:return e.Kdf1.newAndTakeCContext(r);case e.FoundationImplTag.KDF2:return e.Kdf2.newAndTakeCContext(r);case e.FoundationImplTag.FAKE_RANDOM:return e.FakeRandom.newAndTakeCContext(r);case e.FoundationImplTag.PKCS5_PBKDF2:return e.Pkcs5Pbkdf2.newAndTakeCContext(r);case e.FoundationImplTag.PKCS5_PBES2:return e.Pkcs5Pbes2.newAndTakeCContext(r);case e.FoundationImplTag.SEED_ENTROPY_SOURCE:return e.SeedEntropySource.newAndTakeCContext(r);case e.FoundationImplTag.KEY_MATERIAL_RNG:return e.KeyMaterialRng.newAndTakeCContext(r);case e.FoundationImplTag.RAW_PUBLIC_KEY:return e.RawPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.RAW_PRIVATE_KEY:return e.RawPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.PKCS8_SERIALIZER:return e.Pkcs8Serializer.newAndTakeCContext(r);case e.FoundationImplTag.SEC1_SERIALIZER:return e.Sec1Serializer.newAndTakeCContext(r);case e.FoundationImplTag.KEY_ASN1_SERIALIZER:return e.KeyAsn1Serializer.newAndTakeCContext(r);case e.FoundationImplTag.KEY_ASN1_DESERIALIZER:return e.KeyAsn1Deserializer.newAndTakeCContext(r);case e.FoundationImplTag.ED25519:return e.Ed25519.newAndTakeCContext(r);case e.FoundationImplTag.CURVE25519:return e.Curve25519.newAndTakeCContext(r);case e.FoundationImplTag.SIMPLE_ALG_INFO:return e.SimpleAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.HASH_BASED_ALG_INFO:return e.HashBasedAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.CIPHER_ALG_INFO:return e.CipherAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.SALTED_KDF_ALG_INFO:return e.SaltedKdfAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.PBE_ALG_INFO:return e.PbeAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.ECC_ALG_INFO:return e.EccAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.ALG_INFO_DER_SERIALIZER:return e.AlgInfoDerSerializer.newAndTakeCContext(r);case e.FoundationImplTag.ALG_INFO_DER_DESERIALIZER:return e.AlgInfoDerDeserializer.newAndTakeCContext(r);case e.FoundationImplTag.MESSAGE_INFO_DER_SERIALIZER:return e.MessageInfoDerSerializer.newAndTakeCContext(r);default:throw Error("Unexpected implementation tag found: "+n)}}static newAndUseCContext(r){return new e.FoundationInterface.newAndTakeCContext(t._vscf_impl_shallow_copy(r))}static isImplemented(e,r){return 0!=t._vscf_impl_api(e,r)}}})(e,r),r.CtrDrbg=s(e,r),r.Hmac=c(e,r),r.Hkdf=a(e,r),r.Sha512=_(e,r),r.RatchetError=i(),r.MsgType=Object.freeze({REGULAR:0,PREKEY:1}),r.GroupMsgType=Object.freeze({GROUP_INFO:0,REGULAR:1}),r.RatchetCommon=(()=>{class t{static get MAX_PLAIN_TEXT_LEN(){return 3e4}get MAX_PLAIN_TEXT_LEN(){return t.MAX_PLAIN_TEXT_LEN}static get MAX_MESSAGE_LEN(){return 32975}get MAX_MESSAGE_LEN(){return t.MAX_MESSAGE_LEN}static get KEY_ID_LEN(){return 8}get KEY_ID_LEN(){return t.KEY_ID_LEN}static get PARTICIPANT_ID_LEN(){return 32}get PARTICIPANT_ID_LEN(){return t.PARTICIPANT_ID_LEN}static get SESSION_ID_LEN(){return 32}get SESSION_ID_LEN(){return t.SESSION_ID_LEN}static get MAX_PARTICIPANTS_COUNT(){return 100}get MAX_PARTICIPANTS_COUNT(){return t.MAX_PARTICIPANTS_COUNT}static get MIN_PARTICIPANTS_COUNT(){return 2}get MIN_PARTICIPANTS_COUNT(){return t.MIN_PARTICIPANTS_COUNT}static get MAX_GROUP_MESSAGE_LEN(){return 32952}get MAX_GROUP_MESSAGE_LEN(){return t.MAX_GROUP_MESSAGE_LEN}}return t})(),r.RatchetKeyId=f(e,r),r.RatchetMessage=h(e,r),r.RatchetSession=d(e,r),r.RatchetGroupParticipantsInfo=p(e,r),r.RatchetGroupMessage=m(e,r),r.RatchetGroupTicket=v(e,r),r.RatchetGroupParticipantsIds=y(e),r.RatchetGroupSession=w(e,r),t(r)},e.onAbort=t=>{r(Error(t))}})};
